"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1795],{61795:($,T,l)=>{l.r(T),l.d(T,{AdminArticleCategoriesModule:()=>ee});var c=l(60177),O=l(52168),b=l(85623),R=l(79601),P=l(51809),w=l(49894),F=l(5964),a=l(54438),L=l(89417),_=l(59052),x=l(72558),u=l(7886),B=l(81953),M=l(29200),K=l(71356);function A(y,ne){if(1&y&&(a.j41(0,"p",15),a.EFF(1),a.k0s()),2&y){const m=a.XpG();a.R7$(),a.SpI(" ",m.errorMessage," ")}}const z=[{path:"",component:(()=>{let y=class te{constructor(m,h,d){this._formBuilder=m,this._categoriesService=h,this._hotToastrService=d,this.b2bNgxInputThemeEnum=R.Q,this.b2bNgxButtonThemeEnum=P.a,this.formGroup=this.getFormGroup(),this.level1Categories=[],this.level2Categories=[],this.level3Categories=[],this.errorMessage=""}setLevel1Categories(){this._categoriesService.getWikiCategories().pipe((0,w.s)(this)).subscribe(m=>{this.level1Categories=m})}setLevel2Categories(){this.formGroup.get("selectLevel1Category").valueChanges.pipe((0,w.s)(this),(0,F.p)(m=>!!m)).subscribe(m=>{this.level2Categories=this.level1Categories.find(h=>h._id===m)?.children})}ngOnInit(){this.setLevel1Categories(),this.setLevel2Categories()}createCategory(){const m=this.formGroup.get("selectLevel1Category").value,h=this.formGroup.get("inputLevel1Category").value,d=this.formGroup.get("inputLevel2Category").value;this.errorMessage="";let D="",G="";if(h&&d)D={name:h},G={name:d};else{if(!m||!d)return void(this.errorMessage="To create a category you have to fill all fields; Each level have to be filled with select (already exist category) or with name (new one); You cant select 2 level category");D={id:m},G={name:d}}this._categoriesService.createWikiCategory(D,G).pipe((0,w.s)(this),this._hotToastrService.observe({loading:"Category is creating...",success:"Category successfully created",error:"Categories creating failed"})).subscribe()}updateCategory(){const m=this.formGroup.get("selectLevel1Category").value,h=this.formGroup.get("selectLevel2Category").value,d=this.formGroup.get("inputLevel1Category").value,D=this.formGroup.get("inputLevel2Category").value,G=this.formGroup.get("toggleLevel1Category").value,X=this.formGroup.get("toggleLevel2Category").value;this.errorMessage="";let V="",W="",H="";if(m&&(d||"boolean"==typeof G))V=m,W=d,H=G;else{if(!h||!D&&"boolean"!=typeof X)return void(this.errorMessage="To update a category you have to select it and enter a new name");V=h,W=D,H=X}this._categoriesService.updateWikiCategory(V,W,H).pipe((0,w.s)(this),this._hotToastrService.observe({loading:"Category is updating...",success:"Category successfully updated",error:"Categories updating failed"})).subscribe()}getFormGroup(){return this._formBuilder.group({selectLevel1Category:[null],selectLevel2Category:[null],inputLevel1Category:[null],inputLevel2Category:[null],toggleLevel1Category:[!0],toggleLevel2Category:[!0]})}static#e=this.\u0275fac=function(h){return new(h||te)(a.rXU(L.ok),a.rXU(_.w),a.rXU(x.U_))};static#t=this.\u0275cmp=a.VBU({type:te,selectors:[["b2b-admin-article"]],decls:24,vars:8,consts:[[1,"admin-article-categories"],[1,"admin-article-categories__create"],[1,"admin-article-categories__create-title"],[1,"admin-article-categories__create-sub-title"],[1,"admin-article-categories__create-form",3,"formGroup"],["formControlName","selectLevel1Category","bindValue","_id","bindLabel","name","placeholder","Select level 1 category",1,"admin-article-categories__create-select",3,"options"],["formControlName","selectLevel2Category","bindValue","_id","bindLabel","name","placeholder","Select level 2 category",1,"admin-article-categories__create-select",3,"options"],[1,"admin-article-categories__create-divider"],["formControlName","inputLevel1Category","placeholder","Create / Update level 1 category",1,"admin-article-categories__create-input",3,"theme"],["formControlName","inputLevel2Category","placeholder","Create / Update level 2 category",1,"admin-article-categories__create-input",3,"theme"],["formControlName","toggleLevel1Category",1,"admin-article-categories__create-toggle"],["formControlName","toggleLevel2Category",1,"admin-article-categories__create-toggle"],["b2bNgxButton","","type","button",1,"admin-article-categories__create-button",3,"click","theme"],["b2bNgxButton","","type","button",1,"admin-article-categories__update-button",3,"click","theme"],["class","admin-article-categories__error-message",4,"ngIf"],[1,"admin-article-categories__error-message"]],template:function(h,d){1&h&&(a.j41(0,"div",0)(1,"div",1)(2,"p",2),a.EFF(3," Create / Update category "),a.k0s(),a.j41(4,"p",3),a.EFF(5," To create a category you have to fill all levels "),a.k0s(),a.j41(6,"p",3),a.EFF(7," To update a category you have to select it and enter the new name "),a.k0s(),a.j41(8,"form",4),a.nrm(9,"b2b-ngx-select",5)(10,"b2b-ngx-select",6),a.j41(11,"p",7),a.EFF(12,"OR"),a.k0s(),a.j41(13,"p",7),a.EFF(14,"OR"),a.k0s(),a.nrm(15,"b2b-ngx-input",8)(16,"b2b-ngx-input",9)(17,"b2b-ngx-toggle",10)(18,"b2b-ngx-toggle",11),a.j41(19,"button",12),a.bIt("click",function(){return d.createCategory()}),a.EFF(20," Create category "),a.k0s(),a.j41(21,"button",13),a.bIt("click",function(){return d.updateCategory()}),a.EFF(22," Update category "),a.k0s()(),a.DNE(23,A,2,1,"p",14),a.k0s()()),2&h&&(a.R7$(8),a.Y8G("formGroup",d.formGroup),a.R7$(),a.Y8G("options",d.level1Categories),a.R7$(),a.Y8G("options",d.level2Categories),a.R7$(5),a.Y8G("theme",d.b2bNgxInputThemeEnum.BACKGROUND_WHITE),a.R7$(),a.Y8G("theme",d.b2bNgxInputThemeEnum.BACKGROUND_WHITE),a.R7$(3),a.Y8G("theme",d.b2bNgxButtonThemeEnum.BACKGROUND_BLUE),a.R7$(2),a.Y8G("theme",d.b2bNgxButtonThemeEnum.BACKGROUND_WHITE),a.R7$(2),a.Y8G("ngIf",d.errorMessage))},dependencies:[c.bT,u.f,B.Z,M.P,K.b,L.qT,L.BC,L.cb,L.j4,L.JD],styles:[".admin-article-categories[_ngcontent-%COMP%]{padding:30px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-sub-title[_ngcontent-%COMP%]{margin-top:5px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:50px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-input[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-select[_ngcontent-%COMP%]{width:49%}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-divider.admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-input.admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-toggle.admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-select.admin-article-categories__create-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;font-weight:700}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-divider.admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-input.admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-toggle.admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-select.admin-article-categories__create-toggle[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__update-button[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-button[_ngcontent-%COMP%]{width:49%;padding:15px 0;margin-top:50px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__update[_ngcontent-%COMP%]{margin-top:50px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__update[_ngcontent-%COMP%]   .admin-article-categories__update-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__error-message[_ngcontent-%COMP%]{text-align:center;margin-top:30px;color:#d0021b}"],changeDetection:0})};return y=(0,b.Cg)([(0,w.d)()],y),y})()}];let J=(()=>{class y{static#e=this.\u0275fac=function(h){return new(h||y)};static#t=this.\u0275mod=a.$C({type:y});static#n=this.\u0275inj=a.G2t({imports:[O.iI.forChild(z),O.iI]})}return y})();var Z=l(42944),U=l(41820),Q=l(99348),q=l(45572);let ee=(()=>{class y{static#e=this.\u0275fac=function(h){return new(h||y)};static#t=this.\u0275mod=a.$C({type:y});static#n=this.\u0275inj=a.G2t({imports:[c.MD,Z.E,U.i,Q._,q.Y,L.X1,J]})}return y})()},7886:($,T,l)=>{l.d(T,{f:()=>F});var c=l(54438),O=l(81258),b=l(89417),R=l(79601),P=l(31586),w=l(36529);let F=(()=>{class a{constructor(_){this._changeDetectionRef=_,this.label="",this.errors="",this.version=P.v.B2B,this.NgxInputVersionEnum=P.v,this.type="input",this.placeholder="",this.theme=R.Q.BACKGROUND_GRAY,this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new b.MJ(""),this.id=(0,O.Z)(),this.id="id"}get inputClass(){return this.version===P.v.B2B?"b2b-ngx-input":"globy-ngx-input"}ngOnChanges(_){_.errors&&this.formControl.setErrors(_.errors)}ngOnInit(){this.subscribeOnValueChanges()}validate(){return this.formControl.errors}registerOnChange(_){this.onChange=_}registerOnTouched(_){this.onTouched=_}writeValue(_){this.formControl.setValue(_)}setDisabledState(_){_?this.formControl.disable():this.formControl.enable()}subscribeOnValueChanges(){this.formControl.valueChanges.pipe().subscribe(_=>{this.onChange(_)})}static#e=this.\u0275fac=function(x){return new(x||a)(c.rXU(c.gRc))};static#t=this.\u0275cmp=c.VBU({type:a,selectors:[["b2b-ngx-input"]],inputs:{type:"type",placeholder:"placeholder",theme:"theme",label:"label",errors:"errors",version:"version"},features:[c.Jv_([{provide:b.kq,useExisting:(0,c.Rfq)(()=>a),multi:!0},{provide:b.cz,useExisting:(0,c.Rfq)(()=>a),multi:!0}]),c.OA$],decls:1,vars:7,consts:[["b2bNgxInput","",3,"theme","formControl","type","id","placeholder"]],template:function(x,u){1&x&&c.nrm(0,"input",0),2&x&&(c.HbH(u.inputClass),c.Y8G("theme",u.theme)("formControl",u.formControl)("type",u.type)("id",u.id)("placeholder",u.placeholder))},dependencies:[b.me,b.BC,b.l_,w.b],changeDetection:0})}return a})()},71356:($,T,l)=>{l.d(T,{b:()=>L});var c=l(54438),O=l(89417),b=l(81258),R=l(60177);function P(_,x){1&_&&(c.j41(0,"span",6),c.EFF(1,"Visible"),c.k0s())}function w(_,x){1&_&&(c.j41(0,"span",7),c.EFF(1,"Hidden"),c.k0s())}function F(_,x){if(1&_&&(c.j41(0,"span",7),c.EFF(1),c.k0s()),2&_){const u=c.XpG(2);c.R7$(),c.JRh(u.customLabel)}}function a(_,x){if(1&_&&(c.qex(0),c.DNE(1,P,2,0,"span",4)(2,w,2,0,"span",5)(3,F,2,1,"span",5),c.bVm()),2&_){const u=c.XpG();c.R7$(),c.Y8G("ngIf",!u.customLabel&&u.formControl.value),c.R7$(),c.Y8G("ngIf",!u.customLabel&&!u.formControl.value),c.R7$(),c.Y8G("ngIf",u.customLabel)}}let L=(()=>{class _{constructor(u){this._changeDetectorRef=u,this.placeholder="",this.errors={},this.customLabel="",this.emptyLabel=!1,this.subcategories=!1,this.toggled=!1,this.change=new c.bkB,this.type="checkbox",this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new O.MJ(!1),this.id=(0,b.Z)()}get error(){if(!this.errors)return"";const u=Object.keys(this.errors)[0];return this.errors[u]}ngOnInit(){this.subscribeOnValueChanges()}ngOnChanges(u){u.errors&&this.formControl.setErrors(u.errors.currentValue)}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe().subscribe(u=>{this.onChange(u)})}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}writeValue(u){this.formControl.setValue(u,{emitEvent:!1}),this.toggled=u,this._changeDetectorRef.detectChanges()}setDisabledState(u){u?this.formControl.disable():this.formControl.enable()}emitToggleChange(){this.toggled=!this.toggled,this.change.emit()}static#e=this.\u0275fac=function(B){return new(B||_)(c.rXU(c.gRc))};static#t=this.\u0275cmp=c.VBU({type:_,selectors:[["b2b-ngx-toggle"]],inputs:{placeholder:"placeholder",errors:"errors",customLabel:"customLabel",emptyLabel:"emptyLabel",subcategories:"subcategories",toggled:"toggled"},outputs:{change:"change"},features:[c.Jv_([{provide:O.kq,useExisting:(0,c.Rfq)(()=>_),multi:!0},{provide:O.cz,useExisting:(0,c.Rfq)(()=>_),multi:!0}]),c.OA$],decls:4,vars:5,consts:[[1,"ngx-toggle"],[4,"ngIf"],["type","checkbox",1,"ngx-toggle-input",3,"click","ngModelChange","formControl","ngModel"],[1,"ngx-toggle-custom-input"],["class","ngx-toggle-label-visible",4,"ngIf"],["class","ngx-toggle-label-hidden",4,"ngIf"],[1,"ngx-toggle-label-visible"],[1,"ngx-toggle-label-hidden"]],template:function(B,M){1&B&&(c.j41(0,"label",0),c.DNE(1,a,4,3,"ng-container",1),c.j41(2,"input",2),c.bIt("click",function(){return M.emitToggleChange()}),c.mxI("ngModelChange",function(A){return c.DH7(M.toggled,A)||(M.toggled=A),A}),c.k0s(),c.nrm(3,"span",3),c.k0s()),2&B&&(c.AVh("subcategories",M.subcategories),c.R7$(),c.Y8G("ngIf",!M.emptyLabel),c.R7$(),c.Y8G("formControl",M.formControl),c.R50("ngModel",M.toggled))},dependencies:[R.bT,O.Zm,O.BC,O.l_],styles:['.ngx-toggle[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding-left:60px;font-size:12px;color:gray;height:26px}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]{opacity:0;height:100%;width:100%}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background-color:#0f0f11}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{transform:translate(26px)}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]{position:absolute;cursor:pointer;left:0;top:0;background-color:#556274;transition:.4s;width:52px;height:100%;border-radius:34px}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:50%;height:18px;width:18px;left:4px;bottom:4px;background-color:#fff;transition:.4s}.ngx-toggle.subcategories[_ngcontent-%COMP%]{height:20px;padding-left:27px}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{transform:translate(19px)}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]{width:40px}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]:before{width:14px;height:14px;bottom:3px}.ngx-toggle-label-visible[_ngcontent-%COMP%], .ngx-toggle-label-hidden[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#556274}'],changeDetection:0})}return _})()},45572:($,T,l)=>{l.d(T,{Y:()=>R});var c=l(60177),O=l(89417),b=l(54438);let R=(()=>{class P{static#e=this.\u0275fac=function(a){return new(a||P)};static#t=this.\u0275mod=b.$C({type:P});static#n=this.\u0275inj=b.G2t({imports:[c.MD,O.X1]})}return P})()},85623:($,T,l)=>{function P(e,t,r,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(s=e[f])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}l.d(T,{Cg:()=>P}),"function"==typeof SuppressedError&&SuppressedError}}]);