"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3515],{63515:(D,C,t)=>{t.r(C),t.d(C,{AdminBlogModule:()=>z});var o=t(96814),i=t(43377),e=t(52748),f=t(98653),p=t(86461),P=t(6422),l=t(89611),a=t(44112),O=t(97582),x=t(78645),g=t(52572),M=t(32181),_=t(9769),h=t(27921),s=t(37398),c=t(94664),v=t(77835),b=t(78791),E=t(94045),T=t(48530),n=t(19212),Z=t(27171),w=t(66358),I=t(58133),y=t(19347),U=t(78714),R=t(11203),L=t(63840),S=t(64636),J=t(53803),j=t(83498);function K(r,Q){if(1&r&&(n.TgZ(0,"li",2)(1,"a",3),n._UZ(2,"img",4),n.TgZ(3,"div",5)(4,"p",6),n._uU(5),n.qZA(),n.TgZ(6,"p",7)(7,"span",8),n._uU(8),n.qZA()()(),n.TgZ(9,"div",9)(10,"b2b-ngx-dropdown",10)(11,"button",11),n._UZ(12,"img",12),n.qZA()()()()()),2&r){const d=Q.$implicit,m=n.oxw();n.xp6(),n.Q6J("routerLink",d._id),n.xp6(),n.Q6J("name",null==d.image?null:d.image.lg),n.xp6(3),n.Oqu(d.title),n.xp6(3),n.Oqu(d.author),n.xp6(2),n.Q6J("options",m.menuOptions)("optionToReturn",d)}}let F=(()=>{class r{static#t=this.\u0275fac=function(m){return new(m||r)};static#n=this.\u0275cmp=n.Xpm({type:r,selectors:[["b2b-admin-blog-list"]],inputs:{articles:"articles",menuOptions:"menuOptions"},decls:2,vars:1,consts:[[1,"admin-articles-list"],["class","admin-articles-list-item",4,"ngFor","ngForOf"],[1,"admin-articles-list-item"],[1,"admin-articles-list-item-link",3,"routerLink"],["b2bNgxImage","",1,"admin-articles-list-item-img",3,"name"],[1,"admin-articles-list-item-info"],[1,"admin-articles-list-item-info-title"],[1,"admin-articles-list-item-info-additional"],[1,"admin-articles-list-item-info-added"],[1,"admin-articles-list-item-more"],[3,"options","optionToReturn"],["b2bNgxButton","",1,"flex","items-center"],["b2bNgxIcon","","name","more"]],template:function(m,u){1&m&&(n.TgZ(0,"ul",0),n.YNc(1,K,13,6,"li",1),n.qZA()),2&m&&(n.xp6(),n.Q6J("ngForOf",u.articles))},dependencies:[o.sg,a.rH,L.w,S.J,J.p,j.f],styles:[".admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]{margin-top:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;background:#fff;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]{flex:1;margin-left:16px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]   .admin-articles-list-item-info-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#0f0f11;height:20px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;font-style:normal;font-weight:500;font-size:12px;color:#9fa4bb;height:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-icon[_ngcontent-%COMP%]{margin-left:10px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-views[_ngcontent-%COMP%], .admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-stars[_ngcontent-%COMP%]{margin-left:5px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]{background:#f3f6f8;border-radius:16px;padding:5px 10px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-amount[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:#0f0f11}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-messages[_ngcontent-%COMP%]{height:20px;width:20px;display:flex;align-items:center;justify-content:center;background:#005dff;border-radius:100%;font-size:11px;color:#fff;margin-left:10px;padding-top:1px;padding-right:1px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]:first-child{margin-top:0}"]})}return r})();const W=[{path:"",component:(()=>{let r=class B{constructor(d,m,u,N){this._wikiService=d,this._blogService=m,this.hotToastService=u,this.dialog=N,this.forceSubject=new x.x,this.b2bNgxLinkThemeEnum=v.L,this.pageSubject=new x.x,this.articles$=this._getArticles$(),this.menuOptions=this._getMenuOptions(),this.totalCount=0}_getArticles$(){const d=this.pageSubject.asObservable().pipe((0,h.O)(1)),m=this.forceSubject.asObservable().pipe((0,h.O)(!0));return(0,g.a)([d,m]).pipe((0,s.U)(([u])=>"?offset="+10*(u-1)),(0,c.w)(u=>this._blogService.getArticles(u)),(0,s.U)(u=>(this.totalCount=u.totalCount,u.posts)))}setPage(d){this.pageSubject.next(d)}_getMenuOptions(){return[{label:"Delete",icon:"delete-red",onClick:d=>{this.dialog.open(E.z,{data:{title:"Delete product",message:"Are you sure you want to delete this article?",confirmButtonText:"Delete",confirmButtonTheme:T.n.BACKGROUND_RED,cancelButtonText:"Cancel",cancelButtonTheme:T.n.OUTLINE_BLACK}}).afterClosed().pipe((0,M.h)(m=>!!m),(0,_.z)(()=>this._blogService.deleteArticleById(d._id).pipe((0,b.t)(this),this.hotToastService.observe({loading:"Post deleting",success:"Post deleted",error:"Post deleting failed"})))).subscribe(()=>{this.forceSubject.next(!0)})}}]}static#t=this.\u0275fac=function(m){return new(m||B)(n.Y36(Z.t),n.Y36(w.Z),n.Y36(I.jE),n.Y36(y.uw))};static#n=this.\u0275cmp=n.Xpm({type:B,selectors:[["b2b-admin-blog"]],decls:6,vars:7,consts:[[1,"admin-articles"],["b2bNgxLink","","routerLink","create",1,"admin-articles__link",3,"theme"],[1,"admin-articles__list",3,"articles","menuOptions"],[3,"length","perPage","togglePageNumber"]],template:function(m,u){1&m&&(n.TgZ(0,"div",0)(1,"a",1),n._uU(2,"Add Post"),n.qZA(),n._UZ(3,"b2b-admin-blog-list",2),n.ALo(4,"async"),n.TgZ(5,"b2b-ngx-pagination",3),n.NdJ("togglePageNumber",function($){return u.setPage($)}),n.qZA()()),2&m&&(n.xp6(),n.Q6J("theme",u.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),n.xp6(2),n.Q6J("articles",n.lcZ(4,5,u.articles$))("menuOptions",u.menuOptions),n.xp6(2),n.Q6J("length",u.totalCount)("perPage",10))},dependencies:[a.rH,U.a,R.Q,F,o.Ov],styles:[".admin-articles[_ngcontent-%COMP%]{padding:30px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;padding:7.5px 15px;border-radius:3px;margin:0 15px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:first-child{margin-left:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:last-child{margin-right:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__list[_ngcontent-%COMP%]{display:block;margin-top:15px}"],changeDetection:0})};return r=(0,O.gn)([(0,b.c)()],r),r})()}];let k=(()=>{class r{static#t=this.\u0275fac=function(m){return new(m||r)};static#n=this.\u0275mod=n.oAB({type:r});static#i=this.\u0275inj=n.cJS({imports:[a.Bz.forChild(W),a.Bz]})}return r})(),z=(()=>{class r{static#t=this.\u0275fac=function(m){return new(m||r)};static#n=this.\u0275mod=n.oAB({type:r});static#i=this.\u0275inj=n.cJS({imports:[o.ez,k,P.W,p.A,l.z,e.ED,f.w,i.l,y.Is]})}return r})()},64636:(D,C,t)=>{t.d(C,{J:()=>_});var o=t(97582),i=t(19212),e=t(92438),f=t(78791),p=t(836),P=t(32181),l=t(96814),a=t(83498),O=t(53803);function x(h,s){if(1&h){const c=i.EpF();i.TgZ(0,"li")(1,"button",6),i.NdJ("click",function(b){const T=i.CHM(c).$implicit,n=i.oxw(2);return i.KtG(n.callOptionFunc(b,T))}),i._UZ(2,"img",7),i.TgZ(3,"span"),i._uU(4),i.qZA()()()}if(2&h){const c=s.$implicit;i.xp6(2),i.Q6J("name",c.icon),i.xp6(),i.Tol(c.className+" ngx-dropdown-text"),i.xp6(),i.Oqu(c.label)}}function g(h,s){if(1&h&&(i.TgZ(0,"ul",4),i.YNc(1,x,5,4,"li",5),i.qZA()),2&h){const c=i.oxw();i.xp6(),i.Q6J("ngForOf",c.options)}}const M=["*"];let _=class A{constructor(s){this.changeDetection=s,this.isMenuShow=!1,this.toggleOptionClick=new i.vpe}callOptionFunc(s,c){this.isMenuShow=!1,s.preventDefault(),s.stopImmediatePropagation(),c.onClick(this.optionToReturn||c,this.requiredOptionToCheck)}get menuClassName(){return`${this.className} `}subscribeOnClickOutside(s){const c=(0,e.R)(document,"click").pipe((0,p.T)(1),(0,f.t)(this),(0,P.h)(v=>!s.contains(v.target))).subscribe(()=>{this.isMenuShow=!1,this.changeDetection.detectChanges(),c.unsubscribe()})}showMenu(s,c){this.isMenuShow=!this.isMenuShow,s.stopImmediatePropagation(),s.preventDefault(),this.isMenuShow&&this.subscribeOnClickOutside(c)}static#t=this.\u0275fac=function(c){return new(c||A)(i.Y36(i.sBO))};static#n=this.\u0275cmp=i.Xpm({type:A,selectors:[["b2b-ngx-dropdown"]],inputs:{options:"options",requiredOptionToCheck:"requiredOptionToCheck",className:"className",optionToReturn:"optionToReturn"},outputs:{toggleOptionClick:"toggleOptionClick"},ngContentSelectors:M,decls:5,vars:1,consts:[[1,"ngx-dropdown-container"],["container",""],[3,"click"],["class","ngx-dropdown",4,"ngIf"],[1,"ngx-dropdown"],[4,"ngFor","ngForOf"],["b2bNgxButton","",1,"ngx-dropdown-button",3,"click"],["b2bNgxIcon","",1,"ngx-dropdown-button-icon",3,"name"]],template:function(c,v){if(1&c){const b=i.EpF();i.F$t(),i.TgZ(0,"div",0,1)(2,"div",2),i.NdJ("click",function(T){i.CHM(b);const n=i.MAs(1);return i.KtG(v.showMenu(T,n))}),i.Hsn(3),i.qZA(),i.YNc(4,g,2,1,"ul",3),i.qZA()}2&c&&(i.xp6(4),i.Q6J("ngIf",v.isMenuShow))},dependencies:[l.sg,l.O5,a.f,O.p],styles:[".ngx-dropdown-container[_ngcontent-%COMP%]{position:relative}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]{position:absolute;z-index:2;background:#fff;box-shadow:0 2px 12px #0f0f1129;border-radius:4px;width:180px;right:0}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;width:100%}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]:hover{background-color:#eff4fa}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]   .ngx-dropdown-text[_ngcontent-%COMP%]{text-align:left;font-weight:500;font-size:13px;line-height:18px;color:#0f0f11;margin-left:12px}"],changeDetection:0})};_=(0,o.gn)([(0,f.c)()],_)},52748:(D,C,t)=>{t.d(C,{ED:()=>P,Yr:()=>l}),t(64636);var i=t(96814),e=t(43377),f=t(98653),p=t(19212);let P=(()=>{class a{static#t=this.\u0275fac=function(g){return new(g||a)};static#n=this.\u0275mod=p.oAB({type:a});static#i=this.\u0275inj=p.cJS({imports:[i.ez,e.l,f.w]})}return a})();var l=function(a){return a.RESTORE="Restore",a.ARCHIVE="Archive",a.DELETE="Delete",a.EDIT="Edit",a}(l||{})},11203:(D,C,t)=>{t.d(C,{Q:()=>f});var o=t(19212),i=t(96814);function e(p,P){if(1&p){const l=o.EpF();o.TgZ(0,"li",2),o.NdJ("click",function(){const x=o.CHM(l).$implicit,g=o.oxw();return o.KtG(g.togglePage(x.value))}),o._uU(1),o.qZA()}if(2&p){const l=P.$implicit,a=o.oxw();o.ekj("active",a.currentPage===l.label),o.xp6(),o.hij(" ",l.label," ")}}let f=(()=>{class p{constructor(){this.currentPage=1,this.togglePageNumber=new o.vpe,this.currentPage=1,this.togglePage(1)}get options(){return this.length&&this.perPage?new Array(Math.ceil(this.length/this.perPage)).fill(null).map((O,x)=>({label:x+1,value:x+1})):[]}togglePage(l){l!==this.currentPage&&(this.currentPage=l,this.togglePageNumber.emit(l))}togglePrevPage(){1!==this.currentPage&&(this.currentPage=this.currentPage-1,this.togglePageNumber.emit(this.currentPage))}toggleNextPage(){this.currentPage!==this.options.length&&(this.currentPage=this.currentPage+1,this.togglePageNumber.emit(this.currentPage))}static#t=this.\u0275fac=function(a){return new(a||p)};static#n=this.\u0275cmp=o.Xpm({type:p,selectors:[["b2b-ngx-pagination"]],inputs:{length:"length",perPage:"perPage",currentPage:"currentPage"},outputs:{togglePageNumber:"togglePageNumber"},decls:2,vars:1,consts:[[1,"ngx-pagination"],["class","ngx-pagination-item",3,"active","click",4,"ngFor","ngForOf"],[1,"ngx-pagination-item",3,"click"]],template:function(a,O){1&a&&(o.TgZ(0,"ul",0),o.YNc(1,e,2,3,"li",1),o.qZA()),2&a&&(o.xp6(),o.Q6J("ngForOf",O.options))},dependencies:[i.sg],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.ngx-pagination[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:24px;flex-wrap:wrap;row-gap:10px}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 4px;border:1px solid #dfe8f5;cursor:pointer}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:hover:not(.active){background-color:#eff4fa}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:active{background:#fff}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return p})()},89611:(D,C,t)=>{t.d(C,{z:()=>e});var o=t(96814),i=t(19212);let e=(()=>{class f{static#t=this.\u0275fac=function(l){return new(l||f)};static#n=this.\u0275mod=i.oAB({type:f});static#i=this.\u0275inj=i.cJS({imports:[o.ez]})}return f})()},94045:(D,C,t)=>{t.d(C,{z:()=>x});var o=t(19347),i=t(48530),e=t(19212),f=t(96814),p=t(83498);function P(g,M){if(1&g&&(e.TgZ(0,"div",6)(1,"h2"),e._uU(2),e.qZA()()),2&g){const _=e.oxw();e.xp6(2),e.Oqu(_.data.title)}}function l(g,M){1&g&&e._UZ(0,"hr",7)}function a(g,M){if(1&g&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&g){const _=e.oxw();e.xp6(),e.Oqu(_.data.message)}}function O(g,M){1&g&&e._UZ(0,"hr",7)}let x=(()=>{class g{constructor(_,h){this.dialogRef=_,this.data=h,this.b2bNgxButtonThemeEnum=i.n,this.confirmButtonTheme=this.data.confirmButtonTheme,this.cancelButtonTheme=this.data.cancelButtonTheme}closeDialog(_){this.dialogRef.close(_)}static#t=this.\u0275fac=function(h){return new(h||g)(e.Y36(o.so),e.Y36(o.WI))};static#n=this.\u0275cmp=e.Xpm({type:g,selectors:[["b2b-confirmation-dialog"]],decls:10,vars:6,consts:[[1,"confirmation-dialog"],["class","header",4,"ngIf"],["color","#f5f5f5",4,"ngIf"],["class","body",4,"ngIf"],[1,"footer"],["b2bNgxButton","",1,"btn",3,"click"],[1,"header"],["color","#f5f5f5"],[1,"body"]],template:function(h,s){1&h&&(e.TgZ(0,"div",0),e.YNc(1,P,3,1,"div",1)(2,l,1,0,"hr",2)(3,a,2,1,"div",3)(4,O,1,0,"hr",2),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return s.closeDialog(!0)}),e._uU(7),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){return s.closeDialog(!1)}),e._uU(9),e.qZA()()()),2&h&&(e.xp6(),e.Q6J("ngIf",s.data.title),e.xp6(),e.Q6J("ngIf",s.data.title),e.xp6(),e.Q6J("ngIf",s.data.message),e.xp6(),e.Q6J("ngIf",s.data.message),e.xp6(3),e.hij(" ",s.data.confirmButtonText," "),e.xp6(2),e.hij(" ",s.data.cancelButtonText," "))},dependencies:[f.O5,p.f],styles:["[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]{width:40vw;height:20vh;position:relative}[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:100%;gap:15px;justify-content:center;margin-top:20px}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:15px 20px;width:40%}"]})}return g})()}}]);