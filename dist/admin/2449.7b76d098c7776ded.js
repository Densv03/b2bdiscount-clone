"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2449],{82449:(v,M,r)=>{r.r(M),r.d(M,{AdminLogisticProfileDetailsModule:()=>Et});var m=r(38684),h=r(9063),t=r(89985),u=r(53648),p=r(43793),C=r(23290),x=r(35285),_=r(19825),b=r(82575),D=r(46295),i=r(39229),s=r(24797),a=r(86311),g=r(82812),O=r(50442),y=r(22821),S=r(11373);const k=()=>({left:"10px",top:"20px"});function I(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Port from"),t.k0s())}function $(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.portFrom?null:n.portFrom.name)}}function A(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Country from"),t.k0s())}function L(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.countryFrom?null:n.countryFrom.name)}}function N(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Port to"),t.k0s())}function B(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.portTo?null:n.portTo.name)}}function V(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Country to"),t.k0s())}function U(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.countryTo?null:n.countryTo.name)}}function G(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Date from"),t.k0s())}function Y(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.validDateFrom,"dd.MM.yyyy")," ")}}function X(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Date to"),t.k0s())}function J(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.validDateTo,"dd.MM.yyyy")," ")}}function W(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Actions"),t.k0s())}function K(e,o){if(1&e){const n=t.RV6();t.j41(0,"td",25)(1,"div",26)(2,"button",27),t.bIt("click",function(){const c=t.eBV(n).$implicit,d=t.XpG(2);return t.Njj(d.deleteTariff(c))}),t.j41(3,"mat-icon"),t.EFF(4,"delete"),t.k0s()()()()}}function z(e,o){1&e&&t.nrm(0,"tr",28)}function H(e,o){1&e&&t.nrm(0,"tr",29)}function Z(e,o){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"table",11),t.qex(2,12),t.DNE(3,I,2,0,"th",13)(4,$,2,1,"td",14),t.bVm(),t.qex(5,15),t.DNE(6,A,2,0,"th",13)(7,L,2,1,"td",14),t.bVm(),t.qex(8,16),t.DNE(9,N,2,0,"th",13)(10,B,2,1,"td",14),t.bVm(),t.qex(11,17),t.DNE(12,V,2,0,"th",13)(13,U,2,1,"td",14),t.bVm(),t.qex(14,18),t.DNE(15,G,2,0,"th",13)(16,Y,3,4,"td",14),t.bVm(),t.qex(17,19),t.DNE(18,X,2,0,"th",13)(19,J,3,4,"td",14),t.bVm(),t.qex(20,20),t.DNE(21,W,2,0,"th",13)(22,K,5,0,"td",14),t.bVm(),t.DNE(23,z,1,0,"tr",21)(24,H,1,0,"tr",22),t.k0s(),t.j41(25,"b2b-pagination",23),t.nI1(26,"async"),t.bIt("togglePageNumber",function(c){t.eBV(n);const d=t.XpG();return t.Njj(d.togglePage(c))}),t.k0s(),t.bVm()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("dataSource",n.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",n.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",n.displayedColumns),t.R7$(),t.Y8G("currentPage",n.currentPage)("length",t.bMT(26,6,n.totalCount$))("perPage",n.productsLimit)}}function Q(e,o){1&e&&(t.j41(0,"h3"),t.EFF(1,"No companies found"),t.k0s())}function q(e,o){if(1&e&&(t.j41(0,"div",32)(1,"p",33),t.EFF(2),t.k0s(),t.j41(3,"p",34),t.EFF(4),t.k0s()()),2&e){const n=o.$implicit;t.R7$(2),t.JRh(n.errorField),t.R7$(2),t.JRh(n.errorMessage)}}function tt(e,o){if(1&e&&(t.j41(0,"div",30),t.DNE(1,q,5,2,"div",31),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.errorList)}}let et=(()=>{let e=class E{constructor(n,l,c,d){this.adminLogisticService=n,this.activatedRoute=l,this.hotToastService=c,this.changeDetectorRef=d,this.displayedColumns=["portFrom","countryFrom","portTo","countryTo","validDateFrom","validDateTo","actions"],this.updating=!1,this.productsLimit=15,this.totalCountSource=new i.t(0),this.totalCount$=this.totalCountSource.asObservable(),this.currentPage=1,this.date=new b.MJ(""),this.errorList=[{errorField:"Error field",errorData:"Error data",errorMessage:"Error message"}],this.seaRequest={limit:this.productsLimit,offset:0}}ngOnInit(){this.fetchData(),this.setFormData()}uploadSeaTariff(n){const l=n.target,c=l.files[0];if(!c)return;if(!["xlsx","xls","csv"].includes(c?.name.split(".")[c?.name.split(".").length-1]))return void this.hotToastService.error("Wrong type format, you can upload only sheets types");l.value=null;const f=new FileReader;f.readAsDataURL(c),f.onload=()=>{const P=new FormData;P.append("excelData",c),this.adminLogisticService.uploadSeaTariff(this.seaRequest.companyId,P).pipe((0,_.s)(this)).subscribe(F=>{F.resultUpdate.count.error&&F.resultUpdate.count.error.errorList.forEach(w=>{this.errorList.push({errorField:w.errorField,errorData:JSON.parse(w.errorData),errorMessage:w.errorMessage})}),this.fetchData()})}}togglePage(n){this.seaRequest={...this.seaRequest,offset:(n-1)*this.productsLimit},this.currentPage=n,this.fetchData()}setNullableValue(){this.date.patchValue(null,{emitEvent:!1}),this.seaRequest.date=null,this.fetchData()}deleteTariff(n){this.updating||(this.updating=!0,this.adminLogisticService.deleteTariff(n._id,"sea").pipe((0,_.s)(this)).subscribe(()=>{this.fetchData(),this.hotToastService.success("Tariff was successfully deleted")}))}fetchData(){this.activatedRoute.snapshot.params?.id&&(this.seaRequest.companyId=this.activatedRoute.snapshot.params?.id),this.adminLogisticService.getSeaTariffs(this.seaRequest).pipe((0,_.s)(this)).subscribe(n=>{this.totalCountSource.next(n[0].totalCount),this.dataSource=n[0].tariffs,this.updating=!1,this.changeDetectorRef.detectChanges()})}setFormData(){this.date.valueChanges.pipe((0,D.p)(n=>!!n),(0,_.s)(this)).subscribe(n=>{this.seaRequest.date=new Date(n).toLocaleDateString().split(".").reverse().join("."),this.fetchData()})}static#t=this.\u0275fac=function(l){return new(l||E)(t.rXU(u.n),t.rXU(h.nX),t.rXU(s.U_),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:E,selectors:[["b2b-sea-profile"]],decls:16,vars:10,consts:[["fileInput",""],["noProfiles",""],[1,"logistic-wrapper"],[1,"logistic-header-wrapper"],["multiple","","type","file",3,"change"],[1,"b2b-ngx-button","background","background-black",3,"click"],[1,"country-wrapper"],["inputClassName","datepicker","iconName","filled-calendar",3,"formControl","iconPosition"],[3,"click"],[4,"ngIf","ngIfElse"],["class","error-list",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","w-100","mt-4","no-background",3,"dataSource"],["matColumnDef","portFrom"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","countryFrom"],["matColumnDef","portTo"],["matColumnDef","countryTo"],["matColumnDef","validDateFrom"],["matColumnDef","validDateTo"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"togglePageNumber","currentPage","length","perPage"],["mat-header-cell",""],["mat-cell",""],[1,"actions-block"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"error-list"],["class","error-field",4,"ngFor","ngForOf"],[1,"error-field"],[1,"field"],[1,"message"]],template:function(l,c){if(1&l){const d=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div")(3,"input",4,0),t.bIt("change",function(P){return t.eBV(d),t.Njj(c.uploadSeaTariff(P))}),t.k0s(),t.j41(5,"button",5),t.bIt("click",function(){t.eBV(d);const P=t.sdS(4);return t.Njj(P.click())}),t.EFF(6," Upload sea tariffs "),t.k0s()(),t.j41(7,"div",6),t.nrm(8,"b2b-datepicker",7),t.j41(9,"mat-icon",8),t.bIt("click",function(){return t.eBV(d),t.Njj(c.setNullableValue())}),t.EFF(10,"close "),t.k0s()()(),t.DNE(11,Z,27,8,"ng-container",9),t.nI1(12,"async"),t.DNE(13,Q,2,0,"ng-template",null,1,t.C5r)(15,tt,2,1,"div",10),t.k0s()}if(2&l){const d=t.sdS(14);t.R7$(8),t.Y8G("formControl",c.date)("iconPosition",t.lJ4(9,k)),t.R7$(),t.AVh("show",c.date.value),t.R7$(2),t.Y8G("ngIf",t.bMT(12,7,c.totalCount$))("ngIfElse",d),t.R7$(4),t.Y8G("ngIf",c.errorList.length>1)}},dependencies:[m.Sq,m.bT,a.Zl,a.tL,a.ji,a.cC,a.YV,a.iL,a.KS,a.$R,a.YZ,a.NB,g.i,b.BC,b.l_,O.iY,y.An,S.e,m.Jj,m.vh],styles:[".logistic-wrapper[_ngcontent-%COMP%]{padding:30px}.logistic-wrapper[_ngcontent-%COMP%]   .point-actions[_ngcontent-%COMP%]{padding-bottom:24px;margin-bottom:24px;border-bottom:1px solid lightgray}.logistic-wrapper[_ngcontent-%COMP%]   .point-actions[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]{align-items:center}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:24px}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .b2b-ngx-button[_ngcontent-%COMP%]{padding:7.5px 15px}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{width:48%}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]{position:relative}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]   mat-icon.show[_ngcontent-%COMP%]{display:initial;position:absolute;top:16px;left:-19px;color:gray;font-size:15px;width:12px;height:12px;cursor:pointer}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%], .logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:max-content}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:12px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-size:16px;padding:12px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#add8e6}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{text-align:end;padding-right:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:8px;padding:5px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;background:#add8e6;border-radius:5px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;line-height:13px;color:#fff}.logistic-wrapper[_ngcontent-%COMP%]   table.no-background[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{cursor:initial;background:transparent}.logistic-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}  input.datepicker{height:64px;border:none;border-radius:14px;padding:0 16px;width:100%;max-width:191px}  input.datepicker::placeholder{padding-left:20px}.error-list[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px;padding:16px;border-radius:8px;background:#fff;max-width:50%;margin-top:24px}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:15px;line-height:22px;padding-bottom:12px;font-weight:400}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]:first-of-type{color:gray}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{min-width:50%;font-weight:600}"],changeDetection:0})};return e=(0,x.Cg)([(0,_.d)()],e),e})();const nt=()=>({left:"10px",top:"20px"});function ot(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"City from"),t.k0s())}function it(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.cityFrom?null:n.cityFrom.name)}}function rt(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Country from"),t.k0s())}function at(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.countryFrom?null:n.countryFrom.name)}}function ct(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"City to"),t.k0s())}function st(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.cityTo?null:n.cityTo.name)}}function lt(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Country to"),t.k0s())}function pt(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.JRh(null==n.countryTo?null:n.countryTo.name)}}function dt(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Date from"),t.k0s())}function gt(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.validDateFrom,"dd.MM.yyyy")," ")}}function mt(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Date to"),t.k0s())}function ut(e,o){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=o.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.validDateTo,"dd.MM.yyyy")," ")}}function _t(e,o){1&e&&(t.j41(0,"th",24),t.EFF(1,"Actions"),t.k0s())}function ft(e,o){if(1&e){const n=t.RV6();t.j41(0,"td",25)(1,"div",26)(2,"button",27),t.bIt("click",function(){const c=t.eBV(n).$implicit,d=t.XpG(2);return t.Njj(d.deleteTariff(c))}),t.j41(3,"mat-icon"),t.EFF(4,"delete"),t.k0s()()()()}}function ht(e,o){1&e&&t.nrm(0,"tr",28)}function Ct(e,o){1&e&&t.nrm(0,"tr",29)}function bt(e,o){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"table",11),t.qex(2,12),t.DNE(3,ot,2,0,"th",13)(4,it,2,1,"td",14),t.bVm(),t.qex(5,15),t.DNE(6,rt,2,0,"th",13)(7,at,2,1,"td",14),t.bVm(),t.qex(8,16),t.DNE(9,ct,2,0,"th",13)(10,st,2,1,"td",14),t.bVm(),t.qex(11,17),t.DNE(12,lt,2,0,"th",13)(13,pt,2,1,"td",14),t.bVm(),t.qex(14,18),t.DNE(15,dt,2,0,"th",13)(16,gt,3,4,"td",14),t.bVm(),t.qex(17,19),t.DNE(18,mt,2,0,"th",13)(19,ut,3,4,"td",14),t.bVm(),t.qex(20,20),t.DNE(21,_t,2,0,"th",13)(22,ft,5,0,"td",14),t.bVm(),t.DNE(23,ht,1,0,"tr",21)(24,Ct,1,0,"tr",22),t.k0s(),t.j41(25,"b2b-pagination",23),t.nI1(26,"async"),t.bIt("togglePageNumber",function(c){t.eBV(n);const d=t.XpG();return t.Njj(d.togglePage(c))}),t.k0s(),t.bVm()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("dataSource",n.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",n.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",n.displayedColumns),t.R7$(),t.Y8G("currentPage",n.currentPage)("length",t.bMT(26,6,n.totalCount$))("perPage",n.productsLimit)}}function Pt(e,o){1&e&&(t.j41(0,"h3"),t.EFF(1,"No companies found"),t.k0s())}function Mt(e,o){if(1&e&&(t.j41(0,"div",32)(1,"p",33),t.EFF(2),t.k0s(),t.j41(3,"p",34),t.EFF(4),t.k0s()()),2&e){const n=o.$implicit;t.R7$(2),t.JRh(n.errorField),t.R7$(2),t.JRh(n.errorMessage)}}function Ot(e,o){if(1&e&&(t.j41(0,"div",30),t.DNE(1,Mt,5,2,"div",31),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.errorList)}}let xt=(()=>{let e=class R{constructor(n,l,c,d){this.adminLogisticService=n,this.activatedRoute=l,this.hotToastService=c,this.changeDetectorRef=d,this.displayedColumns=["cityFrom","countryFrom","cityTo","countryTo","validDateFrom","validDateTo","actions"],this.updating=!1,this.productsLimit=15,this.currentPage=1,this.totalCountSource=new i.t(0),this.totalCount$=this.totalCountSource.asObservable(),this.date=new b.MJ(""),this.errorList=[{errorField:"Error field",errorData:"Error data",errorMessage:"Error message"}],this.airRequest={limit:this.productsLimit,offset:0}}ngOnInit(){this.fetchData(),this.setFormGroup()}uploadAirProfile(n){const l=n.target,c=l.files[0];if(!c)return;if(!["xlsx","xls","csv"].includes(c?.name.split(".")[c?.name.split(".").length-1]))return void this.hotToastService.error("Wrong type format, you can upload only sheets types");l.value=null;const f=new FileReader;f.readAsDataURL(c),f.onload=()=>{const F=new FormData;F.append("excelData",c),this.adminLogisticService.uploadAirTariff(this.airRequest.companyId,F).pipe((0,_.s)(this)).subscribe(w=>{w.resultUpdate.count.error&&w.resultUpdate.count.error.errorList.forEach(T=>{this.errorList.push({errorField:T.errorField,errorData:JSON.parse(T.errorData),errorMessage:T.errorMessage})}),this.fetchData()})}}togglePage(n){this.airRequest={...this.airRequest,offset:(n-1)*this.productsLimit},this.currentPage=n,this.fetchData()}setNullableValue(){this.date.patchValue(null,{emitEvent:!1}),this.airRequest.date=null,this.fetchData()}deleteTariff(n){this.updating||(this.updating=!0,this.adminLogisticService.deleteTariff(n._id,"air").pipe((0,_.s)(this)).subscribe(()=>{this.fetchData(),this.hotToastService.success("Tariff was successfully deleted")}))}fetchData(){this.activatedRoute.snapshot.params?.id&&(this.airRequest.companyId=this.activatedRoute.snapshot.params?.id),this.adminLogisticService.getAirTariffs(this.airRequest).pipe((0,_.s)(this)).subscribe(n=>{this.dataSource=n[0].tariffs,this.totalCountSource.next(n[0].totalCount),this.updating=!1,this.changeDetectorRef.detectChanges()})}setFormGroup(){this.date.valueChanges.pipe((0,D.p)(n=>!!n),(0,_.s)(this)).subscribe(n=>{this.airRequest.date=new Date(n).toLocaleDateString().split(".").reverse().join("."),this.fetchData()})}static#t=this.\u0275fac=function(l){return new(l||R)(t.rXU(u.n),t.rXU(h.nX),t.rXU(s.U_),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:R,selectors:[["b2b-air-profile"]],decls:16,vars:10,consts:[["fileInput",""],["noProfiles",""],[1,"logistic-wrapper"],[1,"logistic-header-wrapper"],["multiple","","type","file",3,"change"],[1,"b2b-ngx-button","background","background-black",3,"click"],[1,"country-wrapper"],["inputClassName","datepicker","iconName","filled-calendar",3,"formControl","iconPosition"],[3,"click"],[4,"ngIf","ngIfElse"],["class","error-list",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","w-100","mt-4","no-background",3,"dataSource"],["matColumnDef","cityFrom"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","countryFrom"],["matColumnDef","cityTo"],["matColumnDef","countryTo"],["matColumnDef","validDateFrom"],["matColumnDef","validDateTo"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"togglePageNumber","currentPage","length","perPage"],["mat-header-cell",""],["mat-cell",""],[1,"actions-block"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"error-list"],["class","error-field",4,"ngFor","ngForOf"],[1,"error-field"],[1,"field"],[1,"message"]],template:function(l,c){if(1&l){const d=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div")(3,"input",4,0),t.bIt("change",function(P){return t.eBV(d),t.Njj(c.uploadAirProfile(P))}),t.k0s(),t.j41(5,"button",5),t.bIt("click",function(){t.eBV(d);const P=t.sdS(4);return t.Njj(P.click())}),t.EFF(6," Upload air tariffs "),t.k0s()(),t.j41(7,"div",6),t.nrm(8,"b2b-datepicker",7),t.j41(9,"mat-icon",8),t.bIt("click",function(){return t.eBV(d),t.Njj(c.setNullableValue())}),t.EFF(10,"close "),t.k0s()()(),t.DNE(11,bt,27,8,"ng-container",9),t.nI1(12,"async"),t.DNE(13,Pt,2,0,"ng-template",null,1,t.C5r)(15,Ot,2,1,"div",10),t.k0s()}if(2&l){const d=t.sdS(14);t.R7$(8),t.Y8G("formControl",c.date)("iconPosition",t.lJ4(9,nt)),t.R7$(),t.AVh("show",c.date.value),t.R7$(2),t.Y8G("ngIf",t.bMT(12,7,c.totalCount$))("ngIfElse",d),t.R7$(4),t.Y8G("ngIf",c.errorList.length>1)}},dependencies:[m.Sq,m.bT,a.Zl,a.tL,a.ji,a.cC,a.YV,a.iL,a.KS,a.$R,a.YZ,a.NB,g.i,b.BC,b.l_,O.iY,y.An,S.e,m.Jj,m.vh],styles:[".logistic-wrapper[_ngcontent-%COMP%]{padding:30px}.logistic-wrapper[_ngcontent-%COMP%]   .point-actions[_ngcontent-%COMP%]{padding-bottom:24px;margin-bottom:24px;border-bottom:1px solid lightgray}.logistic-wrapper[_ngcontent-%COMP%]   .point-actions[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]{align-items:center}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:24px}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .b2b-ngx-button[_ngcontent-%COMP%]{padding:7.5px 15px}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{width:48%}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]{position:relative}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]   mat-icon.show[_ngcontent-%COMP%]{display:initial;position:absolute;top:16px;left:-19px;color:gray;font-size:15px;width:12px;height:12px;cursor:pointer}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%], .logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:max-content}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:12px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-size:16px;padding:12px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#add8e6}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{text-align:end;padding-right:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:8px;padding:5px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;background:#add8e6;border-radius:5px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;line-height:13px;color:#fff}.logistic-wrapper[_ngcontent-%COMP%]   table.no-background[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{cursor:initial;background:transparent}.logistic-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}  input.datepicker{height:64px;border:none;border-radius:14px;padding:0 16px;width:100%;max-width:191px}  input.datepicker::placeholder{padding-left:20px}.error-list[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px;padding:16px;border-radius:8px;background:#fff;max-width:50%;margin-top:24px}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:15px;line-height:22px;padding-bottom:12px;font-weight:400}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]:first-of-type{color:gray}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{min-width:50%;font-weight:600}"],changeDetection:0})};return e=(0,x.Cg)([(0,_.d)()],e),e})();const yt=[{path:"",component:(()=>{class e{constructor(n){this.adminLogisticService=n,this.selectedIndex=0}ngOnInit(){}static#t=this.\u0275fac=function(l){return new(l||e)(t.rXU(u.n))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["b2b-components"]],decls:7,vars:2,consts:[[3,"breadcrumbLabel"],[1,"profile-wrapper"],[3,"selectedIndexChange","selectedIndex"],["label","Sea"],["label","Air"]],template:function(l,c){1&l&&(t.nrm(0,"b2b-breadcrumbs",0),t.j41(1,"div",1)(2,"mat-tab-group",2),t.mxI("selectedIndexChange",function(f){return t.DH7(c.selectedIndex,f)||(c.selectedIndex=f),f}),t.j41(3,"mat-tab",3),t.nrm(4,"b2b-sea-profile"),t.k0s(),t.j41(5,"mat-tab",4),t.nrm(6,"b2b-air-profile"),t.k0s()()()),2&l&&(t.Y8G("breadcrumbLabel","Tariffs"),t.R7$(2),t.R50("selectedIndex",c.selectedIndex))},dependencies:[p.C,C.mq,C.T8,et,xt],styles:[".profile-wrapper[_ngcontent-%COMP%]{padding:30px}"]})}return e})()}];let wt=(()=>{class e{static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[h.iI.forChild(yt),h.iI]})}return e})();var Dt=r(45596),Ft=r(34986),vt=r(86822),Tt=r(12208);let Et=(()=>{class e{static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[m.MD,wt,a.tP,Dt.O,Ft.P,C.RI,vt.h,b.X1,O.Hl,y.m_,Tt.x]})}return e})()},43793:(v,M,r)=>{r.d(M,{C:()=>b});var m=r(35285),h=r(19825),t=r(51983),u=r(22991),p=r(89985),C=r(9063),x=r(38684);function _(D,i){if(1&D&&(p.j41(0,"li",2)(1,"a",3),p.EFF(2),p.k0s()()),2&D){const s=i.$implicit,a=i.index,g=p.XpG();p.R7$(),p.AVh("active",a===g.breadcrumbs.length-1),p.Y8G("routerLink",s.url)("queryParams",s.params),p.R7$(),p.SpI(" ",s.label," ")}}let b=class j{set breadcrumbLabel(i){this.label=i}constructor(i,s){this.router=i,this.route=s}ngOnInit(){this.route.data.pipe((0,t.n)(i=>(this.breadcrumbs=i?.breadcrumbs,this.route.queryParams)),(0,u.Z)(i=>{const s=Object.keys(i).reduce((a,g)=>("category"!==g&&"childCategory"!==g&&(a[g]=i[g]),a),{});return Object.keys(i).forEach(a=>{if("companyId"===a){const g=this.breadcrumbs.findIndex(y=>"OFFERS"===y.label);g&&this.breadcrumbs.splice(g,1);const O=i[a].slice(0,i[a].lastIndexOf("-"));this.addBreadcrumb(O,`/b2bmarket/company/${i[a]}`)}else"category"!==a&&"childCategory"!==a||this.breadcrumbs.some(g=>g.label===i[a])||this.addBreadcrumb(i[a],`${this.breadcrumbs[this.breadcrumbs.length-1].url}/${i[a]}`,Object.keys(s).length>0?s:null)}),this.route.parent.params}),(0,u.Z)(i=>{if(i?.id&&this.alreadyExist(i?.id||i?.category&&this.alreadyExist(i?.category))){const s=i?.id||i?.category,a=this.router.url.substring(0,this.router.url.indexOf(s)+s.length);this.addBreadcrumb(s,a)}return this.route.params}),(0,h.s)(this)).subscribe(i=>{if(i?.id&&this.alreadyExist(i?.id)||i?.category&&this.alreadyExist(i?.category)){const s=i?.id||i?.category,a=this.router.url.substring(0,this.router.url.indexOf(s)+s.length);this.addBreadcrumb(s,a,null,i?.category?"category":null)}if(i?.childCategory&&this.alreadyExist(i?.childCategory)){const s=this.router.url.substring(0,this.router.url.indexOf(i.childCategory)+i.childCategory.length);this.addBreadcrumb(i.childCategory,s)}i?.productId&&this.alreadyExist(i?.productId)&&this.addBreadcrumb(i.productId,this.router.url),this.label&&this.setLabel(this.label)})}setLabel(i){this.breadcrumbs[this.breadcrumbs.length-1].label=i,this.breadcrumbs[this.breadcrumbs?.length-2].url.includes("/products/")&&this.breadcrumbs.splice(this.breadcrumbs.length-2,1)}alreadyExist(i){return!this.breadcrumbs.some(s=>s.label===i)}addBreadcrumb(i,s,a,g){if(this.breadcrumbs.some(O=>"category"===O?.type)){const O=this.breadcrumbs.indexOf(this.breadcrumbs.find(y=>"category"===y?.type));this.breadcrumbs.splice(O,1)}this.breadcrumbs=[...this.breadcrumbs,{label:i,url:s,params:a,type:g}]}static#t=this.\u0275fac=function(s){return new(s||j)(p.rXU(C.Ix),p.rXU(C.nX))};static#e=this.\u0275cmp=p.VBU({type:j,selectors:[["b2b-breadcrumbs"]],inputs:{breadcrumbLabel:"breadcrumbLabel"},decls:2,vars:1,consts:[[1,"breadcrumb"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],["b2bNgxLink","",3,"routerLink","queryParams"]],template:function(s,a){1&s&&(p.j41(0,"ul",0),p.DNE(1,_,3,5,"li",1),p.k0s()),2&s&&(p.R7$(),p.Y8G("ngForOf",a.breadcrumbs))},dependencies:[x.Sq,C.Wk],styles:[".breadcrumb[_ngcontent-%COMP%]{padding:18px 100px 0}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#222224;font-size:11px;font-weight:500;line-height:136%;letter-spacing:.66px;text-transform:uppercase}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#9fa4bb}@media (max-width: 48em){.breadcrumb[_ngcontent-%COMP%]{padding:18px;border-bottom:1px solid #9FA4BB}}"]})};b=(0,m.Cg)([(0,h.d)()],b)},34986:(v,M,r)=>{r.d(M,{P:()=>p}),r(43793);var h=r(38684),t=r(9063),u=r(89985);let p=(()=>{class C{static#t=this.\u0275fac=function(b){return new(b||C)};static#e=this.\u0275mod=u.$C({type:C});static#n=this.\u0275inj=u.G2t({imports:[h.MD,t.iI]})}return C})()},45596:(v,M,r)=>{r.d(M,{O:()=>t});var m=r(38684),h=r(89985);let t=(()=>{class u{static#t=this.\u0275fac=function(x){return new(x||u)};static#e=this.\u0275mod=h.$C({type:u});static#n=this.\u0275inj=h.G2t({imports:[m.MD]})}return u})()},12208:(v,M,r)=>{r.d(M,{x:()=>u});var m=r(38684),h=r(3470),t=r(89985);let u=(()=>{class p{static#t=this.\u0275fac=function(_){return new(_||p)};static#e=this.\u0275mod=t.$C({type:p});static#n=this.\u0275inj=t.G2t({imports:[m.MD,h.F]})}return p})()}}]);