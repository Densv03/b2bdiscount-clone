"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[5462],{85462:(C,d,t)=>{t.r(d),t.d(d,{AuthGoogleSignInSuccessModule:()=>G});var g=t(96814),v=t(48589),u=t(44112),S=t(97582),s=t(86825),l=t(51791),o=t(65879),y=t(77247),f=t(69019);let r=class m{constructor(c,e,i,h){this._activatedRoute=c,this._authService=e,this._router=i,this.mixpanelService=h}ngOnInit(){this._activatedRoute.queryParams.pipe((0,l.t)(this)).subscribe(c=>{const{token:e}=c,h=e.endsWith("/")?e.slice(0,-1):e;this._authService.updateToken(h),this._authService.initUser(),this._authService.getUser().pipe((0,l.t)(this)).subscribe(a=>{console.log("AUTH SERVICE GOOGLE SIGN IN");const p={User_id:a?._id,"Account type":a?.rootRole?.displayName,"Company Name":a?.company,"Auth Method":a?.socialAuthType};this.mixpanelService.logIn(p),this.mixpanelService.track("Login completed",p),this._authService.updateToken(h),this._authService.updateRole(a?.role),this._router.navigateByUrl("/")})})}static#t=this.\u0275fac=function(e){return new(e||m)(o.Y36(u.gz),o.Y36(y.e),o.Y36(u.F0),o.Y36(f.h))};static#e=this.\u0275cmp=o.Xpm({type:m,selectors:[["b2b-auth-google-sign-in-success"]],decls:0,vars:0,template:function(e,i){},data:{animation:[(0,s.X$)("fadeInOut",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0}),(0,s.jt)(500,(0,s.oB)({opacity:1}))]),(0,s.eR)(":leave",[(0,s.jt)(500,(0,s.oB)({opacity:0}))])])]}})};r=(0,S.gn)([(0,l.c)()],r);const A=[{path:"",component:r}];let I=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=o.oAB({type:n});static#o=this.\u0275inj=o.cJS({imports:[u.Bz.forChild(A),u.Bz]})}return n})(),G=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=o.oAB({type:n});static#o=this.\u0275inj=o.cJS({imports:[g.ez,I,v._]})}return n})()}}]);