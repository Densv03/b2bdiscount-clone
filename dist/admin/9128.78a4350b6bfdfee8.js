"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9128],{69128:(C,d,t)=>{t.r(d),t.d(d,{AuthGoogleSignInSuccessModule:()=>A});var v=t(38684),g=t(75215),c=t(9063),p=t(52235),S=t(35285),a=t(24892),r=t(19825),e=t(89985),y=t(53154),I=t(36542);let h=class l{constructor(n,i,s,u){this._activatedRoute=n,this._authService=i,this._router=s,this.mixpanelService=u}ngOnInit(){this._activatedRoute.queryParams.pipe((0,r.s)(this)).subscribe(n=>{const{token:i}=n,u=i.endsWith("/")?i.slice(0,-1):i;this._authService.updateToken(u),this._authService.initUser(),this._authService.getUser().pipe((0,r.s)(this)).subscribe(m=>{console.log("AUTH SERVICE GOOGLE SIGN IN"),this.trackLogin(m),this._authService.updateToken(u),this._authService.updateRole(m?.role),this._router.navigateByUrl("/")})})}trackLogin(n){var i=this;return(0,p.A)(function*(){n&&i.mixpanelService.logIn({User_id:n?._id,"Account Type":n?.rootRole?.displayName,"Company Name":n?.company,"Auth Method":n?.socialAuthType})})()}static#t=this.\u0275fac=function(i){return new(i||l)(e.rXU(c.nX),e.rXU(y.u),e.rXU(c.Ix),e.rXU(I.U))};static#i=this.\u0275cmp=e.VBU({type:l,selectors:[["b2b-auth-google-sign-in-success"]],decls:0,vars:0,template:function(i,s){},data:{animation:[(0,a.hZ)("fadeInOut",[(0,a.kY)(":enter",[(0,a.iF)({opacity:0}),(0,a.i0)(500,(0,a.iF)({opacity:1}))]),(0,a.kY)(":leave",[(0,a.i0)(500,(0,a.iF)({opacity:0}))])])]}})};h=(0,S.Cg)([(0,r.d)()],h);const f=[{path:"",component:h}];let G=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#i=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[c.iI.forChild(f),c.iI]})}return o})(),A=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#i=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[v.MD,G,g.i]})}return o})()}}]);