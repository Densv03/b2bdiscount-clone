"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1724],{1724:(P,p,n)=>{n.r(p),n.d(p,{AdminArticleCategoriesModule:()=>N});var t=n(38684),s=n(9063),l=n(35285),f=n(28225),m=n(22001),d=n(19825),v=n(46295),e=n(89985),u=n(82575),r=n(41513),_=n(24797),o=n(55774),O=n(61553),C=n(27936),y=n(47852);function b(g,j){if(1&g&&(e.j41(0,"p",15),e.EFF(1),e.k0s()),2&g){const a=e.XpG();e.R7$(),e.SpI(" ",a.errorMessage," ")}}const A=[{path:"",component:(()=>{let g=class T{constructor(a,c,i){this._formBuilder=a,this._categoriesService=c,this._hotToastrService=i,this.b2bNgxInputThemeEnum=f.Q,this.b2bNgxButtonThemeEnum=m.a,this.formGroup=this.getFormGroup(),this.level1Categories=[],this.level2Categories=[],this.level3Categories=[],this.errorMessage=""}setLevel1Categories(){this._categoriesService.getWikiCategories().pipe((0,d.s)(this)).subscribe(a=>{this.level1Categories=a})}setLevel2Categories(){this.formGroup.get("selectLevel1Category").valueChanges.pipe((0,d.s)(this),(0,v.p)(a=>!!a)).subscribe(a=>{this.level2Categories=this.level1Categories.find(c=>c._id===a)?.children})}ngOnInit(){this.setLevel1Categories(),this.setLevel2Categories()}createCategory(){const a=this.formGroup.get("selectLevel1Category").value,c=this.formGroup.get("inputLevel1Category").value,i=this.formGroup.get("inputLevel2Category").value;this.errorMessage="";let h="",M="";if(c&&i)h={name:c},M={name:i};else{if(!a||!i)return void(this.errorMessage="To create a category you have to fill all fields; Each level have to be filled with select (already exist category) or with name (new one); You cant select 2 level category");h={id:a},M={name:i}}this._categoriesService.createWikiCategory(h,M).pipe((0,d.s)(this),this._hotToastrService.observe({loading:"Category is creating...",success:"Category successfully created",error:"Categories creating failed"})).subscribe()}updateCategory(){const a=this.formGroup.get("selectLevel1Category").value,c=this.formGroup.get("selectLevel2Category").value,i=this.formGroup.get("inputLevel1Category").value,h=this.formGroup.get("inputLevel2Category").value,M=this.formGroup.get("toggleLevel1Category").value,R=this.formGroup.get("toggleLevel2Category").value;this.errorMessage="";let x="",E="",L="";if(a&&(i||"boolean"==typeof M))x=a,E=i,L=M;else{if(!c||!h&&"boolean"!=typeof R)return void(this.errorMessage="To update a category you have to select it and enter a new name");x=c,E=h,L=R}this._categoriesService.updateWikiCategory(x,E,L).pipe((0,d.s)(this),this._hotToastrService.observe({loading:"Category is updating...",success:"Category successfully updated",error:"Categories updating failed"})).subscribe()}getFormGroup(){return this._formBuilder.group({selectLevel1Category:[null],selectLevel2Category:[null],inputLevel1Category:[null],inputLevel2Category:[null],toggleLevel1Category:[!0],toggleLevel2Category:[!0]})}static#e=this.\u0275fac=function(c){return new(c||T)(e.rXU(u.ok),e.rXU(r.w),e.rXU(_.U_))};static#t=this.\u0275cmp=e.VBU({type:T,selectors:[["b2b-admin-article"]],decls:24,vars:8,consts:[[1,"admin-article-categories"],[1,"admin-article-categories__create"],[1,"admin-article-categories__create-title"],[1,"admin-article-categories__create-sub-title"],[1,"admin-article-categories__create-form",3,"formGroup"],["formControlName","selectLevel1Category","bindValue","_id","bindLabel","name","placeholder","Select level 1 category",1,"admin-article-categories__create-select",3,"options"],["formControlName","selectLevel2Category","bindValue","_id","bindLabel","name","placeholder","Select level 2 category",1,"admin-article-categories__create-select",3,"options"],[1,"admin-article-categories__create-divider"],["formControlName","inputLevel1Category","placeholder","Create / Update level 1 category",1,"admin-article-categories__create-input",3,"theme"],["formControlName","inputLevel2Category","placeholder","Create / Update level 2 category",1,"admin-article-categories__create-input",3,"theme"],["formControlName","toggleLevel1Category",1,"admin-article-categories__create-toggle"],["formControlName","toggleLevel2Category",1,"admin-article-categories__create-toggle"],["b2bNgxButton","","type","button",1,"admin-article-categories__create-button",3,"click","theme"],["b2bNgxButton","","type","button",1,"admin-article-categories__update-button",3,"click","theme"],["class","admin-article-categories__error-message",4,"ngIf"],[1,"admin-article-categories__error-message"]],template:function(c,i){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"p",2),e.EFF(3," Create / Update category "),e.k0s(),e.j41(4,"p",3),e.EFF(5," To create a category you have to fill all levels "),e.k0s(),e.j41(6,"p",3),e.EFF(7," To update a category you have to select it and enter the new name "),e.k0s(),e.j41(8,"form",4),e.nrm(9,"b2b-ngx-select",5)(10,"b2b-ngx-select",6),e.j41(11,"p",7),e.EFF(12,"OR"),e.k0s(),e.j41(13,"p",7),e.EFF(14,"OR"),e.k0s(),e.nrm(15,"b2b-ngx-input",8)(16,"b2b-ngx-input",9)(17,"b2b-ngx-toggle",10)(18,"b2b-ngx-toggle",11),e.j41(19,"button",12),e.bIt("click",function(){return i.createCategory()}),e.EFF(20," Create category "),e.k0s(),e.j41(21,"button",13),e.bIt("click",function(){return i.updateCategory()}),e.EFF(22," Update category "),e.k0s()(),e.DNE(23,b,2,1,"p",14),e.k0s()()),2&c&&(e.R7$(8),e.Y8G("formGroup",i.formGroup),e.R7$(),e.Y8G("options",i.level1Categories),e.R7$(),e.Y8G("options",i.level2Categories),e.R7$(5),e.Y8G("theme",i.b2bNgxInputThemeEnum.BACKGROUND_WHITE),e.R7$(),e.Y8G("theme",i.b2bNgxInputThemeEnum.BACKGROUND_WHITE),e.R7$(3),e.Y8G("theme",i.b2bNgxButtonThemeEnum.BACKGROUND_BLUE),e.R7$(2),e.Y8G("theme",i.b2bNgxButtonThemeEnum.BACKGROUND_WHITE),e.R7$(2),e.Y8G("ngIf",i.errorMessage))},dependencies:[t.bT,o.f,O.Z,C.P,y.b,u.qT,u.BC,u.cb,u.j4,u.JD],styles:[".admin-article-categories[_ngcontent-%COMP%]{padding:30px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-sub-title[_ngcontent-%COMP%]{margin-top:5px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:50px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-input[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-select[_ngcontent-%COMP%]{width:49%}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-divider.admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-input.admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-toggle.admin-article-categories__create-divider[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-select.admin-article-categories__create-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;font-weight:700}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-divider.admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-input.admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-toggle.admin-article-categories__create-toggle[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-select.admin-article-categories__create-toggle[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__update-button[_ngcontent-%COMP%], .admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__create[_ngcontent-%COMP%]   .admin-article-categories__create-form[_ngcontent-%COMP%]   .admin-article-categories__create-button[_ngcontent-%COMP%]{width:49%;padding:15px 0;margin-top:50px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__update[_ngcontent-%COMP%]{margin-top:50px}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__update[_ngcontent-%COMP%]   .admin-article-categories__update-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.admin-article-categories[_ngcontent-%COMP%]   .admin-article-categories__error-message[_ngcontent-%COMP%]{text-align:center;margin-top:30px;color:#d0021b}"],changeDetection:0})};return g=(0,l.Cg)([(0,d.d)()],g),g})()}];let D=(()=>{class g{static#e=this.\u0275fac=function(c){return new(c||g)};static#t=this.\u0275mod=e.$C({type:g});static#n=this.\u0275inj=e.G2t({imports:[s.iI.forChild(A),s.iI]})}return g})();var B=n(50096),G=n(58764),I=n(59076),U=n(10196);let N=(()=>{class g{static#e=this.\u0275fac=function(c){return new(c||g)};static#t=this.\u0275mod=e.$C({type:g});static#n=this.\u0275inj=e.G2t({imports:[t.MD,B.E,G.i,I._,U.Y,u.X1,D]})}return g})()},55774:(P,p,n)=>{n.d(p,{f:()=>v});var t=n(89985),s=n(27322),l=n(82575),f=n(28225),m=n(90194),d=n(6113);let v=(()=>{class e{constructor(r){this._changeDetectionRef=r,this.label="",this.errors="",this.version=m.v.B2B,this.NgxInputVersionEnum=m.v,this.type="input",this.placeholder="",this.theme=f.Q.BACKGROUND_GRAY,this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new l.MJ(""),this.id=(0,s.Z)(),this.id="id"}get inputClass(){return this.version===m.v.B2B?"b2b-ngx-input":"globy-ngx-input"}ngOnChanges(r){r.errors&&this.formControl.setErrors(r.errors)}ngOnInit(){this.subscribeOnValueChanges()}validate(){return this.formControl.errors}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}writeValue(r){this.formControl.setValue(r)}setDisabledState(r){r?this.formControl.disable():this.formControl.enable()}subscribeOnValueChanges(){this.formControl.valueChanges.pipe().subscribe(r=>{this.onChange(r)})}static#e=this.\u0275fac=function(_){return new(_||e)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:e,selectors:[["b2b-ngx-input"]],inputs:{type:"type",placeholder:"placeholder",theme:"theme",label:"label",errors:"errors",version:"version"},features:[t.Jv_([{provide:l.kq,useExisting:(0,t.Rfq)(()=>e),multi:!0},{provide:l.cz,useExisting:(0,t.Rfq)(()=>e),multi:!0}]),t.OA$],decls:1,vars:7,consts:[["b2bNgxInput","",3,"theme","formControl","type","id","placeholder"]],template:function(_,o){1&_&&t.nrm(0,"input",0),2&_&&(t.HbH(o.inputClass),t.Y8G("theme",o.theme)("formControl",o.formControl)("type",o.type)("id",o.id)("placeholder",o.placeholder))},dependencies:[l.me,l.BC,l.l_,d.b],changeDetection:0})}return e})()},47852:(P,p,n)=>{n.d(p,{b:()=>u});var t=n(89985),s=n(82575),l=n(27322),f=n(38684);function m(r,_){1&r&&(t.j41(0,"span",6),t.EFF(1,"Visible"),t.k0s())}function d(r,_){1&r&&(t.j41(0,"span",7),t.EFF(1,"Hidden"),t.k0s())}function v(r,_){if(1&r&&(t.j41(0,"span",7),t.EFF(1),t.k0s()),2&r){const o=t.XpG(2);t.R7$(),t.JRh(o.customLabel)}}function e(r,_){if(1&r&&(t.qex(0),t.DNE(1,m,2,0,"span",4)(2,d,2,0,"span",5)(3,v,2,1,"span",5),t.bVm()),2&r){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.customLabel&&o.formControl.value),t.R7$(),t.Y8G("ngIf",!o.customLabel&&!o.formControl.value),t.R7$(),t.Y8G("ngIf",o.customLabel)}}let u=(()=>{class r{constructor(o){this._changeDetectorRef=o,this.placeholder="",this.errors={},this.customLabel="",this.emptyLabel=!1,this.subcategories=!1,this.toggled=!1,this.change=new t.bkB,this.type="checkbox",this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new s.MJ(!1),this.id=(0,l.Z)()}get error(){if(!this.errors)return"";const o=Object.keys(this.errors)[0];return this.errors[o]}ngOnInit(){this.subscribeOnValueChanges()}ngOnChanges(o){o.errors&&this.formControl.setErrors(o.errors.currentValue)}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe().subscribe(o=>{this.onChange(o)})}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}writeValue(o){this.formControl.setValue(o,{emitEvent:!1}),this.toggled=o,this._changeDetectorRef.detectChanges()}setDisabledState(o){o?this.formControl.disable():this.formControl.enable()}emitToggleChange(){this.toggled=!this.toggled,this.change.emit()}static#e=this.\u0275fac=function(O){return new(O||r)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:r,selectors:[["b2b-ngx-toggle"]],inputs:{placeholder:"placeholder",errors:"errors",customLabel:"customLabel",emptyLabel:"emptyLabel",subcategories:"subcategories",toggled:"toggled"},outputs:{change:"change"},features:[t.Jv_([{provide:s.kq,useExisting:(0,t.Rfq)(()=>r),multi:!0},{provide:s.cz,useExisting:(0,t.Rfq)(()=>r),multi:!0}]),t.OA$],decls:4,vars:5,consts:[[1,"ngx-toggle"],[4,"ngIf"],["type","checkbox",1,"ngx-toggle-input",3,"click","ngModelChange","formControl","ngModel"],[1,"ngx-toggle-custom-input"],["class","ngx-toggle-label-visible",4,"ngIf"],["class","ngx-toggle-label-hidden",4,"ngIf"],[1,"ngx-toggle-label-visible"],[1,"ngx-toggle-label-hidden"]],template:function(O,C){1&O&&(t.j41(0,"label",0),t.DNE(1,e,4,3,"ng-container",1),t.j41(2,"input",2),t.bIt("click",function(){return C.emitToggleChange()}),t.mxI("ngModelChange",function(b){return t.DH7(C.toggled,b)||(C.toggled=b),b}),t.k0s(),t.nrm(3,"span",3),t.k0s()),2&O&&(t.AVh("subcategories",C.subcategories),t.R7$(),t.Y8G("ngIf",!C.emptyLabel),t.R7$(),t.Y8G("formControl",C.formControl),t.R50("ngModel",C.toggled))},dependencies:[f.bT,s.Zm,s.BC,s.l_],styles:['.ngx-toggle[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding-left:60px;font-size:12px;color:gray;height:26px}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]{opacity:0;height:100%;width:100%}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background-color:#0f0f11}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{transform:translate(26px)}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]{position:absolute;cursor:pointer;left:0;top:0;background-color:#556274;transition:.4s;width:52px;height:100%;border-radius:34px}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:50%;height:18px;width:18px;left:4px;bottom:4px;background-color:#fff;transition:.4s}.ngx-toggle.subcategories[_ngcontent-%COMP%]{height:20px;padding-left:27px}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{transform:translate(19px)}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]{width:40px}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]:before{width:14px;height:14px;bottom:3px}.ngx-toggle-label-visible[_ngcontent-%COMP%], .ngx-toggle-label-hidden[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#556274}'],changeDetection:0})}return r})()},10196:(P,p,n)=>{n.d(p,{Y:()=>f});var t=n(38684),s=n(82575),l=n(89985);let f=(()=>{class m{static#e=this.\u0275fac=function(e){return new(e||m)};static#t=this.\u0275mod=l.$C({type:m});static#n=this.\u0275inj=l.G2t({imports:[t.MD,s.X1]})}return m})()}}]);