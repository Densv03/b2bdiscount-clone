"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6390],{17921:(K,k,a)=>{a.r(k),a.d(k,{GlobyFileCard:()=>N});var c=a(54438),s=a(41820),e=a(24318),P=a(45312),b=a(81953),X=a(46635);function S(d,T){if(1&d&&(c.j41(0,"div",9)(1,"div",10)(2,"span",11),c.EFF(3),c.k0s()()()),2&d){const f=c.XpG();c.xc7("align-items","end"),c.R7$(3),c.SpI("+",f.length,"")}}function F(d,T){if(1&d){const f=c.RV6();c.j41(0,"button",13),c.bIt("click",function(){c.eBV(f);const r=c.XpG(2);return c.Njj(r.edit())}),c.nrm(1,"img",14),c.k0s()}2&d&&(c.R7$(),c.Y8G("name","edit"))}function I(d,T){if(1&d){const f=c.RV6();c.j41(0,"button",13),c.bIt("click",function(){c.eBV(f);const r=c.XpG(2);return c.Njj(r.delete())}),c.nrm(1,"img",15),c.k0s()}2&d&&(c.R7$(),c.Y8G("name","close"))}function A(d,T){if(1&d&&(c.j41(0,"div",3),c.DNE(1,F,2,1,"button",12)(2,I,2,1,"button",12),c.k0s()),2&d){const f=c.XpG();c.R7$(),c.vxM(1,f.showEdit?1:-1),c.R7$(),c.vxM(2,f.showDelete?2:-1)}}function z(d,T){1&d&&(c.j41(0,"div",4)(1,"span",16),c.EFF(2,"main"),c.k0s()())}function R(d,T){if(1&d&&c.nrm(0,"img",17),2&d){const f=c.XpG(2);c.FS9("alt",f.index?"Image #"+f.index:"Image"),c.Y8G("src",f.url,c.B4B)}}function O(d,T){if(1&d&&c.nrm(0,"video",18),2&d){const f=c.XpG(2);c.Y8G("src",f.url,c.B4B)}}function W(d,T){if(1&d&&c.DNE(0,R,1,2)(1,O,1,1),2&d){let f;const M=c.XpG();c.vxM(0,"image"===(f=M.type)?0:"video"===f?1:-1)}}function U(d,T){if(1&d&&(c.j41(0,"span",7),c.EFF(1),c.k0s()),2&d){const f=c.XpG();c.R7$(),c.JRh(f.title)}}function Y(d,T){if(1&d&&(c.j41(0,"span",8),c.EFF(1),c.k0s()),2&d){const f=c.XpG();c.R7$(),c.JRh(f.description)}}let N=(()=>{class d{constructor(f){this.cdr=f,this.showDelete=!0,this.showEdit=!1,this.deleteItem=new c.bkB,this.editItem=new c.bkB,this.type="image"}ngOnChanges(f){this.initDefault()}ngOnInit(){this.initDefault()}getUrlFormFile(){const f=new FileReader;f.onload=()=>{this.url=f.result,this.cdr.detectChanges()},f.readAsDataURL(this.data),this.type="image"}initDefault(){this.handleDataAsFile()||this.getUrlFormItem()}getUrlFormItem(){let{type:f,url:M}=this.handleItem(this.data);(M?.includes("youtube.com")||M?.includes("youtu.be"))&&(M=this.getThumbnailUrl(M)),this.type=f,this.url=M,this.cdr.detectChanges()}delete(){this.deleteItem.next(this.index)}edit(){this.editItem.next(this.index)}getThumbnailUrl(f){return f.includes(P.c.apiUrl)?f:`https://img.youtube.com/vi/${this.extractVideoID(f)}/0.jpg`}videoUrl(){this.url=URL.createObjectURL(this.data),this.type="video"}extractVideoID(f){const r=f.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);if(r&&11==r[2].length)return r[2];throw new Error("Invalid link")}handleDataAsFile(){const f=function B(d){return d instanceof File}(this.data);return f&&(this.data?.type?.includes("image")?this.getUrlFormFile():this.data?.type?.includes("video")&&this.videoUrl()),f}static#e=this.\u0275fac=function(M){return new(M||d)(c.rXU(c.gRc))};static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["globy-file-card"]],inputs:{data:"data",index:"index",handleItem:"handleItem",showDelete:"showDelete",length:"length",showEdit:"showEdit",title:"title",description:"description"},outputs:{deleteItem:"deleteItem",editItem:"editItem"},standalone:!0,features:[c.OA$,c.aNF],decls:10,vars:6,consts:[[1,"flex","flex-col","gap-3","justify-end","content-end","items-end"],[1,"grid","grid-cols-3","grid-rows-3"],[1,"z-10","p-2","flex","justify-end","flex-row","col-start-3","col-end-4","row-start-3","row-end-4",3,"align-items"],[1,"z-10","flex","flex-row","items-baseline","justify-end","p-2","w-full","col-start-1","col-end-4","row-start-1","row-end-2","gap-2"],[1,"z-10","flex","flex-row","items-center","justify-start","col-start-1","col-end-2","row-start-1","row-end-2","w-full","h-auto"],[1,"z-0","flex","items-end","justify-start","h-full","w-full","col-start-1","col-end-4","row-start-1","row-end-4"],[1,"flex","flex-col"],[1,"font-semibold","truncate"],[1,"text-sm"],[1,"z-10","p-2","flex","justify-end","flex-row","col-start-3","col-end-4","row-start-3","row-end-4"],[1,"length","z-20","flex","items-center","justify-center","!h-[32px]","!w-[32px]","rounded-md"],[1,"text-black","font-semibold"],["type","button","b2bNgxButton","",1,"top__button"],["type","button","b2bNgxButton","",1,"top__button",3,"click"],["b2bNgxIcon","","alt","Edit button icon",1,"!h-[14px]",3,"name"],["b2bNgxIcon","","alt","Delete button icon",1,"w-[16px]",3,"name"],[1,"main-badge","text-white","text-[8px]","!bg-red-500","p-1","px-2"],[1,"aspect-square","w-full","h-full","object-cover","rounded-md",3,"src","alt"],["preload","auto","playsinline","","muted","","loop","","autoplay","",1,"w-full","h-full","aspect-square","bg-black","rounded-md",3,"src"]],template:function(M,r){1&M&&(c.j41(0,"div",0)(1,"div",1),c.DNE(2,S,4,3,"div",2)(3,A,3,2,"div",3)(4,z,3,0,"div",4),c.j41(5,"div",5),c.DNE(6,W,2,1),c.k0s()(),c.j41(7,"div",6),c.DNE(8,U,2,1,"span",7)(9,Y,2,1,"span",8),c.k0s()()),2&M&&(c.R7$(2),c.vxM(2,r.length?2:-1),c.R7$(),c.vxM(3,r.showEdit||r.showDelete?3:-1),c.R7$(),c.vxM(4,0===r.index?4:-1),c.R7$(2),c.vxM(6,r.url?6:-1),c.R7$(2),c.vxM(8,r.title?8:-1),c.R7$(),c.vxM(9,r.description?9:-1))},dependencies:[s.i,b.Z,e.F,X.i],styles:[".main-badge[_ngcontent-%COMP%]{background:#ee3535;font-size:8px;border-top-right-radius:.125rem;border-bottom-right-radius:.125rem}.top__button[_ngcontent-%COMP%]{z-index:10;display:flex;width:24px;cursor:pointer;align-items:center;justify-content:center;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-bg-opacity: .95;padding:.25rem}.top__button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity));opacity:.3}.length[_ngcontent-%COMP%]{background-color:#fff6;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}"],changeDetection:0})}return d})()},52029:(K,k,a)=>{a.d(k,{G:()=>ee});var c=a(31635),s=a(54438),e=a(44492),B=a(41820),P=a(49894),b=a(67376),X=a.n(b),S=a(60177),F=a(69847),I=a(29060),A=a(89417),z=a(24318),R=a(17921);function O(_,E){if(1&_){const g=s.RV6();s.j41(0,"globy-file-card",2),s.bIt("deleteItem",function(C){s.eBV(g);const D=s.XpG(2);return s.Njj(D.delete(C))})("editItem",function(C){s.eBV(g);const D=s.XpG(2);return s.Njj(D.edit(C))}),s.k0s()}if(2&_){const g=s.XpG(),v=g.$implicit,C=g.$index,D=s.XpG();s.Y8G("showDelete",D.showDelete)("showEdit",D.showEdit)("handleItem",D.handleItem)("data",v)("index",C)}}function W(_,E){1&_&&s.DNE(0,O,1,5,"globy-file-card",1),2&_&&s.vxM(0,E.$implicit?0:-1)}let U=(()=>{class _{constructor(){this.deleteItem=new s.bkB,this.editItem=new s.bkB}delete(g){this.deleteItem.next(g)}edit(g){this.editItem.next(g)}static#e=this.\u0275fac=function(v){return new(v||_)};static#t=this.\u0275cmp=s.VBU({type:_,selectors:[["globy-file-list"]],inputs:{items:"items",handleItem:"handleItem",showDelete:"showDelete",showEdit:"showEdit",customClass:"customClass"},outputs:{deleteItem:"deleteItem",editItem:"editItem"},standalone:!0,features:[s.aNF],decls:3,vars:1,consts:[[1,"grid","grid-flow-row","gap-3",3,"ngClass"],[3,"showDelete","showEdit","handleItem","data","index"],[3,"deleteItem","editItem","showDelete","showEdit","handleItem","data","index"]],template:function(v,C){1&v&&(s.j41(0,"div",0),s.Z7z(1,W,1,1,null,null,s.Vm6),s.k0s()),2&v&&(s.Y8G("ngClass",C.customClass),s.R7$(),s.Dyx(C.items))},dependencies:[R.GlobyFileCard,S.YU],encapsulation:2,changeDetection:0})}return _})();var Y=a(72558),N=a(32102),d=a(81953),T=a(46635);function f(_,E){if(1&_&&s.nrm(0,"img",5),2&_){const g=s.XpG();s.Y8G("name",g.buttonIcon)}}function M(_,E){if(1&_&&(s.j41(0,"span",7),s.EFF(1),s.k0s()),2&_){const g=s.XpG();s.R7$(),s.JRh(g.noFileLabel)}}function r(_,E){1&_&&(s.j41(0,"mat-error",11),s.EFF(1,"This field is required"),s.k0s())}function L(_,E){if(1&_&&(s.j41(0,"div",2),s.Z7z(1,r,2,0,"mat-error",11,s.Vm6),s.k0s()),2&_){const g=s.XpG();s.R7$(),s.Dyx(g.errors)}}function J(_,E){if(1&_&&(s.j41(0,"div",9),s.EFF(1),s.k0s()),2&_){const g=s.XpG();s.R7$(),s.SpI(" ",g.description," ")}}function Q(_,E){if(1&_){const g=s.RV6();s.j41(0,"globy-file-list",12),s.bIt("deleteItem",function(C){s.eBV(g);const D=s.XpG();return s.Njj(D.delete(C))}),s.k0s()}if(2&_){const g=s.XpG();s.Y8G("customClass",g.customListClass)("showDelete",g.showDelete)("handleItem",g.handleItem)("items",g.items)}}let ee=(()=>{let _=class ge extends e.t{constructor(){super(),this.buttonIcon="export",this.buttonLabel="Upload file",this.maxFileWeight=10,this.accept=F.eG,this.showResulList=!0,this.showDelete=!0,this.hotToastService=(0,s.WQX)(Y.U_)}get value(){return this.formControl?.value||[]}get acceptTypes(){return this.accept.map(v=>`.${v}`).join(", ")}get items(){return Array.isArray(this.formControl.value)?this.formControl.value:[this.formControl.value]}delete(g){let v=X().cloneDeep(this.value);v=X().without(v,v[g]),this.formControl.patchValue(v)}uploadFile(g){let v=g.target.files;if(!this.checkFormat(v))return;const C=this.checkFileSize(v);this.formControl.patchValue(this.multiple?[...this.value,...C]:[...C])}checkFormat(g){const D=Array.from(g).map(w=>w.name.split(".").pop()).every(w=>this.accept.includes(w));return D||this.hotToastService.error("Wrong file type"),D}checkFileSize(g){let v=Array.from(g);for(let C=0;C<v.length;C++){const D=v[C];D.size/1e6>this.maxFileWeight&&(this.hotToastService.error(`File "${D.name}" is too big`),v=v.filter(w=>w.name!==D.name))}return v}static#e=this.\u0275fac=function(v){return new(v||ge)};static#t=this.\u0275cmp=s.VBU({type:ge,selectors:[["globy-file"]],inputs:{buttonIcon:"buttonIcon",buttonLabel:"buttonLabel",buttonClass:"buttonClass",maxFileWeight:"maxFileWeight",description:"description",multiple:"multiple",accept:"accept",noFileLabel:"noFileLabel",showResulList:"showResulList",customListClass:"customListClass",showDelete:"showDelete",handleItem:"handleItem",errors:"errors"},standalone:!0,features:[s.Jv_([(0,I.J)(ge)]),s.Vt3,s.aNF],decls:13,vars:9,consts:[["fileInput",""],[1,"flex","flex-col","gap-3"],[1,"flex","flex-col"],[1,"flex","flex-row","items-center","gap-3"],["b2bNgxButton","","type","button",1,"upload-button","text-xs","cursor-pointer","rounded-sm","px-3","py-2","flex","flex-row","gap-2","items-center",3,"click","ngClass"],["b2bNgxIcon","",1,"cursor-pointer",3,"name"],[1,"cursor-pointer"],[1,"!text-xs","md:text-base"],["type","file",1,"hidden",3,"change","accept","multiple"],[1,"flex","items-center","justify-start","font-secondary","md:w-1/2","!text-xs","md:text-base"],[3,"customClass","showDelete","handleItem","items"],[1,"text-red-500","text-xs"],[3,"deleteItem","customClass","showDelete","handleItem","items"]],template:function(v,C){if(1&v){const D=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),s.bIt("click",function(){s.eBV(D);const Z=s.sdS(9);return s.Njj(Z.click())}),s.DNE(4,f,1,1,"img",5),s.j41(5,"span",6),s.EFF(6),s.k0s()(),s.DNE(7,M,2,1,"span",7),s.j41(8,"input",8,0),s.bIt("change",function(Z){return s.eBV(D),s.Njj(C.uploadFile(Z))}),s.k0s()(),s.DNE(10,L,3,0,"div",2),s.k0s(),s.DNE(11,J,2,1,"div",9)(12,Q,1,4,"globy-file-list",10),s.k0s()}2&v&&(s.R7$(3),s.Y8G("ngClass",C.buttonClass),s.R7$(),s.vxM(4,C.buttonIcon?4:-1),s.R7$(2),s.JRh(C.buttonLabel),s.R7$(),s.vxM(7,!C.noFileLabel||null!=C.formControl&&null!=C.formControl.value&&C.formControl.value.length?-1:7),s.R7$(),s.Y8G("accept",C.acceptTypes)("multiple",C.multiple),s.R7$(2),s.vxM(10,C.errors?10:-1),s.R7$(),s.vxM(11,C.description?11:-1),s.R7$(),s.vxM(12,C.showResulList?12:-1))},dependencies:[B.i,d.Z,S.YU,U,A.X1,z.F,T.i,N.TL],styles:[".upload-button[_ngcontent-%COMP%]{border:2px solid #000000}"]})};return _=(0,c.Cg)([(0,P.d)()],_),_})()},69847:(K,k,a)=>{a.d(k,{Eo:()=>e,eG:()=>c});const c=["png","svg","jpg","jpeg","webp"],e=["mp4","avi","mov","flv","mkv","wmv","avchd","webm"]},27162:(K,k,a)=>{a.d(k,{T:()=>re});var c=a(10467),s=a(31635),e=a(45909),B=a(78935),P=a(34006),b=a(89417),X=a(42944),S=a(31586),F=a(60177),I=a(76108),A=a(32941),z=a(41820),R=a(61594),O=a(76382),W=a(54843),U=a(49894),Y=a(32102),N=a(34633),d=a(52029),T=a(97783),f=a(45312);function M(u,h){return p=>{const y=p.get(u).value,j=p.get(h).value;return y&&j&&new Date(y)>new Date(j)?{dateRangeError:!0}:null}}var r=a(54438),L=a(15890),J=a(72558),Q=a(265),ee=a(36529),_=a(39955),E=a(81953);const g=u=>({"md:mb-0 mb-20":u});function v(u,h){1&u&&(r.j41(0,"mat-error"),r.EFF(1,"Your title is too short. Min length is 5 symbols"),r.k0s())}function C(u,h){1&u&&(r.j41(0,"mat-error"),r.EFF(1,"Your title is too long. Max length is 40 symbols"),r.k0s())}function D(u,h){1&u&&r.eu8(0)}function w(u,h){if(1&u&&r.DNE(0,D,1,0,"ng-container",13),2&u){r.XpG(2);const p=r.sdS(30);r.Y8G("ngTemplateOutlet",p)}}function Z(u,h){1&u&&r.eu8(0)}function te(u,h){if(1&u&&r.DNE(0,Z,1,0,"ng-container",13),2&u){r.XpG(2);const p=r.sdS(32);r.Y8G("ngTemplateOutlet",p)}}function se(u,h){if(1&u&&r.DNE(0,v,2,0,"mat-error")(1,C,2,0,"mat-error")(2,w,1,1,"ng-container")(3,te,1,1,"ng-container"),2&u){const p=r.XpG();r.vxM(0,null!=p.title&&null!=p.title.errors&&p.title.errors.minlength?0:-1),r.R7$(),r.vxM(1,null!=p.title&&null!=p.title.errors&&p.title.errors.maxlength?1:-1),r.R7$(),r.vxM(2,null!=p.title&&null!=p.title.errors&&p.title.errors.required?2:-1),r.R7$(),r.vxM(3,null!=p.title&&null!=p.title.errors&&p.title.errors.cyrillic?3:-1)}}function H(u,h){1&u&&(r.j41(0,"mat-error"),r.EFF(1,"Your description is too short. Min length is 40 symbols"),r.k0s())}function V(u,h){1&u&&(r.j41(0,"mat-error"),r.EFF(1,"Your description is too long. Max length is 1000 symbols"),r.k0s())}function ce(u,h){1&u&&r.eu8(0)}function G(u,h){if(1&u&&r.DNE(0,ce,1,0,"ng-container",13),2&u){r.XpG(2);const p=r.sdS(30);r.Y8G("ngTemplateOutlet",p)}}function ne(u,h){1&u&&r.eu8(0)}function ie(u,h){if(1&u&&r.DNE(0,ne,1,0,"ng-container",13),2&u){r.XpG(2);const p=r.sdS(32);r.Y8G("ngTemplateOutlet",p)}}function $(u,h){if(1&u&&r.DNE(0,H,2,0,"mat-error")(1,V,2,0,"mat-error")(2,G,1,1,"ng-container")(3,ie,1,1,"ng-container"),2&u){const p=r.XpG();r.vxM(0,null!=p.description&&null!=p.description.errors&&p.description.errors.minlength?0:-1),r.R7$(),r.vxM(1,null!=p.description&&null!=p.description.errors&&p.description.errors.maxlength?1:-1),r.R7$(),r.vxM(2,null!=p.description&&null!=p.description.errors&&p.description.errors.required?2:-1),r.R7$(),r.vxM(3,null!=p.description&&null!=p.description.errors&&p.description.errors.cyrillic?3:-1)}}function oe(u,h){1&u&&r.eu8(0)}function de(u,h){if(1&u&&r.DNE(0,oe,1,0,"ng-container",13),2&u){r.XpG();const p=r.sdS(30);r.Y8G("ngTemplateOutlet",p)}}function q(u,h){1&u&&r.eu8(0)}function _e(u,h){1&u&&r.eu8(0)}function ve(u,h){if(1&u&&r.DNE(0,_e,1,0,"ng-container",13),2&u){r.XpG();const p=r.sdS(30);r.Y8G("ngTemplateOutlet",p)}}function me(u,h){1&u&&r.eu8(0)}function Ce(u,h){1&u&&(r.j41(0,"mat-error"),r.EFF(1,"This field is required"),r.k0s())}function ye(u,h){1&u&&(r.j41(0,"mat-error"),r.EFF(1,"You can use only latin symbols"),r.k0s())}function xe(u,h){1&u&&(r.j41(0,"mat-error"),r.EFF(1," Start date must be before end date. "),r.k0s())}function Fe(u,h){if(1&u&&r.DNE(0,xe,2,0,"mat-error"),2&u){const p=r.XpG();r.vxM(0,null!=p.form.errors&&p.form.errors.dateRangeError?0:-1)}}let re=class Re extends B.M{constructor(h,p,y,j,le){super(),this.tradeShow=h,this.authService=p,this.hotToastService=y,this.clientTradeShowService=j,this.fb=le,this.form=this.fb.group({title:["",[b.k0.required,b.k0.minLength(5),b.k0.maxLength(40),(0,N.r)()]],description:["",[b.k0.minLength(40),b.k0.maxLength(1e3),(0,N.r)()]],startedAt:[null,[b.k0.required]],endedAt:[null,[b.k0.required]],images:[null,[b.k0.required]],type:["upcoming"]},{validators:[M("startedAt","endedAt")]}),this.today=new Date("December 31, 2009, 23:15:30 GMT-11:00"),this.NgxInputVersionEnum=S.v,this.fileUploadDescription=T.B}get company(){return this.authService.company}get controls(){return this.form?.controls}get title(){return this.controls?.title}get description(){return this.controls?.description}ngOnInit(){this.patchValue()}onSubmit(){var h=this;return(0,c.A)(function*(){if(!(yield(0,W._)(h.clientTradeShowService.tradeShows$))?.find(y=>y?._id===h.tradeShow?._id))return h.create();h.edit(),h.onDismiss()})()}patchValue(){this.tradeShow&&this.form.patchValue({...this.tradeShow,startedAt:new Date(this.tradeShow.startedAt),endedAt:new Date(this.tradeShow.endedAt)})}edit(){const h={...this.tradeShow,...this.form.value,uploadedImages:this.form?.value?.images?.map(p=>p?._id||void 0).filter(p=>!!p)};console.log("EDIT::",h),this.clientTradeShowService.update(h).pipe((0,R.$)(),this.hotToastService.observe(O.g9)).subscribe(p=>{this.onDismiss(p)})}create(){const h={...this.tradeShow,...this.form.value};this.clientTradeShowService.create(h).pipe((0,U.s)(this),(0,R.$)(),this.hotToastService.observe(O.g9)).subscribe(p=>{this.onDismiss(p)})}onDismiss(h){super.onDismiss(h),this.clientTradeShowService.getListByCompanyId().subscribe()}handleImage(h){return{url:h?.path?f.c.apiUrl+encodeURIComponent(h?.path):null,type:"image"}}getFileErrors(){return this.controls.images?.errors?.required&&this.form.touched?["This field is required"]:void 0}static#e=this.\u0275fac=function(p){return new(p||Re)(r.rXU(P.Vh),r.rXU(L.u),r.rXU(J.U_),r.rXU(Q.f),r.rXU(b.ok))};static#t=this.\u0275cmp=r.VBU({type:Re,selectors:[["b2b-client-profile-trade-shows-modal"]],standalone:!0,features:[r.Vt3,r.aNF],decls:35,vars:45,consts:[["required",""],["cyrillic",""],["dateRange",""],[1,"p-2","md:max-w-[70vw]","md:h-auto","h-[100vh]","overflow-y-auto","md:mb-0","mb-20",3,"close","label"],[1,"flex","flex-col","gap-4","md:mb-0","mb-12",3,"ngSubmit","formGroup"],[1,"flex","flex-col"],["b2bNgxInput","","type","text",3,"formControlName","label","placeholder","version"],["b2bNgxInput","",3,"formControlName","label","placeholder","version"],[1,"flex","flex-col","gap-2","w-full"],[1,"font-semibold","text-sm","mb-2"],[1,"flex","flex-col","md:flex-row","gap-2"],[1,"flex","flex-col","md:w-1/2","w-full"],[3,"label","today","inputClassName","version","formControlName"],[4,"ngTemplateOutlet"],[3,"label","inputClassName","today","version","formControlName"],[1,"h-fit",3,"buttonLabel","customListClass","description","formControlName","noFileLabel","handleItem","maxFileWeight","multiple","showResulList","errors"],[1,"flex","flex-row","justify-center","items-center"],["b2bNgxButton","","type","submit",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled","ngClass"]],template:function(p,y){if(1&p){const j=r.RV6();r.j41(0,"b2b-client-profile-modal-container",3),r.nI1(1,"titlecase"),r.bIt("close",function(){return r.eBV(j),r.Njj(y.onDismiss())}),r.j41(2,"form",4),r.bIt("ngSubmit",function(){return r.eBV(j),r.Njj(y.onSubmit())}),r.j41(3,"div",5),r.nrm(4,"input",6),r.DNE(5,se,4,4),r.k0s(),r.j41(6,"div",5),r.nrm(7,"textarea",7),r.DNE(8,$,4,4),r.k0s(),r.j41(9,"div",8)(10,"span",9),r.EFF(11),r.nI1(12,"titlecase"),r.k0s(),r.j41(13,"div",10)(14,"div",11)(15,"b2b-datepicker",12),r.EFF(16," Date from "),r.k0s(),r.DNE(17,de,1,1,"ng-container")(18,q,1,0,"ng-container",13),r.k0s(),r.j41(19,"div",11)(20,"b2b-datepicker",14),r.EFF(21," Date to "),r.k0s(),r.DNE(22,ve,1,1,"ng-container")(23,me,1,0,"ng-container",13),r.k0s()()(),r.j41(24,"div",5),r.nrm(25,"globy-file",15),r.k0s(),r.j41(26,"div",16)(27,"button",17),r.EFF(28," Save changes "),r.k0s()()()(),r.DNE(29,Ce,2,0,"ng-template",null,0,r.C5r)(31,ye,2,0,"ng-template",null,1,r.C5r)(33,Fe,1,1,"ng-template",null,2,r.C5r)}if(2&p){const j=r.sdS(34);r.Y8G("label","Add "+r.bMT(1,39,y.tradeShow.type)+" exhibition"),r.R7$(2),r.Y8G("formGroup",y.form),r.R7$(2),r.Y8G("formControlName","title")("label","Exhibition name")("placeholder","Exhibition name")("version",y.NgxInputVersionEnum.GLOBY),r.R7$(),r.vxM(5,y.title.touched?5:-1),r.R7$(2),r.Y8G("formControlName","description")("label","Event description")("placeholder","Event description")("version",y.NgxInputVersionEnum.GLOBY),r.R7$(),r.vxM(8,null!=y.description&&y.description.touched?8:-1),r.R7$(3),r.SpI("",r.bMT(12,41,y.tradeShow.type)," period"),r.R7$(4),r.Y8G("label","Date from")("today",y.startedAt)("inputClassName","text-xs")("version",y.NgxInputVersionEnum.GLOBY)("formControlName","startedAt"),r.R7$(2),r.vxM(17,null!=y.controls.startedAt&&null!=y.controls.startedAt.errors&&y.controls.startedAt.errors.required?17:-1),r.R7$(),r.Y8G("ngTemplateOutlet",j),r.R7$(2),r.Y8G("label","Date to")("inputClassName","text-xs")("today",y.controls.startedAt.value)("version",y.NgxInputVersionEnum.GLOBY)("formControlName","endedAt"),r.R7$(2),r.vxM(22,null!=y.controls.endedAt&&null!=y.controls.endedAt.errors&&y.controls.endedAt.errors.required?22:-1),r.R7$(),r.Y8G("ngTemplateOutlet",j),r.R7$(2),r.Y8G("buttonLabel","Choose photos")("customListClass","grid-cols-2 md:grid-cols-5 lg:grid-cols-7")("description",y.fileUploadDescription)("formControlName","images")("noFileLabel","No file chosen")("handleItem",y.handleImage)("maxFileWeight",5)("multiple",!0)("showResulList",!0)("errors",y.getFileErrors()),r.R7$(2),r.Y8G("disabled",y.form.invalid)("ngClass",r.eq3(43,g,null==y.controls.images||null==y.controls.images.value?null:y.controls.images.value[0]))}},dependencies:[e.Q,X.E,ee.b,b.X1,b.qT,b.me,b.BC,b.cb,b.j4,b.JD,F.PV,I.h,_.i,A.A,z.i,E.Z,Y.TL,d.G,F.T3,F.YU],styles:["__datepicker[_nghost-%COMP%]{margin-left:8px}__datepicker[_nghost-%COMP%]     input.datepicker{height:64px;border:none;border-radius:14px;padding:0 16px;width:100%}__datepicker[_nghost-%COMP%]     input.datepicker::placeholder{padding-left:20px}.datepicker[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}  input.datepicker{height:48px;width:100%;border:1px solid #C6D1E2;border-radius:.375rem!important;padding:.5rem 1rem!important}  input.datepicker::placeholder{padding-left:20px}  button.b2b-ngx-button .ngx-file-button .outline .outline-black{border:1px solid black}  .ngx-file .control button{border-width:1px}mat-error[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}"],changeDetection:0})};re=(0,s.Cg)([(0,U.d)()],re)},97783:(K,k,a)=>{a.d(k,{B:()=>c,b:()=>s});const c="Image file size should be less than 5MB. Supported formats: .jpeg, .jpg, .png, .webp and .svg. Recommended image size is more than 640\xd7640 px.",s="To upload a video file, the user has to choose and upload files from the computer. Supported formats of the video: MP4, MOV, AVI, FLV, MKV, WMV, AVCHD, and WEBM. The maximum video size: 100MB."},66390:(K,k,a)=>{a.r(k),a.d(k,{ClientProfileSettingsNewComponent:()=>Ln});var c=a(10467),s=a(31635),e=a(54438),B=a(96850),P=a(95218),b=a(60177),X=a(67376),S=a.n(X),F=a(49894),I=a(61594),A=a(70152),z=a(88141),R=a(64507);const O=(o,i)=>i.label,W=(o,i)=>({"tab-border--active":o,"tab-border":i});function U(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){const l=e.eBV(t).$index,m=e.XpG();return e.Njj(m.activateTab(l))}),e.EFF(1),e.k0s()}if(2&o){const t=i.$implicit;e.Y8G("ngClass",e.l_i(2,W,t.active,!t.active)),e.R7$(),e.SpI(" ",t.label," ")}}let Y=class je{constructor(i,t){this.clientProfileSettingsTabsService=i,this.cdr=t,this.disabled=!1,this.defaultTab=S().cloneDeep(P.j),this.activeTab=new e.bkB,this.tabs=S().cloneDeep(P.v)}ngOnInit(){this.initTab()}activateTab(i){var t=this;return(0,c.A)(function*(){(yield t.clientProfileSettingsTabsService.isActivationPossible())?t.changeTab(i):t.clientProfileSettingsTabsService.openTabChangeModal().afterClosed().pipe((0,F.s)(t),(0,I.$)(),(0,A.B)(100),(0,z.M)(function(){var l=(0,c.A)(function*(m){m?yield t.clientProfileSettingsTabsService.initSaveModal(t.clientProfileSettingsTabsService.activeTab):yield t.clientProfileSettingsTabsService.initSaveModal(null)});return function(m){return l.apply(this,arguments)}}())).subscribe(()=>{t.changeTab(i),t.clientProfileSettingsTabsService.data$.next({first:null,second:null})})})()}changeTab(i){this.tabs.map(t=>t.active=!1),this.disabled||(this.tabs[i].active=!this.tabs[i].active),this.activeTab.emit(this.tabs[i]),this.clientProfileSettingsTabsService.currentTab.next(this.tabs[i]),this.clientProfileSettingsTabsService.activeTab=this.tabs[i],this.cdr.detectChanges()}initTab(){const i=this.tabs.findIndex(t=>t.label===this.defaultTab.label);this.clientProfileSettingsTabsService.activeTab=this.tabs[i],this.clientProfileSettingsTabsService.currentTab.next(this.tabs[i]),this.changeTab(i)}static#e=this.\u0275fac=function(t){return new(t||je)(e.rXU(R.l),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:je,selectors:[["b2b-client-profile-settings-tabs"]],inputs:{disabled:"disabled",defaultTab:"defaultTab"},outputs:{activeTab:"activeTab"},standalone:!0,features:[e.aNF],decls:3,vars:0,consts:[[1,"w-full","grid","grid-flow-col","overflow-x-scroll","no-scrollbar"],[1,"whitespace-nowrap","text-center","transition-all","ease-in-out","duration-300","cursor-pointer","flex","items-center","justify-center","text-black","hover:bg-[#EDF1FCFF]","px-3","py-2","text-secondary","text-md",3,"ngClass"],[1,"whitespace-nowrap","text-center","transition-all","ease-in-out","duration-300","cursor-pointer","flex","items-center","justify-center","text-black","hover:bg-[#EDF1FCFF]","px-3","py-2","text-secondary","text-md",3,"click","ngClass"]],template:function(t,n){1&t&&(e.j41(0,"div",0),e.Z7z(1,U,2,5,"div",1,O),e.k0s()),2&t&&(e.R7$(),e.Dyx(n.tabs))},dependencies:[B.RI,b.YU],styles:[".tab-border--active[_ngcontent-%COMP%]{border-bottom:2px solid #005dff}.tab-border[_ngcontent-%COMP%]{border-bottom:2px solid #cfdeff}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"],changeDetection:0})};Y=(0,s.Cg)([(0,F.d)()],Y);var N=a(1992),d=a(89417),T=a(41820),f=a(24318),M=a(75866),r=a(89986),L=a(15890);let J=class Ne{constructor(i,t){this.fb=i,this.authService=t,this.data=new e.bkB,this.form=this.fb.group({logo:[],banner:[]}),this.company=this.authService.company,this.initFormListener()}initFormListener(){this.form.valueChanges.pipe((0,F.s)(this)).subscribe(i=>{i.logo||(this.logo=void 0),i.banner||(this.banner=void 0),this.data.emit(i)})}patchLogo(i){this.form.get("logo").patchValue(i),this.company?.logo&&(this.company.logo=void 0)}patchBanner(i){this.form.get("banner").patchValue(i),this.company?.banner&&(this.company.banner=void 0)}static#e=this.\u0275fac=function(t){return new(t||Ne)(e.rXU(d.ok),e.rXU(L.u))};static#t=this.\u0275cmp=e.VBU({type:Ne,selectors:[["b2b-client-profile-settings-image-uploader"]],inputs:{company:"company"},outputs:{data:"data"},standalone:!0,features:[e.aNF],decls:7,vars:17,consts:[[3,"formGroup"],[1,"hidden","md:flex","w-full"],[1,"w-full",3,"file","buttonLabel","mode","path"],[1,"aspect-square","!h-52",3,"file","buttonLabel","mode","modalMode","path"],[1,"flex","flex-col","md:hidden","gap-4"],[1,"md:hidden",3,"file","label","mode","modalMode","orientation","buttonLabel","path"],[3,"file","buttonLabel","label","path"]],template:function(t,n){1&t&&(e.qex(0,0),e.j41(1,"div",1)(2,"b2b-client-profile-image-container",2),e.bIt("file",function(m){return n.patchBanner(m)}),e.j41(3,"b2b-client-profile-image-container",3),e.bIt("file",function(m){return n.patchLogo(m)}),e.k0s()()(),e.j41(4,"div",4)(5,"b2b-client-profile-image-container",5),e.bIt("file",function(m){return n.patchLogo(m)}),e.k0s(),e.j41(6,"b2b-client-profile-image-container",6),e.bIt("file",function(m){return n.patchBanner(m)}),e.k0s()(),e.bVm()),2&t&&(e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("buttonLabel","Upload Banner")("mode","desktop")("path",null==n.company||null==n.company.banner?null:n.company.banner.path),e.R7$(),e.Y8G("buttonLabel","Upload Logo")("mode","desktop")("modalMode","logo")("path",null==n.company||null==n.company.logo?null:n.company.logo.path),e.R7$(2),e.Y8G("label","Supported file types: PDF, PNG and JPG files. Maximum size: 5 MB")("mode","mobile")("modalMode","logo")("orientation","horizontal")("buttonLabel","Upload Logo")("path",null==n.company||null==n.company.logo?null:n.company.logo.path),e.R7$(),e.Y8G("buttonLabel","Upload Banner")("label","Supported file types: PDF, PNG and JPG files. Maximum size: 5 MB")("path",null==n.company||null==n.company.banner?null:n.company.banner.path))},dependencies:[T.i,f.F,M.f,d.X1,d.cb,d.j4,r.C],styles:[".container[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%]{display:flex!important}"],changeDetection:0})};J=(0,s.Cg)([(0,F.d)()],J);var Q=a(32102),ee=a(79601),_=a(42944),E=a(31586),g=a(83172),v=a(89992),C=a(99348),D=a(93564),w=a(99213);const Z=[{name:"Facebook",icon:"facebook",formControlName:"facebook",edit:!1},{name:"Instagram",icon:"instagram",formControlName:"instagram",edit:!1},{name:"LinkedIn",icon:"linkedin",formControlName:"linkedin",edit:!1},{name:"Twitter",icon:"twitter",formControlName:"twitter",edit:!1}];var te=a(88834),se=a(64660),H=a(71985),V=a(76382),ce=a(11058),G=a(81953);let ne=(()=>{class o{constructor(){this.initSave=new e.bkB}onInitSave(){this.initSave.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["b2b-client-profile-mobile-toolbar"]],outputs:{initSave:"initSave"},standalone:!0,features:[e.aNF],decls:3,vars:0,consts:[[1,"flex","flex-row","gap-4","!bg-white","justify-center","p-3","z-50"],["b2bNgxButton","",1,"bg-[#1C5BFE]","px-3","w-1/2","rounded-[0.25rem]","py-2","text-white",3,"click"]],template:function(n,l){1&n&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return l.onInitSave()}),e.EFF(2," Save changes "),e.k0s()())},dependencies:[T.i,G.Z]})}return o})();var ie=a(45909),$=a(34006),oe=a(78935),de=a(54153),q=a(36529);let _e=(()=>{class o extends oe.M{constructor(t){super(),this.socialMediaForm=t,this.control=new d.MJ("",[d.k0.required,(0,de.o)()]),this.NgxInputVersionEnum=E.v}ngOnInit(){this.patchValue()}patchValue(){this.socialMediaForm.value&&this.control.patchValue(this.socialMediaForm.value)}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU($.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["b2b-client-profile-social-media-modal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:7,consts:[[1,"md:w-[50vw]",3,"close","label"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-row","pl-3","items-center","!py-0","bg-white","border","border-[#C6D1E2]","rounded-md"],[1,"flex","flex-row","gap-2","pr-3"],[3,"svgIcon"],[1,"grid","w-full","divider"],["type","text","b2bNgxInput","",1,"border-none","!py-4","w-full",3,"formControl","placeholder","version"],[1,"flex","flex-row","justify-center"],["type","submit","b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"click","disabled"]],template:function(n,l){1&n&&(e.j41(0,"b2b-client-profile-modal-container",0),e.bIt("close",function(){return l.onDismiss()}),e.j41(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"mat-icon",4),e.j41(5,"span"),e.EFF(6),e.k0s()(),e.j41(7,"div",5),e.nrm(8,"input",6),e.k0s()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return l.onDismiss(l.control.value)}),e.EFF(11," Save changes "),e.k0s()()()()),2&n&&(e.Y8G("label","Add resources"),e.R7$(4),e.Y8G("svgIcon",l.socialMediaForm.icon+"_new"),e.R7$(2),e.JRh(l.socialMediaForm.name),e.R7$(2),e.Y8G("formControl",l.control)("placeholder","https://"+l.socialMediaForm.formControlName+".com/link")("version",l.NgxInputVersionEnum.GLOBY),e.R7$(2),e.Y8G("disabled",l.control.invalid))},dependencies:[ie.Q,_.E,q.b,w.An,d.X1,d.me,d.BC,d.l_,T.i,G.Z],styles:[".divider[_ngcontent-%COMP%]{border-left:1px solid #C6D1E2}"]})}return o})();var ve=a(29200),me=a(25232);const Ce=o=>({"!py-0":o});function ye(o,i){1&o&&(e.j41(0,"mat-error",6),e.EFF(1,"Please use only latin letters"),e.k0s())}function xe(o,i){1&o&&(e.j41(0,"mat-error",6),e.EFF(1,"Please use only latin letters"),e.k0s())}function Fe(o,i){1&o&&(e.j41(0,"mat-error",6),e.EFF(1,"You description is too short. Min length 40 symbols"),e.k0s())}function re(o,i){1&o&&(e.j41(0,"mat-error",6),e.EFF(1,"Please use only latin letters"),e.k0s())}function u(o,i){1&o&&e.nrm(0,"mat-icon",23),2&o&&e.Y8G("svgIcon","check-green")}function h(o,i){1&o&&(e.j41(0,"mat-error",6),e.EFF(1,'Must be website link. E.g. "https://google.com"'),e.k0s())}function p(o,i){1&o&&e.nrm(0,"mat-icon",19),2&o&&e.Y8G("svgIcon","check-green")}function y(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",25)(1,"div",29),e.nrm(2,"mat-icon",19),e.j41(3,"span"),e.EFF(4),e.k0s(),e.DNE(5,p,1,1,"mat-icon",19),e.k0s(),e.j41(6,"button",30),e.bIt("click",function(){const l=e.eBV(t).$implicit,m=e.XpG();return e.Njj(m.changeMedia(l))}),e.EFF(7),e.k0s()()}if(2&o){const t=i.$implicit,n=e.XpG();e.Y8G("ngClass",e.eq3(5,Ce,t.edit)),e.R7$(2),e.Y8G("svgIcon",t.icon+"_new"),e.R7$(2),e.JRh(t.name),e.R7$(),e.vxM(5,!t.edit&&n.socialMedia.get(t.formControlName).value.length>0?5:-1),e.R7$(2),e.SpI(" ",null!=t&&t.edit?"Edit":"Link"," ")}}let j=class Ge{constructor(i,t,n,l,m){this.authService=i,this.clientCompanyInformationService=t,this.matDialog=n,this.cdr=l,this.clientProfileSettingsTabsService=m,this.initSave$=new H.c,this.socialMedias=S().cloneDeep(Z),this.form=this.clientCompanyInformationService.initForm(),this.rootRoles$=new H.c,this.company=this.authService.company,this.annualRevenueList=(0,V.Aq)(V.G1),this.employeesNumberList=(0,V.Aq)(V.TK),this.yearOfFoundationList=this.clientCompanyInformationService.yearOfFoundationList,this.B2bNgxInputThemeEnum=ee.Q,this.NgxInputVersionEnum=E.v,this.NgxSelectVariantEnum=D.Y,this.B2bNgxSelectThemeEnum=v.E,this.rootRoles$=this.clientCompanyInformationService.rootRoles$}get website(){return this.form.get("website")}get isAdmin(){return this.clientCompanyInformationService.isAdmin}get socialMedia(){return this.form.get("socialMedia")}get isEqual(){return S().isEqual(this.form.value,this.initialFormValue)}ngOnInit(){this.clientCompanyInformationService.initDefault()}ngAfterViewInit(){this.detectChanges(),this.saveListener(),this.patchForm()}canDeactivate(){return!this.form.dirty||confirm("You have unsaved changes! Are you sure you want to leave?")}changeMedia(i){this.matDialog.open(_e,{data:{...i,value:this.socialMedia.get(i.formControlName).value},backdropClass:"modal__backdrop"}).afterClosed().pipe((0,I.$)(),(0,F.s)(this)).subscribe(t=>{t&&(this.socialMedia.get(i.formControlName).patchValue(t),this.cdr.detectChanges())})}onSubmit(){if(this.form.errors)return;const i=S().cloneDeep(this.initialFormValue);try{this.clientCompanyInformationService.onSubmit(this.form.value),this.initialFormValue=this.form.value,this.authService.updateCompany({...this.company,...this.form.value}),this.updateTabasData()}catch(t){console.error(t),this.initialFormValue=i}this.cdr.detectChanges()}handleData(i){(i.logo||void 0===i.logo)&&this.form.get("logo").patchValue(i.logo),(i.banner||void 0===i.banner)&&this.form.get("banner").patchValue(i.banner)}patchForm(){const i=this.authService.user,t=this.authService.company,n=S().omitBy(t?.socialMedia,l=>S().isUndefined(l)||S().isNull(l)||""===l||" "===l);setTimeout(()=>{this.form.patchValue({...t,socialMedia:n,businessType:t?.businessType||t?.roleId||i?.role?._id}),this.initialFormValue=this.form.value,this.clientProfileSettingsTabsService.data$.next({first:this.initialFormValue,second:this.form.value})},600)}detectChanges(){this.form.valueChanges.pipe((0,A.B)(100),(0,F.s)(this)).subscribe(i=>{this.updateTabasData(),this.cdr.detectChanges()})}saveListener(){this.clientProfileSettingsTabsService.initSubmit$.pipe((0,F.s)(this)).subscribe(i=>{null===i?this.patchForm():i?.label===N.y?.COMPANY_INFORMATION&&this.onSubmit()})}updateTabasData(){this.clientProfileSettingsTabsService.data$.next({first:this.form.value,second:this.initialFormValue})}static#e=this.\u0275fac=function(t){return new(t||Ge)(e.rXU(L.u),e.rXU(se.w),e.rXU($.bZ),e.rXU(e.gRc),e.rXU(R.l))};static#t=this.\u0275cmp=e.VBU({type:Ge,selectors:[["b2b-client-company-information"]],inputs:{initSave$:"initSave$"},standalone:!0,features:[e.Jv_([se.w]),e.aNF],decls:48,vars:44,consts:[[1,"flex","flex-col","gap-4","md:mb-0","mb-32","z-10"],[3,"data","company"],[1,"flex","flex-col","gap-12",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-col","gap-1"],["placeholder","Example: Google","b2bNgxInput","","type","text",3,"label","formControlName","version"],[1,"text-red-500","text-xs"],["placeholder","Briefly describe your company (at least 40 characters)","b2bNgxInput","",1,"h-40",3,"label","version","formControlName"],[1,"font-secondary","text-xs","text-[#556274]"],[1,"border","border-[#CFDEFF]"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["placeholder","Select",3,"options","bindValue","bindLabel","version","formControlName"],["placeholder","Select",3,"options","version","bindValue","bindLabel","formControlName"],["bindLabel","displayName","placeholder","Select",3,"options","bindValue","version","formControlName"],["placeholder","Select",3,"version","theme","formControlName"],["placeholder","Input office address","b2bNgxInput","",1,"h-40",3,"label","version","formControlName"],[1,"text-lg","font-bold"],[1,"flex","flex-row","items-center","gap-1","bg-white","rounded-md","border","border-[#C6D1E2]"],[1,"w-fit","px-3","flex","flex-row","gap-2","items-center","bg-white"],[3,"svgIcon"],[1,"h-full"],[1,"w-full","grid"],["placeholder","Paste link","b2bNgxInput","","type","text",1,"!w-full","rounded-md","border-none",3,"version","formControlName"],[1,"mr-4","w-12","min-w-[24px]",3,"svgIcon"],[1,"grid","grid-cols-1","gap-4","md:grid-cols-2",3,"formGroupName"],[1,"flex","flex-row","justify-between","pl-3","pr-2","items-center","!py-2","bg-white","border","border-[#C6D1E2]","rounded-md",3,"ngClass"],[1,"hidden","md:flex","flex-row","justify-center","items-center"],["type","submit","b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled"],[1,"fixed","md:hidden","left-0","bottom-0","w-full",3,"initSave"],[1,"flex","flex-row","gap-2"],["type","button","mat-flat-button","",1,"!bg-[#EEEEEE]","!px-10","!z-0",3,"click"]],template:function(t,n){if(1&t&&(e.j41(0,"div",0)(1,"b2b-client-profile-settings-image-uploader",1),e.bIt("data",function(m){return n.handleData(m)}),e.k0s(),e.j41(2,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(3,"div",3)(4,"div",4),e.nrm(5,"input",5),e.DNE(6,ye,2,0,"mat-error",6),e.k0s(),e.j41(7,"div",4),e.nrm(8,"textarea",7),e.DNE(9,xe,2,0,"mat-error",6)(10,Fe,2,0,"mat-error",6),e.j41(11,"span",8),e.EFF(12,"e.g. Company has been a trusted name in the manufacturing of high-quality steel components for over 30 years. Specializing in both domestic and international markets, we pride ourselves on delivering durable products that meet rigorous industry standards."),e.k0s()(),e.nrm(13,"div",9),e.j41(14,"div",10)(15,"b2b-ngx-select",11),e.EFF(16,"Year established "),e.k0s(),e.j41(17,"b2b-ngx-select",11),e.EFF(18,"Number of employees "),e.k0s(),e.j41(19,"b2b-ngx-select",12),e.EFF(20,"Annual revenue "),e.k0s(),e.j41(21,"b2b-ngx-select",13),e.EFF(22,"Business type "),e.k0s(),e.j41(23,"b2b-ngx-country-select",14),e.EFF(24,"Country "),e.k0s()(),e.j41(25,"div",4),e.nrm(26,"textarea",15),e.DNE(27,re,2,0,"mat-error",6),e.k0s(),e.nrm(28,"div",9),e.j41(29,"div",16),e.EFF(30,"Official resources"),e.k0s(),e.j41(31,"div",4)(32,"div",17)(33,"div",18),e.nrm(34,"mat-icon",19),e.j41(35,"span",20),e.EFF(36,"Website"),e.k0s()(),e.j41(37,"div",21),e.nrm(38,"input",22),e.k0s(),e.DNE(39,u,1,1,"mat-icon",23),e.k0s(),e.DNE(40,h,2,0,"mat-error",6),e.k0s(),e.j41(41,"div",24),e.Z7z(42,y,8,7,"div",25,e.Vm6),e.k0s()(),e.j41(44,"div",26)(45,"button",27),e.EFF(46," Save changes "),e.k0s()()()(),e.j41(47,"b2b-client-profile-mobile-toolbar",28),e.bIt("initSave",function(){return n.onSubmit()}),e.k0s()),2&t){let l,m,x,Qe;e.R7$(),e.Y8G("company",n.company),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(3),e.Y8G("label","Company name")("formControlName","companyName")("version",n.NgxInputVersionEnum.GLOBY),e.R7$(),e.vxM(6,null!=(l=n.form.get("companyName").errors)&&l.cyrillic?6:-1),e.R7$(2),e.Y8G("label","Company description")("version",n.NgxInputVersionEnum.GLOBY)("formControlName","companyDescription"),e.R7$(),e.vxM(9,null!=(m=n.form.get("companyDescription").errors)&&m.cyrillic?9:-1),e.R7$(),e.vxM(10,null!=(x=n.form.get("companyDescription").errors)&&x.minlength?10:-1),e.R7$(5),e.Y8G("options",n.yearOfFoundationList)("bindValue","id")("bindLabel","value")("version",n.NgxSelectVariantEnum.GLOBY)("formControlName","yearOfFoundation"),e.R7$(2),e.Y8G("options",n.employeesNumberList)("bindValue","id")("bindLabel","value")("version",n.NgxSelectVariantEnum.GLOBY)("formControlName","employeesNumber"),e.R7$(2),e.Y8G("options",n.annualRevenueList)("version",n.NgxSelectVariantEnum.GLOBY)("bindValue","id")("bindLabel","value")("formControlName","annualRevenue"),e.R7$(2),e.Y8G("options",null==n.clientCompanyInformationService?null:n.clientCompanyInformationService.subRoles)("bindValue",n.isAdmin?"_id":"id")("version",n.NgxSelectVariantEnum.GLOBY)("formControlName","businessType"),e.R7$(2),e.Y8G("version",n.NgxSelectVariantEnum.GLOBY)("theme",n.B2bNgxSelectThemeEnum.BACKGROUND_WHITE)("formControlName","country"),e.R7$(3),e.Y8G("label","Office address")("version",n.NgxInputVersionEnum.GLOBY)("formControlName","address"),e.R7$(),e.vxM(27,null!=(Qe=n.form.get("address").errors)&&Qe.cyrillic?27:-1),e.R7$(7),e.Y8G("svgIcon","globe"),e.R7$(4),e.Y8G("version",n.NgxInputVersionEnum.GLOBY)("formControlName","website"),e.R7$(),e.vxM(39,n.website.valid&&(null==n.website||null==n.website.value?null:n.website.value.length)>0?39:-1),e.R7$(),e.vxM(40,n.form.get("website").errors?40:-1),e.R7$(),e.Y8G("formGroupName","socialMedia"),e.R7$(),e.Dyx(n.socialMedias),e.R7$(3),e.Y8G("disabled",n.isEqual||n.form.invalid)}},dependencies:[J,_.E,q.b,g.j,C._,ve.P,d.X1,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,d.$R,w.An,te.$z,b.YU,ce.o,me.z,T.i,G.Z,ne,Q.TL]})};j=(0,s.Cg)([(0,F.d)()],j);var le=a(60182);const Ze=[{label:"Payment method",property:"paymentMethods",value:[{value:"Swift transfer",label:"Swift transfer"},{value:"L/C",label:"L/C"},{value:"Paypal",label:"Paypal"},{value:"CAD",label:"CAD"}]},{label:"Trading areas",property:"tradingAreas",value:[{value:"Domestic market",label:"Domestic market"},{value:"International market",label:"International market"}]},{label:"Delivery terms",property:"deliveryTerms",value:[{value:"EXW",label:"EXW"},{value:"FCA",label:"FCA"},{value:"FOB",label:"FOB"},{value:"CFR/CIF",label:"CFR/CIF"},{value:"DPU",label:"DPU"},{value:"DAP",label:"DAP"},{value:"DDP",label:"DDP"}]}],He={paymentMethods:[],deliveryTerms:[],tradingAreas:[],countries:[]};var Ke=a(33797),Be=a(65892);function qe(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",6)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"mat-icon",7),e.bIt("click",function(){const l=e.eBV(t).$implicit,m=e.XpG(2);return e.Njj(m.deleteCountry(l))}),e.EFF(4,"close"),e.k0s()()}if(2&o){const t=i.$implicit,n=e.XpG(2);e.R7$(2),e.JRh(n.getCountryName(t))}}function et(o,i){if(1&o&&(e.j41(0,"div",3),e.Z7z(1,qe,5,1,"div",6,e.Vm6),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Dyx(t.countries)}}let tt=(()=>{class o extends oe.M{constructor(t){super(),this.data=t,this.control=new d.MJ([]),this.NgxInputVersionEnum=E.v,this.NgxSelectVariantEnum=D.Y,this.B2bNgxSelectThemeEnum=v.E}get countries(){return this.control.value}ngOnInit(){this.patchValue(),this.resize()}getCountryName(t){return(0,Be.mG)(t)}patchValue(){this.data.countries&&this.control.patchValue(this.data.countries)}deleteCountry(t){const n=this.countries.filter(l=>l!==t);this.control.patchValue(n)}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU($.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["b2b-client-profile-countries-modal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"",3,"close","label"],[1,"flex","flex-col","gap-4"],[3,"multiple","theme","formControl","version"],[1,"flex","flex-row","flex-wrap","gap-3"],[1,"flex","flex-row","justify-center","items-center"],["b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"click"],[1,"border__chip","curs","rounded-md","bg-white","flex","flex-row","gap-1","justify-between","px-3","py-2"],[1,"text-[#9FA4BB]","scale-75",3,"click"]],template:function(n,l){1&n&&(e.j41(0,"b2b-client-profile-modal-container",0),e.bIt("close",function(){return l.onDismiss(!1)}),e.j41(1,"div",1)(2,"b2b-ngx-country-select",2),e.EFF(3," Target country "),e.k0s(),e.DNE(4,et,3,0,"div",3),e.j41(5,"div",4)(6,"button",5),e.bIt("click",function(){return l.onDismiss(l.countries)}),e.EFF(7," Save changes "),e.k0s()()()()),2&n&&(e.Y8G("label","Add target country"),e.R7$(2),e.Y8G("multiple",!0)("theme",l.B2bNgxSelectThemeEnum.BACKGROUND_WHITE)("formControl",l.control)("version",l.NgxSelectVariantEnum.GLOBY),e.R7$(2),e.vxM(4,l.countries.length?4:-1))},dependencies:[ie.Q,_.E,Ke.r,ce.o,me.z,d.X1,d.BC,d.l_,w.An,T.i,G.Z],styles:[".border__chip[_ngcontent-%COMP%]{border:.16rem solid #000000}"],changeDetection:0})}return o})();var Ye=a(51809),ue=a(53998),Se=a(65397),ae=a(72558),nt=a(87680);const it=o=>({"grid-cols-2":o});function ot(o,i){if(1&o){const t=e.RV6();e.j41(0,"b2b-ngx-checkbox",16),e.bIt("checkboxChange",function(){const l=e.eBV(t).$implicit,m=e.XpG().$implicit,x=e.XpG();return e.Njj(x.changeCheckbox(m.property,l.value))}),e.EFF(1),e.k0s()}if(2&o){const t=i.$implicit,n=e.XpG().$implicit,l=e.XpG();e.Y8G("version",l.NgxInputVersionEnum.GLOBY)("checked",l.check(n.property,t.value)),e.R7$(),e.SpI("",t.value," ")}}function rt(o,i){if(1&o&&(e.j41(0,"div",12)(1,"span",3),e.EFF(2),e.j41(3,"span"),e.EFF(4,"*"),e.k0s()(),e.j41(5,"div",13),e.Z7z(6,ot,2,3,"b2b-ngx-checkbox",14,e.Vm6),e.k0s()(),e.nrm(8,"div",15)),2&o){const t=i.$implicit,n=i.$index;e.R7$(2),e.JRh(t.label),e.R7$(3),e.Y8G("ngClass",e.eq3(2,it,2==n)),e.R7$(),e.Dyx(t.value)}}function lt(o,i){if(1&o&&(e.j41(0,"div",17)(1,"span",18),e.EFF(2),e.k0s()()),2&o){const t=i.$implicit,n=e.XpG(2);e.R7$(2),e.JRh(n.getCountryName(t))}}function at(o,i){if(1&o&&(e.j41(0,"div",5),e.Z7z(1,lt,3,1,"div",17,e.Vm6),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Dyx(t.paymentAndShipping.countries)}}function st(o,i){1&o&&(e.j41(0,"mat-icon"),e.EFF(1,"add"),e.k0s())}let Te=class $e{constructor(i,t,n,l,m){this.matDialog=i,this.cdr=t,this.sourcingRequestService=n,this.hotToastService=l,this.clientProfileSettingsTabsService=m,this.initSave$=new H.c,this.data=new e.bkB,this.authService=(0,e.WQX)(L.u),this.checkBoxes=Ze,this.paymentAndShipping=S().cloneDeep(this.authService.company?.paymentAndShipping)??He,this.NgxInputVersionEnum=E.v,this.B2bNgxButtonThemeEnum=Ye.a}get company(){return this.authService.company}get disabled(){const i=S().omitBy(this.paymentAndShipping,t=>0===t?.length||!t.length);return!(i?.paymentMethods&&i?.deliveryTerms&&i?.tradingAreas)}ngOnInit(){this.saveListener()}changeCheckbox(i,t){this.check(i,t)?this.remove(i,t):this.add(i,t),this.updateTabsData(),this.cdr.detectChanges()}check(i,t){return this.paymentAndShipping[i].includes(t)}openCountrySelect(){this.matDialog.open(tt,{data:{countries:this.paymentAndShipping.countries},panelClass:"max-h-[90%]",backdropClass:"modal__backdrop"}).afterClosed().pipe((0,F.s)(this)).subscribe(i=>{this.paymentAndShipping.countries=i,this.cdr.detectChanges()})}getCountryName(i){return(0,Be.mG)(i)}onSubmit(){if(!this.disabled){try{this.sourcingRequestService.updateCompanyInfo({companyName:this.company.companyName,paymentAndShipping:this.paymentAndShipping}).pipe((0,I.$)(),this.hotToastService.observe(V.g9)).subscribe(i=>{this.authService.updateCompany(i),this.paymentAndShipping=S().cloneDeep(i.paymentAndShipping),this.updateTabsData()})}catch(i){console.log(i)}this.updateTabsData()}}updateTabsData(){this.clientProfileSettingsTabsService.data$.next({first:this.paymentAndShipping,second:this.company.paymentAndShipping})}updateProductsModal(){this.matDialog.open(ue.e,{data:{title:"Update products",label:"Would you like to update this information for all your products?",buttons:[{label:"Discard"},{label:"Apply changes"}]}})}add(i,t){this.paymentAndShipping[i].push(t)}remove(i,t){this.paymentAndShipping[i]=this.paymentAndShipping[i].filter(n=>n!==t)}saveListener(){this.clientProfileSettingsTabsService.initSubmit$.pipe((0,F.s)(this)).subscribe(i=>{null===i?this.paymentAndShipping=S().cloneDeep(this.authService.company?.paymentAndShipping):i?.label===N.y?.PAYMENT_AND_SHIPPING&&this.onSubmit(),this.cdr.detectChanges()})}static#e=this.\u0275fac=function(t){return new(t||$e)(e.rXU($.bZ),e.rXU(e.gRc),e.rXU(Se.$),e.rXU(ae.U_),e.rXU(R.l))};static#t=this.\u0275cmp=e.VBU({type:$e,selectors:[["b2b-client-payment-and-shipping"]],inputs:{initSave$:"initSave$"},outputs:{data:"data"},standalone:!0,features:[e.aNF],decls:20,vars:4,consts:[[1,"flex","flex-col","gap-6","mb-10","md:mb-0"],[1,"block","gap-4"],[1,"flex","flex-col","gap-3"],[1,"title"],[1,"font-secondary","text-sm","text-[#556274]"],[1,"flex","flex-row","gap-3","flex-wrap"],[1,"flex","flex-row","items-start"],["b2bNgxButton","",1,"px-4","py-1","min-h-[38px]","flex","gap-2","bg-[#EEEEEE]","flex-row","items-center","justify-between",3,"click"],[1,"text-sm","font-secondary"],[1,"hidden","md:flex","flex-row","justify-center","items-center"],["b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"click","disabled"],[1,"fixed","md:hidden","left-0","bottom-0","w-full",3,"initSave"],[1,"block"],[1,"grid","grid-cols-1","md:flex","flex-row","col-span-2","md:flex-row","gap-4","flex-wrap",3,"ngClass"],[1,"font-secondary",3,"version","checked"],[1,"border"],[1,"font-secondary",3,"checkboxChange","version","checked"],[1,"border__chip","cursor","font-semibold","rounded-md","bg-white","flex","flex-row","gap-1","justify-between","px-3","py-2"],[1,"text-sm"]],template:function(t,n){1&t&&(e.j41(0,"div",0),e.Z7z(1,rt,9,4,null,null,e.Vm6),e.j41(3,"div",1)(4,"div",2)(5,"span",3),e.EFF(6,"Export history"),e.k0s(),e.j41(7,"span",4),e.EFF(8," Specify all the countries that you've exported your products in already and the countries that you export in, in present. "),e.k0s()(),e.j41(9,"div",2),e.DNE(10,at,3,0,"div",5),e.j41(11,"div",6)(12,"button",7),e.bIt("click",function(){return n.openCountrySelect()}),e.DNE(13,st,2,0,"mat-icon"),e.j41(14,"span",8),e.EFF(15),e.k0s()()()()(),e.j41(16,"div",9)(17,"button",10),e.bIt("click",function(){return n.onSubmit()}),e.EFF(18," Save changes "),e.k0s()()(),e.j41(19,"b2b-client-profile-mobile-toolbar",11),e.bIt("initSave",function(){return n.onSubmit()}),e.k0s()),2&t&&(e.R7$(),e.Dyx(n.checkBoxes),e.R7$(9),e.vxM(10,null!=n.paymentAndShipping&&n.paymentAndShipping.countries?10:-1),e.R7$(3),e.vxM(13,null!=n.paymentAndShipping&&null!=n.paymentAndShipping.countries&&n.paymentAndShipping.countries.length?-1:13),e.R7$(2),e.JRh(n.paymentAndShipping.countries.length>0?"Edit":"Add countries"),e.R7$(2),e.Y8G("disabled",n.disabled))},dependencies:[le.n,nt.k,T.i,G.Z,w.An,b.YU,ne],styles:[".title[_ngcontent-%COMP%]{font-family:Inter,Arial,sans-serif;font-size:1.125rem;line-height:1.75rem;font-weight:500}.block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.border__chip[_ngcontent-%COMP%]{border:.16rem solid #000000}"],changeDetection:0})};Te=(0,s.Cg)([(0,F.d)()],Te);var pe=a(34633);let ct=(()=>{class o{constructor(){this.data=new e.bkB,this.sourcingRequestService=(0,e.WQX)(Se.$),this.hotToastService=(0,e.WQX)(ae.U_),this.authService=(0,e.WQX)(L.u),this.clientProfileSettingsTabsService=(0,e.WQX)(R.l),this.fb=(0,e.WQX)(d.ok),this.array=this.fb.array([]),this.form=this.fb.group({advantages:this.array})}get company(){return this.authService.company}get advantages(){return this.form.controls.advantages}get controls(){return this.advantages.controls}onSubmit(){this.sourcingRequestService.updateCompanyInfo({companyName:this.authService.company.companyName,advantages:S().values(this.form.controls.advantages.value)}).pipe((0,I.$)(),this.hotToastService.observe(V.g9)).subscribe(t=>{this.authService.updateCompany(t),this.updateTabsData()})}getForm(t){return this.fb.group({title:[t?.title||"",[(0,pe.r)(),d.k0.required,d.k0.minLength(10),d.k0.maxLength(300)]],content:[t?.content||"",[(0,pe.r)(),d.k0.required,d.k0.minLength(40),d.k0.maxLength(1e3)]],_id:[]})}addForm(t){3!==this.advantages.length&&this.advantages.push(this.getForm(t))}updateTabsData(t=this.form?.value){this.clientProfileSettingsTabsService.data$.next({first:t?.advantages?.map(n=>S().omit(n,["_id"])),second:this.company?.advantages?.map(n=>S().omit(n,["_id"]))})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function dt(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"This field is required"),e.k0s())}function mt(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"Please, use only latin letters"),e.k0s())}function ut(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"Title is to long. Title length must be no longer then 300 symbols "),e.k0s())}function pt(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"Title is to short. Title must contain at least 10 symbols "),e.k0s())}function ft(o,i){if(1&o&&e.DNE(0,dt,2,0,"mat-error",18)(1,mt,2,0,"mat-error",18)(2,ut,2,0,"mat-error",18)(3,pt,2,0,"mat-error",18),2&o){let t,n,l,m;const x=e.XpG().$implicit;e.vxM(0,null!=(t=x.get("title").errors)&&t.required?0:-1),e.R7$(),e.vxM(1,null!=(n=x.get("title").errors)&&n.cyrillic?1:-1),e.R7$(),e.vxM(2,null!=(l=x.get("title").errors)&&l.maxlength?2:-1),e.R7$(),e.vxM(3,null!=(m=x.get("title").errors)&&m.minlength?3:-1)}}function ht(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"This field is required"),e.k0s())}function gt(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"Please, use only latin letters"),e.k0s())}function bt(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"Description is to long. Description length must be no longer then 1000 symbols "),e.k0s())}function _t(o,i){1&o&&(e.j41(0,"mat-error",18),e.EFF(1,"Description is to short. Description must contain at least 40 symbols "),e.k0s())}function vt(o,i){if(1&o&&e.DNE(0,ht,2,0,"mat-error",18)(1,gt,2,0,"mat-error",18)(2,bt,2,0,"mat-error",18)(3,_t,2,0,"mat-error",18),2&o){let t,n,l,m;const x=e.XpG().$implicit;e.vxM(0,null!=(t=x.get("content").errors)&&t.required?0:-1),e.R7$(),e.vxM(1,null!=(n=x.get("content").errors)&&n.cyrillic?1:-1),e.R7$(),e.vxM(2,null!=(l=x.get("content").errors)&&l.maxlength?2:-1),e.R7$(),e.vxM(3,null!=(m=x.get("content").errors)&&m.minlength?3:-1)}}function Ct(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",5)(1,"div",11)(2,"div",12)(3,"div",13),e.nrm(4,"input",14),e.DNE(5,ft,4,4),e.k0s()(),e.j41(6,"div",15),e.nrm(7,"textarea",16),e.DNE(8,vt,4,4),e.k0s()(),e.j41(9,"button",17),e.bIt("click",function(){const l=e.eBV(t).$index,m=e.XpG();return e.Njj(m.deleteForm(l))}),e.j41(10,"mat-icon"),e.EFF(11,"delete"),e.k0s()()()}if(2&o){const t=i.$implicit,n=i.$index,l=e.XpG();e.R7$(),e.Y8G("formGroup",t),e.R7$(3),e.Mz_("placeholder","",n+1,". Advanced and efficient production process"),e.Y8G("version",l.NgxInputVersionEnum.GLOBY),e.R7$(),e.vxM(5,t.touched?5:-1),e.R7$(2),e.Mz_("placeholder","",n+1,". e.g. Our advanced manufacturing processes, combined with a commitment to sustainable practices, position us at the forefront of innovation and environmental stewardship in the industry."),e.Y8G("version",l.NgxInputVersionEnum.GLOBY),e.R7$(),e.vxM(8,null!=t&&t.get("content").touched?8:-1)}}let Me=class Pe extends ct{constructor(i){super(),this.cdr=i,this.initSave$=new H.c,this.NgxInputVersionEnum=E.v}get isEqual(){return S().isEqual(S().values(this.form.value),this.company?.advantages)}ngOnInit(){this.changeDetector(),this.initDefault(),this.saveListener()}initDefault(){let i=S().cloneDeep(this.authService?.company?.advantages)??void 0;i?.length?i.forEach(t=>this.addForm(t)):this.addForm()}setDefault(){let i=S().cloneDeep(this.authService?.company?.advantages)??void 0;this.form.controls.advantages.controls.forEach((t,n)=>{i[n]&&t.patchValue({title:i[n].title,content:i[n].content,_id:i[n]._id})})}changeDetector(){this.form.valueChanges.pipe((0,A.B)(200),(0,F.s)(this)).subscribe(i=>{this.updateTabsData(i)})}getFormGroup(i){return i}deleteForm(i){1!==this.advantages.length&&this.advantages.removeAt(i)}saveListener(){this.clientProfileSettingsTabsService.initSubmit$.pipe((0,F.s)(this)).subscribe(i=>{null===i&&(this.setDefault(),this.cdr.detectChanges()),i?.label===N.y?.OUR_ADVANTAGES&&this.onSubmit(),this.cdr.detectChanges()})}static#e=this.\u0275fac=function(t){return new(t||Pe)(e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["b2b-client-advantages"]],inputs:{initSave$:"initSave$"},standalone:!0,features:[e.Vt3,e.aNF],decls:18,vars:3,consts:[[1,"flex","flex-col","gap-6","mb-10","md:mb-0"],[1,"flex","flex-row","gap-3","justify-between","items-center"],[1,"font-secondary","text-lg","font-medium"],[1,"flex","flex-col","gap-10",3,"ngSubmit","formGroup"],["formArrayName","advantages",1,"flex","flex-col","gap-8"],[1,"flex","flex-row","items-center","gap-1"],[1,"flex","flex-row","justify-start","items-baseline"],["type","button","mat-flat-button","",1,"px-3","!bg-[#EEEEEE]",3,"click","disabled"],[1,"hidden","md:flex","flex-row","justify-center","items-center"],["type","submit","b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled"],[1,"fixed","md:hidden","left-0","bottom-0","w-full",3,"initSave"],[1,"flex","flex-col","gap-3","w-full",3,"formGroup"],[1,"flex","flex-row","gap-1"],[1,"flex","flex-col","gap-1","w-full"],["b2bNgxInput","","formControlName","title","type","text",3,"version","placeholder"],[1,"flex","flex-col","gap-1"],["b2bNgxInput","","formControlName","content",1,"min-h-32",3,"placeholder","version"],["type","button","mat-icon-button","",3,"click"],[1,"text-red-500","text-xs"]],template:function(t,n){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3,"Highlight up to three (3) advantages of your company so that buyers can learn more about you."),e.k0s()(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(5,"div",4),e.Z7z(6,Ct,12,9,"div",5,e.Vm6),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return n.addForm()}),e.j41(10,"mat-icon"),e.EFF(11,"add"),e.k0s(),e.j41(12,"span"),e.EFF(13,"Add"),e.k0s()()()(),e.j41(14,"div",8)(15,"button",9),e.EFF(16," Save changes "),e.k0s()()(),e.j41(17,"b2b-client-profile-mobile-toolbar",10),e.bIt("initSave",function(){return n.onSubmit()}),e.k0s()()),2&t&&(e.R7$(4),e.Y8G("formGroup",n.form),e.R7$(2),e.Dyx(n.controls),e.R7$(3),e.Y8G("disabled",3===(null==n.advantages?null:n.advantages.length)),e.R7$(6),e.Y8G("disabled",n.form.invalid||n.isEqual))},dependencies:[_.E,q.b,d.X1,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,d.v8,d.YN,T.i,G.Z,ne,Q.TL,te.$z,w.An,te.iY],changeDetection:0})};Me=(0,s.Cg)([(0,F.d)()],Me);var yt=a(32941),xt=a(5019);const Xe={loading:"Updating company information...",success:"Company documents successfully updated.",error:"Company documents updating failed"};let De=class be{constructor(){this.sourcingRequestService=(0,e.WQX)(Se.$),this.authService=(0,e.WQX)(L.u),this.hotToastService=(0,e.WQX)(ae.U_),this.fb=(0,e.WQX)(d.ok),this.loading=(0,e.vPA)(!1),this.form=this.fb.group({documents:[]})}get company(){return this.authService.company}get documents(){return this.company?.documents||[]}upload(i){const t=(0,xt.t)({companyName:this.company.companyName,documents:i,uploadedDocs:this.documents});this.updateDocuments(t)}delete(i){const{_id:t}=this.documents[i];return this.sourcingRequestService.deleteCompanyDocuments(this.authService.company._id,[t]).pipe((0,I.$)(),this.hotToastService.observe(Xe),(0,F.s)(this))}updateDocuments(i){this.loading.set(!0);try{this.sourcingRequestService.updateCompanyInfo(i).pipe((0,I.$)(),this.hotToastService.observe(Xe),(0,F.s)(this)).subscribe(t=>{this.loading.set(!1),this.authService.updateCompany(t)})}catch(t){console.error(t),this.loading.set(!1)}}static#e=this.\u0275fac=function(t){return new(t||be)};static#t=this.\u0275prov=e.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})};De=(0,s.Cg)([(0,F.d)()],De);var Oe=a(54843);const Ft=["determinateSpinner"];function St(o,i){if(1&o&&(e.qSk(),e.j41(0,"svg",11),e.nrm(1,"circle",12),e.k0s()),2&o){const t=e.XpG();e.BMQ("viewBox",t._viewBox()),e.R7$(),e.xc7("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),e.BMQ("r",t._circleRadius())}}const Tt=new e.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function Mt(){return{diameter:Ue}}}),Ue=100;let Ee=(()=>{class o{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,n,l){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=Ue,this._noopAnimations="NoopAnimations"===n&&!!l&&!l._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",l&&(l.color&&(this.color=this._defaultColor=l.color),l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(e.aKT),e.rXU(e.bc$,8),e.rXU(Tt))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,l){if(1&n&&e.GBs(Ft,5),2&n){let m;e.mGM(m=e.lsd())&&(l._determinateCircle=m.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,l){2&n&&(e.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===l.mode?l.value:null)("mode",l.mode),e.HbH("mat-"+l.color),e.xc7("width",l.diameter,"px")("height",l.diameter,"px")("--mdc-circular-progress-size",l.diameter+"px")("--mdc-circular-progress-active-indicator-width",l.diameter+"px"),e.AVh("_mat-animation-noopable",l._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===l.mode))},inputs:{color:"color",mode:"mode",value:[e.Mj6.HasDecoratorInputTransform,"value","value",e.Udg],diameter:[e.Mj6.HasDecoratorInputTransform,"diameter","diameter",e.Udg],strokeWidth:[e.Mj6.HasDecoratorInputTransform,"strokeWidth","strokeWidth",e.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.GFd,e.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,l){if(1&n&&(e.DNE(0,St,2,8,"ng-template",null,0,e.C5r),e.j41(2,"div",2,1),e.qSk(),e.j41(4,"svg",3),e.nrm(5,"circle",4),e.k0s()(),e.joV(),e.j41(6,"div",5)(7,"div",6)(8,"div",7),e.eu8(9,8),e.k0s(),e.j41(10,"div",9),e.eu8(11,8),e.k0s(),e.j41(12,"div",10),e.eu8(13,8),e.k0s()()()),2&n){const m=e.sdS(1);e.R7$(4),e.BMQ("viewBox",l._viewBox()),e.R7$(),e.xc7("stroke-dasharray",l._strokeCircumference(),"px")("stroke-dashoffset",l._strokeDashOffset(),"px")("stroke-width",l._circleStrokeWidth(),"%"),e.BMQ("r",l._circleRadius()),e.R7$(4),e.Y8G("ngTemplateOutlet",m),e.R7$(2),e.Y8G("ngTemplateOutlet",m),e.R7$(2),e.Y8G("ngTemplateOutlet",m)}},dependencies:[b.T3],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return o})();var Et=a(76828);function wt(o,i){if(1&o){const t=e.RV6();e.j41(0,"b2b-ngx-file",6),e.bIt("change",function(l){e.eBV(t);const m=e.XpG();return e.Njj(m.formChange(l))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("emptyFileLabel","Supported file types: PDF, PNG, JPG and DOC files. Maximum size: 20 MB (total)")("version",t.NgxInputVersionEnum.GLOBY)("maxAllowedSize",20)("showIcon",!1)("theme",null)("label","Upload document")}}function kt(o,i){1&o&&e.nrm(0,"mat-spinner",7)}function It(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",9)(1,"a",10)(2,"mat-icon",11),e.EFF(3,"add"),e.k0s(),e.j41(4,"span",12),e.EFF(5),e.k0s()(),e.j41(6,"button",13),e.bIt("click",function(){const l=e.eBV(t).$index,m=e.XpG(2);return e.Njj(m.openDeletePopup(l))}),e.j41(7,"mat-icon"),e.EFF(8,"close"),e.k0s()()()}if(2&o){const t=i.$implicit;e.R7$(2),e.Y8G("svgIcon","document-blue"),e.R7$(3),e.JRh(t.name)}}function Rt(o,i){if(1&o&&(e.j41(0,"div",5)(1,"span",2),e.EFF(2,"Uploaded files"),e.k0s(),e.j41(3,"div",8),e.Z7z(4,It,9,2,"div",9,e.Vm6),e.k0s()()),2&o){const t=e.XpG();e.R7$(4),e.Dyx(t.documents)}}let we=class Le extends De{constructor(i){super(),this.cdr=i,this.NgxInputVersionEnum=E.v,this.matDialog=(0,e.WQX)($.bZ)}formChange(i){const t=Array.from(i.target.files);this.upload(t),this.cdr.detectChanges()}openDeletePopup(i){var t=this;this.matDialog.open(ue.e,{data:{title:"Are you sure you want to delete the document?",label:""},panelClass:"app-full-bleed-dialog",backdropClass:"modal__backdrop"}).afterClosed().subscribe(n=>{n&&this.delete(i).subscribe(function(){var l=(0,c.A)(function*(m){const x=yield(0,Oe._)(t.sourcingRequestService.getCompanyData());t.authService.updateCompany(x),t.cdr.detectChanges()});return function(m){return l.apply(this,arguments)}}())})}static#e=this.\u0275fac=function(t){return new(t||Le)(e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:Le,selectors:[["b2b-client-documents"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:2,consts:[[1,"flex","flex-col","gap-14"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-secondary","font-medium"],[1,"text-sm","text-[#556274]","md:w-2/3"],[1,"!cursor-pointer",3,"emptyFileLabel","version","maxAllowedSize","showIcon","theme","label"],[1,"flex","flex-col","gap-3","flex-wrap"],[1,"!cursor-pointer",3,"change","emptyFileLabel","version","maxAllowedSize","showIcon","theme","label"],["diameter","24"],[1,"flex","flex-row","flex-wrap","gap-4"],[1,"flex","flex-row","items-center","justify-center","gap-3","rounded-xl","border","!border-[#CFDEFF]","p-3"],["href","",1,"flex","flex-row","items-center","justify-center","gap-2"],[3,"svgIcon"],[1,"font-semibold","text-sm","font-secondary"],["b2bNgxButton","",1,"flex","items-center",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3,"Documents"),e.k0s(),e.j41(4,"span",3),e.EFF(5,"Upload any document you want to share with your customers, such as catalogs, licenses, presentations, etc. Supported file formats: PDF, PNG, JPG, DOC. Maximum of 6 files with a total size of 20 MB."),e.k0s(),e.DNE(6,wt,1,6,"b2b-ngx-file",4)(7,kt,1,0),e.k0s(),e.DNE(8,Rt,6,0,"div",5),e.k0s()),2&t&&(e.R7$(6),e.vxM(6,n.loading()?7:6),e.R7$(2),e.vxM(8,(null==n.documents?null:n.documents.length)>0?8:-1))},dependencies:[yt.A,Et.D,w.An,d.X1,T.i,G.Z,M.f,Ee],styles:[".app-full-bleed-dialog[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}"],changeDetection:0})};we=(0,s.Cg)([(0,F.d)()],we);const jt=[{type:"participated",label:"Participated",button:"Add event"},{type:"upcoming",label:"Upcoming",button:"Add event"}];var Nt=a(27162),Gt=a(265),$t=a(49166);const Pt=()=>[b.Jj,a.e(5381).then(a.bind(a,35381)).then(o=>o.ClientProfileTradeShowCardComponent)];function Lt(o,i){if(1&o&&e.nrm(0,"b2b-client-profile-trade-show-card",10),2&o){const t=e.XpG().$implicit;e.Y8G("tradeShow",t)}}function Vt(o,i){if(1&o&&e.DNE(0,Lt,1,1,"b2b-client-profile-trade-show-card",10),2&o){const t=i.$implicit,n=e.XpG(4).$implicit;e.vxM(0,t.type===n.type?0:-1)}}function At(o,i){if(1&o&&(e.j41(0,"div",9),e.Z7z(1,Vt,1,1,null,null,e.Vm6),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Dyx(t)}}function Bt(o,i){1&o&&e.DNE(0,At,3,0,"div",9),2&o&&e.vxM(0,null!=i&&i.length?0:-1)}function Yt(o,i){if(1&o&&(e.DNE(0,Bt,1,1),e.nI1(1,"async")),2&o){let t;const n=e.XpG(2);e.vxM(0,(t=e.bMT(1,1,n.clientTradeShowService.tradeShows$))?0:-1,t)}}function Xt(o,i){1&o&&(e.j41(0,"div",11),e.nrm(1,"mat-spinner",12),e.k0s())}function Ot(o,i){1&o&&e.nrm(0,"div",8)}function Ut(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",4)(1,"div",5),e.EFF(2),e.k0s(),e.j41(3,"button",6),e.bIt("click",function(){const l=e.eBV(t).$implicit,m=e.XpG();return e.Njj(m.openModal({type:l.type}))}),e.j41(4,"mat-icon",7),e.EFF(5,"add"),e.k0s(),e.j41(6,"span"),e.EFF(7),e.nI1(8,"titlecase"),e.k0s()()(),e.DNE(9,Yt,2,3)(10,Xt,2,0),e.nv$(11,9,Pt,10,null,null,0,null,e.T$4),e.nI1(13,"async"),e.DNE(14,Ot,1,0,"div",8)}if(2&o){const t=i.$implicit,n=i.$index,l=e.XpG();e.R7$(2),e.JRh(t.label),e.R7$(5),e.JRh(e.bMT(8,4,t.button)),e.R7$(4),e.LVR(e.bMT(13,6,l.clientTradeShowService.tradeShows$)),e.R7$(3),e.vxM(14,0===n?14:-1)}}let ke=class Ve{constructor(i,t,n,l){this.tradeShowService=i,this.clientTradeShowService=t,this.cdr=n,this.tabService=l,this.matDialog=(0,e.WQX)($.bZ),this.tradeShowSections=jt}ngOnInit(){this.getList(),this.tabListen()}openModal(i){this.matDialog.open(Nt.T,{data:i,backdropClass:"modal__backdrop"}).afterClosed().pipe((0,F.s)(this)).subscribe(()=>{this.getList()})}tabListen(){this.tabService.currentTab.asObservable().subscribe(i=>{i.label==N.y.TRADE_SHOWS&&this.getList()})}getList(){this.clientTradeShowService.getList(),this.cdr.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||Ve)(e.rXU(Gt.f),e.rXU($t.D),e.rXU(e.gRc),e.rXU(R.l))};static#t=this.\u0275cmp=e.VBU({type:Ve,selectors:[["b2b-client-trade-shows"]],standalone:!0,features:[e.aNF],decls:6,vars:0,consts:[[300,null],[1,"flex","flex-col","gap-8"],[1,"description__border","rounded-md","p-3","font-secondary","text-sm","text-black"],[1,"flex","flex-col","gap-6"],[1,"flex","flex-row","gap-2","items-center","justify-start"],[1,"text-lg","font-medium","w-28"],["b2bNgxButton","",1,"!bg-[#EEEEEE]","rounded-md","px-3","py-1","text-sm","flex","flex-row","items-center","justify-start",3,"click"],[1,"scale-75"],[1,"section__border"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-3"],[3,"tradeShow"],[1,"flex","flex-row","justify-center","items-center"],["diameter","24"]],template:function(t,n){1&t&&(e.j41(0,"div",1)(1,"div",2),e.EFF(2," List the trade shows in which you have participated or plan to participate in the future. For each trade show, you need to add photos of your activity to the exhibition. Mentioning your activities at trade shows can help your business gain trust from potential buyers. "),e.k0s(),e.j41(3,"div",3),e.Z7z(4,Ut,15,8,null,null,e.Vm6),e.k0s()()),2&t&&(e.R7$(4),e.Dyx(n.tradeShowSections))},dependencies:[T.i,G.Z,b.PV,w.An,b.Jj,Ee],styles:[".description__border[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #D3DFFF}.section__border[_ngcontent-%COMP%]{border-bottom:1px solid #D3DFFF}"],changeDetection:0})};ke=(0,s.Cg)([(0,F.d)()],ke);var zt=a(92771),fe=a(45312);const Wt=[{type:"image",label:"Photo",button:"Add photo"},{type:"video",label:"Video",button:"Add video"}];var ze=a(6573),Jt=a(76108),Qt=a(52029),We=function(o){return o.DRAFT="draft",o.PUBLIC="public",o}(We||{}),Zt=a(74993),Je=a(97783),Ht=a(17921);const Kt=(o,i)=>t=>{const n=t,l=n.get(o),m=n.get(i);return!l||!m||(m.value?l.errors&&l.errors.conditionalRequire&&(delete l.errors.conditionalRequire,0===Object.keys(l.errors).length&&l.setErrors(null)):(!l.value||0===l.value.length)&&l.setErrors({...l.errors,conditionalRequire:!0})),null};var qt=a(69847),en=a(78671),tn=a(56977);function he(o){o||((0,e.Af3)(he),o=(0,e.WQX)(e.abz));const i=new H.c(t=>o.onDestroy(t.next.bind(t)));return t=>t.pipe((0,tn.Q)(i))}const ln=o=>({hidden:o}),an=o=>({"md:mb-0 mb-20":o});function sn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"Your title is too short. Min length is 5 symbols"),e.k0s())}function cn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"Your title is too long. Max length is 40 symbols"),e.k0s())}function dn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"This field is required"),e.k0s())}function mn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"You can use only latin symbols"),e.k0s())}function un(o,i){if(1&o&&e.DNE(0,sn,2,0,"mat-error")(1,cn,2,0,"mat-error")(2,dn,2,0,"mat-error")(3,mn,2,0,"mat-error"),2&o){const t=e.XpG();e.vxM(0,null!=t.title&&null!=t.title.errors&&t.title.errors.minlength?0:-1),e.R7$(),e.vxM(1,null!=t.title&&null!=t.title.errors&&t.title.errors.maxlength?1:-1),e.R7$(),e.vxM(2,null!=t.title&&null!=t.title.errors&&t.title.errors.required?2:-1),e.R7$(),e.vxM(3,null!=t.title&&null!=t.title.errors&&t.title.errors.cyrillic?3:-1)}}function pn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"Your description is too short. Min length is 40 symbols"),e.k0s())}function fn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"Your description is too long. Max length is 1000 symbols"),e.k0s())}function hn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"This field is required"),e.k0s())}function gn(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"You can use only latin symbols"),e.k0s())}function bn(o,i){if(1&o&&e.DNE(0,pn,2,0,"mat-error")(1,fn,2,0,"mat-error")(2,hn,2,0,"mat-error")(3,gn,2,0,"mat-error"),2&o){const t=e.XpG();e.vxM(0,null!=t.description&&null!=t.description.errors&&t.description.errors.minlength?0:-1),e.R7$(),e.vxM(1,null!=t.description&&null!=t.description.errors&&t.description.errors.maxlength?1:-1),e.R7$(),e.vxM(2,null!=t.description&&null!=t.description.errors&&t.description.errors.required?2:-1),e.R7$(),e.vxM(3,null!=t.description&&null!=t.description.errors&&t.description.errors.cyrillic?3:-1)}}function _n(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"This field is required"),e.k0s())}function vn(o,i){1&o&&(e.j41(0,"mat-error",11),e.EFF(1,'Must be website link. E.g. "https://youtube.com"'),e.k0s())}function Cn(o,i){1&o&&(e.j41(0,"mat-error",11),e.EFF(1,"Invalid youtube video link"),e.k0s())}function yn(o,i){if(1&o&&e.DNE(0,_n,2,0,"mat-error")(1,vn,2,0,"mat-error",11)(2,Cn,2,0,"mat-error",11),2&o){const t=e.XpG(2);e.vxM(0,null!=t.videoLink&&null!=t.videoLink.errors&&t.videoLink.errors.required?0:-1),e.R7$(),e.vxM(1,null!=t.videoLink&&null!=t.videoLink.errors&&t.videoLink.errors.website?1:-1),e.R7$(),e.vxM(2,null!=t.videoLink&&null!=t.videoLink.errors&&t.videoLink.errors.invalidYoutubeLink?2:-1)}}function xn(o,i){1&o&&(e.j41(0,"div",10),e.nrm(1,"div",12),e.j41(2,"span",13),e.EFF(3,"OR"),e.k0s(),e.nrm(4,"div",12),e.k0s())}function Fn(o,i){if(1&o&&(e.j41(0,"div",2),e.nrm(1,"input",4),e.DNE(2,yn,3,3),e.k0s(),e.DNE(3,xn,5,0,"div",10)),2&o){const t=e.XpG();e.R7$(),e.Y8G("formControlName","videoLink")("label","Youtube video link")("placeholder","Youtube video link")("version",t.NgxInputVersionEnum.GLOBY),e.R7$(),e.vxM(2,t.videoLink.touched?2:-1),e.R7$(),e.vxM(3,t.validVideoLink||null!=t.videos&&null!=t.videos.value&&t.videos.value[0]?-1:3)}}function Sn(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",7)(1,"globy-file-card",14),e.bIt("deleteItem",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.clearVideoLink())}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("showDelete",!0)("data",null!=t.videoLink&&t.videoLink.value?t.video:null==t.videos||null==t.videos.value?null:t.videos.value[0])("handleItem",t.handleItem)}}let Ie=class Ae extends oe.M{constructor(i,t,n,l){super(),this.data=i,this.fb=t,this.folderService=n,this.hotToastService=l,this.form=this.buildForm(),this.mode=this.data.folder?._id?"edit":"create",this.destroyRef=(0,e.WQX)(e.abz),this.NgxInputVersionEnum=E.v,this.fileUploadDescription="image"===this.data.type?Je.B:Je.b,this.VIDEO_TYPES=qt.Eo,this.IMAGE_TYPES=en.e}get controls(){return this.form.controls}get title(){return this.controls.title}get description(){return this.controls.description}get videoLink(){return this.controls.videoLink}get videos(){return this.controls.videos}get images(){return this.controls.images}get video(){return{link:this.videoLink.value}}get multiple(){return"image"===this.data.type}get handleEditData(){const i=this.form.value,t=this.data?.folder,n=i?.images?.filter(m=>!!m._id).map(m=>m._id),l=i?.videos?.filter(m=>!!m._id).map(m=>m._id);return{...t,...i,uploadedImages:n,uploadedVideos:l}}get handleCreateData(){return this.form.value}ngOnInit(){this.patchForm(),this.videoLinkListener()}onSubmit(){"edit"===this.mode&&this.folderService.update(this.handleEditData).pipe((0,I.$)(),this.hotToastService.observe(V.g9),he(this.destroyRef)).subscribe(()=>{this.onDismiss()}),"create"===this.mode&&this.folderService.create(this.handleCreateData).pipe((0,I.$)(),this.hotToastService.observe(V.g9),he(this.destroyRef)).subscribe(()=>{this.onDismiss()})}handleItem(i){let t,n="image";return i?.link&&(t=i.link),i?.path?.includes("video")&&(n="video"),i?.path&&(t=fe.c.apiUrl+encodeURIComponent(i.path)),{url:t,type:n}}get validVideoLink(){return this.videoLink?.value&&!this.videoLink?.errors?.invalidYoutubeLink}clearVideoLink(){this.videoLink.reset(),this.videos.reset()}videoLinkListener(){this.controls.videoLink&&(this.controls.videoLink.valueChanges.pipe((0,A.B)(1e3),(0,F.s)(this)).subscribe(i=>{i&&this.videos.patchValue([])}),this.controls.videos.valueChanges.pipe((0,F.s)(this)).subscribe(i=>{i?.[0]?this.videoLink.disable():this.videoLink.enable()}))}buildForm(){const i=this.fb.group({title:["",[d.k0.required,d.k0.minLength(5),d.k0.maxLength(40),(0,pe.r)()]],description:["",[d.k0.required,d.k0.minLength(40),d.k0.maxLength(1e3),(0,pe.r)()]],images:[[],[d.k0.required]],videos:[[]],status:[We.PUBLIC],videoLink:[null,[(0,Zt.q7)(),(0,de.q)()]]},{validators:Kt("video","videoLink")});return"image"===this.data.type&&(i.removeControl("videos"),i.removeControl("videoLink")),"video"===this.data.type&&i.removeControl("images"),i}patchForm(){this.data.folder?._id&&this.form.patchValue({...this.data.folder,videoLink:this.data?.folder?.videos?.find(i=>!!i?.link)?.link||void 0})}static#e=this.\u0275fac=function(t){return new(t||Ae)(e.rXU($.Vh),e.rXU(d.ok),e.rXU(ze.k),e.rXU(ae.U_))};static#t=this.\u0275cmp=e.VBU({type:Ae,selectors:[["b2b-client-profile-media-modal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:15,vars:30,consts:[[1,"md:max-w-[70vw]","p-2","min-w-[50vw]","max-h-screen","md:max-h-[90vh]","overflow-y-auto",3,"close","label"],[1,"flex","flex-col","gap-4","md:mb-0","mb-12",3,"ngSubmit","formGroup"],[1,"flex","flex-col"],["b2bNgxInput","","type","text",3,"formControlName","label","placeholder","version"],["b2bNgxInput","",3,"formControlName","label","placeholder","version"],[1,"flex","flex-col","gap-2",3,"ngClass"],[1,"h-fit",3,"buttonLabel","customListClass","description","formControlName","handleItem","accept","maxFileWeight","multiple","showResulList"],[1,"grid","grid-cols-2","md:grid-cols-5","lg:grid-cols-7"],[1,"flex","flex-row","justify-center","items-center"],["b2bNgxButton","","type","submit",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled","ngClass"],[1,"flex","flex-row","gap-3","w-full","items-center"],[1,"text-red-500","text-xs"],[1,"border-bottom"],[1,"text-sm"],[3,"deleteItem","showDelete","data","handleItem"]],template:function(t,n){1&t&&(e.j41(0,"b2b-client-profile-modal-container",0),e.bIt("close",function(){return n.onDismiss()}),e.j41(1,"form",1),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(2,"div",2),e.nrm(3,"input",3),e.DNE(4,un,4,4),e.k0s(),e.j41(5,"div",2),e.nrm(6,"textarea",4),e.DNE(7,bn,4,4),e.k0s(),e.DNE(8,Fn,4,6),e.j41(9,"div",5),e.nrm(10,"globy-file",6),e.k0s(),e.DNE(11,Sn,2,3,"div",7),e.j41(12,"div",8)(13,"button",9),e.EFF(14," Save changes "),e.k0s()()()()),2&t&&(e.Y8G("label","Add "+("image"===n.data.type?"Folder":"Video")),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("formControlName","title")("label","Exhibition name")("placeholder","Exhibition name")("version",n.NgxInputVersionEnum.GLOBY),e.R7$(),e.vxM(4,n.form.touched?4:-1),e.R7$(2),e.Y8G("formControlName","description")("label","Event description")("placeholder","Event description")("version",n.NgxInputVersionEnum.GLOBY),e.R7$(),e.vxM(7,n.form.touched?7:-1),e.R7$(),e.vxM(8,n.videoLink?8:-1),e.R7$(),e.Y8G("ngClass",e.eq3(26,ln,(null==n.videos||null==n.videos.value?null:n.videos.value[0])||n.validVideoLink)),e.R7$(),e.Y8G("buttonLabel","Choose"+("image"===n.data.type?" Photos":" Video"))("customListClass","grid-cols-2 md:grid-cols-5 lg:grid-cols-7")("description",n.fileUploadDescription)("formControlName","image"===n.data.type?"images":"videos")("handleItem",n.handleItem)("accept","video"===n.data.type?n.VIDEO_TYPES:n.IMAGE_TYPES)("maxFileWeight",100)("multiple",n.multiple)("showResulList","image"===n.data.type),e.R7$(),e.vxM(11,n.validVideoLink||null!=n.videos&&null!=n.videos.value&&n.videos.value.length?11:-1),e.R7$(2),e.Y8G("disabled","image"===(null==n.data?null:n.data.type)?null==n.form?null:n.form.invalid:(null==n.form?null:n.form.invalid)||!n.validVideoLink&&!(null!=n.videos&&null!=n.videos.value&&n.videos.value.length))("ngClass",e.eq3(28,an,(null==n.images||null==n.images.value?null:n.images.value[0])||(null==n.videos||null==n.videos.value?null:n.videos.value[0]))))},dependencies:[Jt.h,T.i,G.Z,_.E,q.b,ie.Q,Qt.G,Ht.GlobyFileCard,Q.TL,d.X1,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,b.YU],styles:["mat-error[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #C6D1E2;width:100%}"]})};Ie=(0,s.Cg)([(0,F.d)()],Ie);const Tn=()=>[b.Jj,Promise.resolve().then(a.bind(a,17921)).then(o=>o.GlobyFileCard)];function Mn(o,i){if(1&o){const t=e.RV6();e.j41(0,"globy-file-card",13),e.bIt("deleteItem",function(){e.eBV(t);const l=e.XpG().$implicit,m=e.XpG(4);return e.Njj(m.deleteItem(l))})("editItem",function(){e.eBV(t);const l=e.XpG().$implicit,m=e.XpG(3).$implicit,x=e.XpG();return e.Njj(x.openModal(m.type,l))}),e.k0s()}if(2&o){const t=e.XpG().$implicit,n=e.XpG(4);e.Y8G("data",null==t?null:t.images[0])("showEdit",!0)("showDelete",!0)("length",null==t||null==t.images?null:t.images.length)("title",t.title)("handleItem",n.handleImage)}}function Dn(o,i){if(1&o){const t=e.RV6();e.j41(0,"globy-file-card",14),e.bIt("deleteItem",function(){e.eBV(t);const l=e.XpG().$implicit,m=e.XpG(4);return e.Njj(m.deleteItem(l))})("editItem",function(){e.eBV(t);const l=e.XpG().$implicit,m=e.XpG(3).$implicit,x=e.XpG();return e.Njj(x.openModal(m.type,l))}),e.k0s()}if(2&o){const t=e.XpG().$implicit,n=e.XpG(4);e.Y8G("data",null==t?null:t.videos[0])("showEdit",!0)("showDelete",!0)("title",t.title)("handleItem",n.handleVideo)}}function En(o,i){if(1&o&&e.DNE(0,Mn,1,6,"globy-file-card",11)(1,Dn,1,5,"globy-file-card",12),2&o){const t=i.$implicit,n=e.XpG(3).$implicit;e.vxM(0,"image"===n.type&&null!=t&&null!=t.images&&t.images.length?0:-1),e.R7$(),e.vxM(1,"video"===n.type&&null!=t&&null!=t.videos&&t.videos.length?1:-1)}}function wn(o,i){if(1&o&&(e.j41(0,"div",10),e.Z7z(1,En,2,2,null,null,e.Vm6),e.nI1(3,"async"),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Dyx(e.bMT(3,0,t.folderService.folders$))}}function kn(o,i){if(1&o&&e.DNE(0,wn,4,2,"div",10),2&o){const t=e.XpG(2);e.vxM(0,t.showFolders?0:-1)}}function In(o,i){1&o&&e.eu8(0)}function Rn(o,i){if(1&o&&e.DNE(0,In,1,0,"ng-container",15),2&o){e.XpG(2);const t=e.sdS(7);e.Y8G("ngTemplateOutlet",t)}}function jn(o,i){1&o&&e.nrm(0,"div",9)}function Nn(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",5)(1,"div",6),e.EFF(2),e.k0s(),e.j41(3,"button",7),e.bIt("click",function(){const l=e.eBV(t).$implicit,m=e.XpG();return e.Njj(m.openModal(l.type))}),e.j41(4,"mat-icon",8),e.EFF(5,"add"),e.k0s(),e.j41(6,"span"),e.EFF(7),e.nI1(8,"titlecase"),e.k0s()()(),e.DNE(9,kn,1,1)(10,Rn,1,1),e.nv$(11,9,Tn,10,null,null,1,null,e.T$4),e.nI1(13,"async"),e.DNE(14,jn,1,0,"div",9)}if(2&o){const t=i.$implicit,n=i.$index,l=e.XpG();e.R7$(2),e.JRh(t.label),e.R7$(5),e.JRh(e.bMT(8,4,t.button)),e.R7$(4),e.LVR(e.bMT(13,6,l.folderService.folders$)),e.R7$(3),e.vxM(14,0===n?14:-1)}}function Gn(o,i){1&o&&(e.j41(0,"div",16),e.nrm(1,"mat-spinner",17),e.k0s())}let $n=(()=>{class o{constructor(){this.matDialog=(0,e.WQX)($.bZ),this.cdr=(0,e.WQX)(e.gRc),this.authService=(0,e.WQX)(L.u),this.folderService=(0,e.WQX)(ze.k),this.hotToastService=(0,e.WQX)(ae.U_),this.showFolders=!1,this.mediaSections=Wt}get company(){return this.authService.company}handleImage(t){return{type:"image",url:fe.c.apiUrl+encodeURIComponent(t.path)}}handleVideo(t){return{type:t?.link?"image":"video",url:t.link?t.link:fe.c?.apiUrl+encodeURIComponent(t?.path)}}ngOnInit(){this.getFolders()}openModal(t,n){this.matDialog.open(Ie,{data:{type:t,folder:n}}).afterClosed().subscribe(l=>{this.getFolders()})}getFolders(){this.folderService.getListByCompanyId().subscribe(t=>{this.showFolders=t.some(n=>n.images?.length>0||n?.videos?.length>0),this.cdr.detectChanges()})}deleteItem(t){this.matDialog.open(ue.e,{data:{},backdropClass:"modal__backdrop"}).afterClosed().subscribe(n=>{n&&this.folderService.delete(t._id).pipe(this.hotToastService.observe(V.g9)).subscribe(l=>{this.getFolders()})})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["b2b-client-media"]],standalone:!0,features:[e.aNF],decls:8,vars:0,consts:[["spinner",""],[300,null],[1,"flex","flex-col","gap-8"],[1,"description__border","rounded-md","p-3","font-secondary","text-sm","text-black"],[1,"flex","flex-col","gap-6"],[1,"flex","flex-row","gap-2","items-center","justify-start"],[1,"text-lg","font-medium","w-28"],["b2bNgxButton","",1,"!bg-[#EEEEEE]","rounded-md","px-3","py-1","text-sm","flex","flex-row","items-center","justify-start",3,"click"],[1,"scale-75"],[1,"section__border"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-3"],[1,"h-fit",3,"data","showEdit","showDelete","length","title","handleItem"],[1,"h-fit",3,"data","showEdit","showDelete","title","handleItem"],[1,"h-fit",3,"deleteItem","editItem","data","showEdit","showDelete","length","title","handleItem"],[1,"h-fit",3,"deleteItem","editItem","data","showEdit","showDelete","title","handleItem"],[4,"ngTemplateOutlet"],[1,"flex","flex-row","justify-center","items-center"],["diameter","24"]],template:function(n,l){1&n&&(e.j41(0,"div",2)(1,"div",3),e.EFF(2," Add photos and videos that represent your business in the best view. We recommend to upload high-quality images and videos to appear more trustworthy. "),e.k0s(),e.j41(3,"div",4),e.Z7z(4,Nn,15,8,null,null,e.Vm6),e.k0s()(),e.DNE(6,Gn,2,0,"ng-template",null,0,e.C5r)),2&n&&(e.R7$(4),e.Dyx(l.mediaSections))},dependencies:[b.Jj,T.i,G.Z,w.An,Ee,b.PV,b.T3],styles:[".description__border[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #D3DFFF}.section__border[_ngcontent-%COMP%]{border-bottom:1px solid #D3DFFF}"],changeDetection:0})}return o})();function Pn(o,i){if(1&o&&e.nrm(0,"b2b-client-company-information",2)(1,"b2b-client-payment-and-shipping",2)(2,"b2b-client-advantages",2)(3,"b2b-client-documents",2)(4,"b2b-client-trade-shows",2)(5,"b2b-client-media",2),2&o){const t=i,n=e.XpG();e.Y8G("hidden",(null==t?null:t.label)!==(null==n.TabLabel?null:n.TabLabel.COMPANY_INFORMATION)),e.R7$(),e.Y8G("hidden",(null==t?null:t.label)!==(null==n.TabLabel?null:n.TabLabel.PAYMENT_AND_SHIPPING)),e.R7$(),e.Y8G("hidden",(null==t?null:t.label)!==(null==n.TabLabel?null:n.TabLabel.OUR_ADVANTAGES)),e.R7$(),e.Y8G("hidden",(null==t?null:t.label)!==(null==n.TabLabel?null:n.TabLabel.DOCUMENTS)),e.R7$(),e.Y8G("hidden",(null==t?null:t.label)!==(null==n.TabLabel?null:n.TabLabel.TRADE_SHOWS)),e.R7$(),e.Y8G("hidden",(null==t?null:t.label)!==(null==n.TabLabel?null:n.TabLabel.MEDIA))}}let Ln=(()=>{class o{constructor(t,n,l,m){this.cdr=t,this.tabservice=n,this.matDialog=l,this.authService=m,this.tab$=new zt.m(2),this.disabled=!1,this.TabLabel=N.y,this.tabs=P.v}unloadNotification(t){return(0,c.A)(function*(){fe.c.production&&(t.preventDefault(),t.returnValue="")})()}ngOnInit(){this.checkNewUser()}canDeactivate(){var t=this;return(0,c.A)(function*(){return yield t.initSave(),!0})()}changeTab(t){this.tab$.next(t),this.cdr.detectChanges()}initSave(){var t=this;return(0,c.A)(function*(){(yield t.tabservice.isActivationPossible())?yield t.tabservice.initSaveModal(null):(yield(0,Oe._)(t.tabservice.openTabChangeModal().afterClosed()))&&(yield t.tabservice.initSaveModal(t.tabservice.activeTab))})()}checkNewUser(){const t=this.authService.user,n=["companyName","companyDescription","businessType","employeesNumber","yearOfFoundation","address"],l=S().pick(this.authService.company,n),m=S().values(l);!localStorage.getItem("supplier-pop-up")&&n.length>m.length&&"supplier"===t.rootRole.name&&this.initFirstRegistrationPopup()}initFirstRegistrationPopup(){var t=this;return(0,c.A)(function*(){t.matDialog.open(ue.e,{data:{label:"Update your data",title:"Fill your data",description:"You need to fill out your company to profile to be able to upload your products.",buttons:[{label:"Got it!",result:!0,theme:Ye.a.BACKGROUND_BLUE}]}}).afterClosed().subscribe(n=>{localStorage.setItem("supplier-pop-up","true")})})()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(e.gRc),e.rXU(R.l),e.rXU($.bZ),e.rXU(L.u))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["b2b-client-profile-settings-new"]],hostBindings:function(n,l){1&n&&e.bIt("beforeunload",function(x){return l.unloadNotification(x)},!1,e.tSv)},standalone:!0,features:[e.Jv_([R.l,{provide:$.di,useValue:{overlayPanelClass:"w-full  md:max-w-[80vw]"}}]),e.aNF],decls:4,vars:4,consts:[[1,"flex","flex-col","gap-10","mb-10"],[1,"w-full",3,"activeTab","defaultTab"],[3,"hidden"]],template:function(n,l){if(1&n&&(e.j41(0,"div",0)(1,"b2b-client-profile-settings-tabs",1),e.bIt("activeTab",function(x){return l.changeTab(x)}),e.k0s(),e.DNE(2,Pn,6,6),e.nI1(3,"async"),e.k0s()),2&n){let m;e.R7$(),e.Y8G("defaultTab",l.tabs[5]),e.R7$(),e.vxM(2,(m=e.bMT(3,2,l.tab$))?2:-1,m)}},dependencies:[Y,j,Te,Me,we,ke,T.i,b.Jj,$n],changeDetection:0})}return o})()},49166:(K,k,a)=>{a.d(k,{D:()=>P});var c=a(10467),s=a(54438),e=a(21413),B=a(265);let P=(()=>{class b{constructor(){this.tradeShowService=(0,s.WQX)(B.f),this.tradeShows$=new e.B}getList(){var S=this;return(0,c.A)(function*(){S.tradeShowService.getListByCompanyId().subscribe(F=>{S.tradeShows$.next(F)})})()}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()}}]);