"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3877,5819],{13877:(A,y,c)=>{c.r(y),c.d(y,{AdminLogisticModule:()=>Ot});var l=c(96814),s=c(44112),P=c(97582),r=c(56223),u=c(19347),t=c(65879),g=c(62033),h=c(32296),C=c(30617),f=c(94546),v=c(64024),d=c(94119);function x(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"b2b-ngx-checkbox",15),t.NdJ("checkboxChange",function(o){const m=t.CHM(n).$implicit,O=t.oxw();return t.KtG(O.setTransportType(o,m.value))}),t._uU(2),t.qZA()()}if(2&e){const n=p.$implicit;t.xp6(1),t.Q6J("checked",n.checked),t.xp6(1),t.hij(" ",n.label," ")}}let T=(()=>{class e{constructor(n,i){this.dialogData=n,this.dialogRef=i,this.transportTypes=["Sea","Air"].map(o=>({value:o,label:o,checked:!1})),this.selectedTransportTypes=[]}ngOnInit(){this.setFormGroup()}save(){this.profileForm.invalid?this.profileForm.markAsTouched():this.dialogRef.close(this.profileForm.value)}setTransportType(n,i){if(n.target.checked)this.selectedTransportTypes.push(i);else{const o=this.selectedTransportTypes.indexOf(i);this.selectedTransportTypes.splice(o,1)}this.profileForm.patchValue({transportType:this.selectedTransportTypes},{emitEvent:!1})}setFormGroup(){this.profileForm=new r.cw({name:new r.NI(this.dialogData?.name||null,r.kI.required),country:new r.NI(this.dialogData?.country?.toLowerCase()||null,r.kI.required),email:new r.NI(this.dialogData?.email||null,[r.kI.required,r.kI.email]),phone:new r.NI(this.dialogData?.phone||null,r.kI.required),transportType:new r.NI(this.dialogData?.transportType||null,r.kI.required)}),this.dialogData?.transportType&&(this.transportTypes.map(n=>n.checked=this.dialogData.transportType.includes(n.value)),this.selectedTransportTypes=[...this.dialogData.transportType])}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(u.WI),t.Y36(u.so))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["b2b-add-logistic-profile-dialog"]],decls:26,vars:13,consts:[[1,"dialog-wrapper"],["mat-dialog-title","",1,"dialog-title"],["mat-dialog-close","","mat-icon-button","",1,"close-button"],[1,"close-icon"],[3,"formGroup"],["type","text","placeholder","Enter company name","label","Company name","formControlName","name",1,"b2b-ngx-input","background","background-gray"],[1,"two-in-row","mt-16"],["formControlName","country","placeholder","Select Country"],["for","email",1,"b2b-ngx-input-label"],["id","email","autocomplete","new-email","formControlName","email",1,"b2b-ngx-input","background","background-gray",3,"placeholder"],[1,"mt-16"],["formControlName","phone",3,"errors"],[4,"ngFor","ngForOf"],[1,"button-wrapper","mt-16"],[1,"b2b-ngx-button","background","background-black",3,"click"],[3,"checked","checkboxChange"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"section",4),t._UZ(7,"input",5),t.TgZ(8,"div",6)(9,"div"),t._UZ(10,"b2b-ngx-country-select",7),t.qZA(),t.TgZ(11,"div")(12,"label",8),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._UZ(15,"input",9),t.ALo(16,"translate"),t.qZA()(),t.TgZ(17,"div",10)(18,"b2b-ngx-tel",11),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"div",6),t.YNc(22,x,3,2,"div",12),t.qZA()(),t.TgZ(23,"div",13)(24,"button",14),t.NdJ("click",function(){return o.save()}),t._uU(25," Save "),t.qZA()()()),2&i&&(t.xp6(2),t.hij(" ",o.dialogData?"Edit "+o.dialogData.name:"Add profile"," "),t.xp6(4),t.Q6J("formGroup",o.profileForm),t.xp6(7),t.hij(" ",t.lcZ(14,7,"LABELS.EMAIL")," "),t.xp6(2),t.Q6J("placeholder",t.lcZ(16,9,"PLACEHOLDERS.YOUR_EMAIL")),t.xp6(3),t.Q6J("errors",null==o.profileForm.controls.phone?null:o.profileForm.controls.phone.errors),t.xp6(1),t.hij(" ",t.lcZ(20,11,"LABELS.PHONE")," "),t.xp6(3),t.Q6J("ngForOf",o.transportTypes))},dependencies:[l.sg,g.V,r.Fj,r.JJ,r.JL,r.sg,r.u,u.ZT,u.uh,h.RK,C.Hw,f.Z,v.a,d.X$],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}section[_ngcontent-%COMP%]   .two-in-row[_ngcontent-%COMP%]{display:flex;align-items:end;gap:16px}section[_ngcontent-%COMP%]   .two-in-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 50%}.mt-16[_ngcontent-%COMP%]{margin-top:16px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:7.5px 15px}"]})}return e})();var _=c(51791),N=c(65619),D=c(94664),w=c(67028),Z=c(32181),F=c(87046),M=c(86825);const L=(e,p=!1)=>n=>n.value&&e.some(o=>(p?o?.toLowerCase():o.name?.toLowerCase())===n.value.toLowerCase())?{cityExists:!0}:null;var J=c(71042),B=c(88657);function S(e,p){if(1&e&&(t._UZ(0,"b2b-ngx-country-select",14),t.ALo(1,"async")),2&e){const n=t.oxw(2);t.Q6J("customOptions",t.lcZ(1,1,n.countryOptions))}}function G(e,p){if(1&e&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("@fadeInOut",void 0),t.xp6(1),t.hij(" This ",n.directionForm.controls.type.value," already exist ")}}function Q(e,p){if(1&e&&(t._UZ(0,"b2b-ngx-country-select",16),t.ALo(1,"async")),2&e){const n=t.oxw(2);t.Q6J("customOptions",t.lcZ(1,1,n.cityOptions))}}function R(e,p){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,S,2,3,"b2b-ngx-country-select",11),t.YNc(2,G,2,2,"p",12),t.YNc(3,Q,2,3,"ng-template",null,13,t.W1O),t.qZA()),2&e){const n=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("ngIf","city"===i.directionForm.controls.type.value||"country"===i.directionForm.controls.type.value)("ngIfElse",n),t.xp6(1),t.Q6J("ngIf",null==i.directionForm.get("country").errors?null:i.directionForm.get("country").errors.cityExists)}}function j(e,p){if(1&e&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("@fadeInOut",void 0),t.xp6(1),t.hij(" This ",n.directionForm.controls.type.value," already exist ")}}function Y(e,p){if(1&e&&(t.TgZ(0,"div",5),t._UZ(1,"input",17),t.YNc(2,j,2,2,"p",12),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",null==n.directionForm.get("name").errors?null:n.directionForm.get("name").errors.cityExists)}}function V(e,p){1&e&&(t.TgZ(0,"b2b-ngx-checkbox",18),t._uU(1,"Active"),t.qZA())}let K=(()=>{let e=class k{constructor(n,i,o){this.dialogRef=n,this.adminLogisticService=i,this.changeDetectorRef=o,this.types=["Country","City","Port","Airport"].map(a=>({type:a.toLowerCase(),name:a})),this.showNameInput=!1,this.b2bNgxSelectThemeEnum=F.B,this.directionCountryOptions=new N.X(null),this.countryOptions=new N.X(null)}ngOnInit(){this.setForm()}save(){if(this.directionForm.invalid)return void this.directionForm.markAllAsTouched();const{type:n,country:i,active:a}=this.directionForm.value,m={type:n,name:"country"!==n?this.directionForm.value.name:(0,w.oY)(i),active:a};"city"===n&&(m.countryId=i),("port"===n||"airport"===n)&&(m.cityId=i),this.dialogRef.close(m)}setForm(){this.directionForm=new r.cw({type:new r.NI(null,r.kI.required),country:new r.NI(null),name:new r.NI(null),city:new r.NI(null),active:new r.NI(!1)});const n=this.directionForm.get("country"),i=this.directionForm.get("name"),o=this.directionForm.get("city");this.directionForm.controls.type.valueChanges.pipe((0,_.t)(this)).subscribe(a=>{i.reset(),n.reset(),i.clearValidators(),n.clearValidators(),o.clearValidators(),i.setErrors(null),n.setErrors(null),o.setErrors(null),"country"!==a?(this.countryOptions=this.directionCountryOptions,n.setValidators([r.kI.required]),i.setValidators([r.kI.required]),this.showNameInput=!0,"port"===a||"airport"===a?o.setValidators([r.kI.required]):i.disable()):(this.countryOptions=null,this.showNameInput=!1,n.setValidators(L(this.directions.map(m=>(0,w.Cq)(m.name)),!0))),this.directionForm.updateValueAndValidity(),this.changeDetectorRef.detectChanges()}),n.valueChanges.pipe((0,Z.h)(a=>!!a),(0,_.t)(this)).subscribe(a=>{if("city"===this.directionForm.controls.type.value)i.enable(),i.setValidators(L(this.directions.find(m=>m._id===a).cities)),this.directionForm.updateValueAndValidity(),this.changeDetectorRef.detectChanges();else{let m=null;this.directions.some(O=>O.cities.some(I=>I._id===a&&(m="port"===this.directionForm.controls.type.value?I.ports:I.airports,!0))),i.enable(),i.setValidators(L(m)),this.directionForm.updateValueAndValidity(),this.changeDetectorRef.detectChanges()}})}static#t=this.\u0275fac=function(i){return new(i||k)(t.Y36(u.so),t.Y36(J.d),t.Y36(t.sBO))};static#n=this.\u0275cmp=t.Xpm({type:k,selectors:[["b2b-create-direction-dialog"]],decls:15,vars:6,consts:[[1,"dialog-wrapper"],["mat-dialog-title","",1,"dialog-title"],["mat-dialog-close","","mat-icon-button","",1,"close-button"],[1,"close-icon"],[3,"formGroup"],[1,"search-wrapper"],["formControlName","type","bindValue","type","bindLabel","name","placeholder","Select direction type",3,"options","theme"],["class","search-wrapper",4,"ngIf"],["formControlName","active",4,"ngIf"],[1,"button-wrapper","mt-16"],[1,"b2b-ngx-button","background","background-black",3,"click"],["formControlName","country","class","admin-article__country","placeholder","Select Country",3,"customOptions",4,"ngIf","ngIfElse"],["class","error",4,"ngIf"],["isCity",""],["formControlName","country","placeholder","Select Country",1,"admin-article__country",3,"customOptions"],[1,"error"],["formControlName","country","placeholder","Select city",1,"admin-article__country",3,"customOptions"],["formControlName","name","placeholder","Input name of direction",1,"b2b-ngx-input","background","background-gray"],["formControlName","active"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2," Create direction "),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"section",4)(7,"div",5),t._UZ(8,"b2b-ngx-select",6),t.qZA(),t.YNc(9,R,5,3,"div",7),t.YNc(10,Y,3,1,"div",7),t.YNc(11,V,2,0,"b2b-ngx-checkbox",8),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return o.save()}),t._uU(14," Save "),t.qZA()()()()),2&i&&(t.xp6(6),t.Q6J("formGroup",o.directionForm),t.xp6(2),t.Q6J("options",o.types)("theme",o.b2bNgxSelectThemeEnum.BACKGROUND_GRAY),t.xp6(1),t.Q6J("ngIf",o.directionForm.controls.type.value),t.xp6(1),t.Q6J("ngIf",o.showNameInput),t.xp6(1),t.Q6J("ngIf",o.directionForm.controls.type.value))},dependencies:[l.O5,g.V,r.Fj,r.JJ,r.JL,r.sg,r.u,u.ZT,u.uh,h.RK,C.Hw,v.a,B.B,l.Ov],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.mt-16[_ngcontent-%COMP%]{margin-top:16px}section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;min-height:300px}section[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}section[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:7.5px 15px}.error[_ngcontent-%COMP%]{font-size:14px;color:#e63d3d;margin-top:7px;margin-bottom:0}"],data:{animation:[(0,M.X$)("fadeInOut",[(0,M.eR)(":enter",[(0,M.oB)({opacity:0}),(0,M.jt)(500,(0,M.oB)({opacity:1}))]),(0,M.eR)(":leave",[(0,M.jt)(500,(0,M.oB)({opacity:0}))])])]}})};return e=(0,P.gn)([(0,_.c)()],e),e})();var q=c(58133),H=c(11203),b=c(25313),W=c(25819);function z(e,p){if(1&e&&(t.TgZ(0,"div",11)(1,"b2b-ngx-select",18),t._uU(2),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("placeholder","Port"===n.pointsGroup.controls.type.value?"Select port":"Select airport")("options",n.itemOptions)("theme",n.b2bNgxSelectThemeEnum.BACKGROUND_WHITE),t.xp6(1),t.hij(" ","Port"===n.pointsGroup.controls.type.value?"Select port":"Select airport"," ")}}function $(e,p){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Name"),t.qZA())}function X(e,p){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=p.$implicit;t.xp6(1),t.Oqu(n.name)}}function tt(e,p){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Country"),t.qZA())}function nt(e,p){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=p.$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.getName(n.country)," ")}}function et(e,p){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Email"),t.qZA())}function ot(e,p){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=p.$implicit;t.xp6(1),t.Oqu(n.email)}}function it(e,p){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Phone"),t.qZA())}function rt(e,p){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=p.$implicit;t.xp6(1),t.hij(" ",n.phone.internationalNumber," ")}}function ct(e,p){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Transport type"),t.qZA())}function at(e,p){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=p.$implicit;t.xp6(1),t.Oqu(n.transportType)}}function st(e,p){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Actions"),t.qZA())}function lt(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"td",32)(1,"div",33)(2,"button",34),t.NdJ("click",function(o){const m=t.CHM(n).$implicit,O=t.oxw(2);return o.stopPropagation(),t.KtG(O.addLogisticProfile(m))}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",34),t.NdJ("click",function(o){const m=t.CHM(n).$implicit,O=t.oxw(2);return o.stopPropagation(),t.KtG(O.deleteLogisticProfile(m))}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA()()()()}}function pt(e,p){1&e&&t._UZ(0,"tr",35)}function gt(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"tr",36),t.NdJ("click",function(){const a=t.CHM(n).$implicit,m=t.oxw(2);return t.KtG(m.openProfileDetails(a._id))}),t.qZA()}}function ut(e,p){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"table",19),t.ynx(2,20),t.YNc(3,$,2,0,"th",21),t.YNc(4,X,2,1,"td",22),t.BQk(),t.ynx(5,23),t.YNc(6,tt,2,0,"th",21),t.YNc(7,nt,2,1,"td",22),t.BQk(),t.ynx(8,24),t.YNc(9,et,2,0,"th",21),t.YNc(10,ot,2,1,"td",22),t.BQk(),t.ynx(11,25),t.YNc(12,it,2,0,"th",21),t.YNc(13,rt,2,1,"td",22),t.BQk(),t.ynx(14,26),t.YNc(15,ct,2,0,"th",21),t.YNc(16,at,2,1,"td",22),t.BQk(),t.ynx(17,27),t.YNc(18,st,2,0,"th",21),t.YNc(19,lt,8,0,"td",22),t.BQk(),t.YNc(20,pt,1,0,"tr",28),t.YNc(21,gt,1,0,"tr",29),t.qZA(),t.TgZ(22,"b2b-ngx-pagination",30),t.NdJ("togglePageNumber",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.togglePage(o))}),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("length",n.totalCount)("perPage",n.productsLimit)}}function dt(e,p){1&e&&(t.TgZ(0,"h3"),t._uU(1,"No companies found"),t.qZA())}const mt=function(){return["Port","Airport"]},ht=[{path:"",component:(()=>{let e=class E{constructor(n,i,o,a,m){this.dialog=n,this.router=i,this.adminLogisticService=o,this.hotToastService=a,this.changeDetectorRef=m,this.displayedColumns=["name","country","email","phone","transportType","actions"],this.transportTypes=["Sea","Air"].map(O=>({_id:O.toLowerCase(),name:O})),this.b2bNgxSelectThemeEnum=F.B,this.productsLimit=20,this.countryOptions=new N.X(null),this.cityOptions=new N.X(null),this.filteredQueryObj={limit:this.productsLimit,offset:0},this.getName=w.oY}ngOnInit(){this.getDirectionOptions(),this.fetchData(),this.setFormGroup()}addLogisticProfile(n){this.dialog.open(T,{width:"500px",data:n}).afterClosed().pipe((0,Z.h)(o=>!!o),(0,D.w)(o=>{const a={...o,contactPhoneNumber:o.phone.number,contactPhoneInternationalNumber:o.phone.internationalNumber,contactPhoneNationalNumber:o.phone.nationalNumber,contactPhoneE164Number:o.phone.e164Number,contactPhoneCountryCode:o.phone.countryCode,contactPhoneDialCode:o.phone.dialCode};return n?this.adminLogisticService.updateCompanyProfile(a,n._id):this.adminLogisticService.createCompanyProfile(a)}),(0,_.t)(this)).subscribe(()=>{this.fetchData(),this.hotToastService.success(n?"Profile was successfully updated":"New profile was successfully created")})}createDirection(){const n=this.dialog.open(K,{width:"500px",minHeight:"400px"});n.componentInstance.directionCountryOptions=this.countryOptions,n.componentInstance.cityOptions=this.cityOptions,n.componentInstance.directions=this.directions,n.afterClosed().pipe((0,Z.h)(i=>!!i),(0,D.w)(i=>this.adminLogisticService.createDirection(i)),(0,_.t)(this)).subscribe(()=>{this.countryOptions.next(null),this.getDirectionOptions(),this.hotToastService.success("Direction was successfully created")})}deleteLogisticProfile(n){this.adminLogisticService.deleteCompanyProfile(n._id).pipe((0,_.t)(this)).subscribe(()=>{this.hotToastService.success("Profile was successfully deleted"),this.fetchData()})}togglePage(n){this.filteredQueryObj={...this.filteredQueryObj,offset:(n-1)*this.productsLimit}}openProfileDetails(n){this.router.navigate(["/logistic",n])}setNullableValue(n,i){"searchGroup"===n?this.searchGroup.patchValue(i&&"type"===i?{type:null}:{country:null},{emitEvent:!1}):this.pointsGroup.patchValue({countryId:null},{emitEvent:!1})}radioDisable(n){n.target.id.slice(0,-1)===this.pointsGroup.controls.type.value&&this.pointsGroup.controls.type.reset()}fetchData(n){this.adminLogisticService.getCompanies(this.filteredQueryObj.limit,this.filteredQueryObj.offset,n).pipe((0,_.t)(this)).subscribe(i=>{this.totalCount=i.totalCount,this.dataSource=i.companies,this.changeDetectorRef.detectChanges()},i=>this.hotToastService.error(i.error.message))}setFormGroup(){this.searchGroup=new r.cw({name:new r.NI(null),country:new r.NI(null),type:new r.NI(null),q:new r.NI(null)}),this.pointsGroup=new r.cw({countryId:new r.NI(null),items:new r.NI(null),type:new r.NI(null)}),this.searchGroup.valueChanges.pipe((0,_.t)(this)).subscribe(n=>{const i={};for(const o in n)null!=n[o]&&(i[o]=n[o]);this.fetchData(i),this.changeDetectorRef.detectChanges()}),this.pointsGroup.valueChanges.pipe((0,Z.h)(n=>!!n.countryId),(0,D.w)(n=>this.adminLogisticService.getDirection(n.countryId)),(0,_.t)(this)).subscribe(n=>{const i=n.data.map("Port"===this.pointsGroup.controls.type.value?o=>o.cities.filter(a=>!!a.ports&&a.ports.length>0).map(a=>a.ports):o=>o.cities.filter(a=>!!a.airports&&a.airports.length>0).map(a=>a.airports));this.itemOptions=i.flatMap(o=>o.flat())})}getDirectionOptions(){this.adminLogisticService.getDirection().pipe((0,_.t)(this)).subscribe(n=>{this.countryOptions.next(n.data.map(i=>({label:i.name,icon:(0,w.Cq)(i.name),code:i._id}))),this.directions=n.data,this.cityOptions.next(n.data.map(i=>i.cities.map(o=>({label:o.name,code:o._id,icon:(0,w.Cq)(i.name)}))).flatMap(i=>i.flat()))})}static#t=this.\u0275fac=function(i){return new(i||E)(t.Y36(u.uw),t.Y36(s.F0),t.Y36(J.d),t.Y36(q.jE),t.Y36(t.sBO))};static#n=this.\u0275cmp=t.Xpm({type:E,selectors:[["b2b-admin-logistic"]],decls:31,vars:23,consts:[[1,"logistic-wrapper"],[1,"point-actions",3,"formGroup"],[1,"logistic-header-wrapper"],["formControlName","type",3,"options","click"],[1,"search-wrapper","country-wrapper"],["formControlName","countryId","placeholder","Select Country",3,"customOptions","theme"],[3,"click"],["class","search-wrapper",4,"ngIf"],[1,"logistic-header-wrapper",3,"formGroup"],[1,"b2b-ngx-button","background","background-black",3,"click"],[1,"b2b-ngx-button","background","background-black",3,"disabled","click"],[1,"search-wrapper"],["formControlName","name","placeholder","Search by name",1,"b2b-ngx-input","background","background-white"],["formControlName","country","placeholder","Select Country",3,"theme"],["formControlName","type","placeholder","Search by transport type","bindValue","_id","bindLabel","name",3,"options","theme"],["formControlName","q","label","Search","placeholder","Search",1,"b2b-ngx-input","background","background-white"],[4,"ngIf","ngIfElse"],["noProfiles",""],["formControlName","items","bindValue","_id","bindLabel","name",3,"placeholder","options","theme"],["mat-table","",1,"mat-elevation-z8","w-100","mt-4",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","country"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","transportType"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[3,"length","perPage","togglePageNumber"],["mat-header-cell",""],["mat-cell",""],[1,"actions-block"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"b2b-ngx-radio",3),t.NdJ("click",function(m){return o.radioDisable(m)}),t.qZA(),t.TgZ(4,"div",4)(5,"b2b-ngx-country-select",5),t.ALo(6,"async"),t._uU(7,"Select country for ports or airports"),t.qZA(),t.TgZ(8,"mat-icon",6),t.NdJ("click",function(){return o.setNullableValue("pointsGroup")}),t._uU(9,"close"),t.qZA()(),t.YNc(10,z,3,4,"div",7),t.qZA()(),t.TgZ(11,"div",8)(12,"button",9),t.NdJ("click",function(){return o.addLogisticProfile()}),t._uU(13," Add logistic profile "),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.createDirection()}),t.ALo(15,"async"),t._uU(16," Create direction "),t.qZA(),t.TgZ(17,"div",11),t._UZ(18,"input",12),t.qZA(),t.TgZ(19,"div",4),t._UZ(20,"b2b-ngx-country-select",13),t.TgZ(21,"mat-icon",6),t.NdJ("click",function(){return o.setNullableValue("searchGroup")}),t._uU(22,"close"),t.qZA()(),t.TgZ(23,"div",4),t._UZ(24,"b2b-ngx-select",14),t.TgZ(25,"mat-icon",6),t.NdJ("click",function(){return o.setNullableValue("searchGroup","type")}),t._uU(26,"close"),t.qZA()(),t._UZ(27,"input",15),t.qZA(),t.YNc(28,ut,23,5,"ng-container",16),t.YNc(29,dt,2,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const a=t.MAs(30);t.xp6(1),t.Q6J("formGroup",o.pointsGroup),t.xp6(2),t.Q6J("options",t.DdM(22,mt)),t.xp6(2),t.Q6J("customOptions",t.lcZ(6,18,o.countryOptions))("theme",o.b2bNgxSelectThemeEnum.BACKGROUND_WHITE),t.xp6(3),t.ekj("show",null==o.pointsGroup?null:o.pointsGroup.controls.countryId.value),t.xp6(2),t.Q6J("ngIf",o.pointsGroup.controls.countryId.value&&o.pointsGroup.controls.type.value),t.xp6(1),t.Q6J("formGroup",o.searchGroup),t.xp6(3),t.Q6J("disabled",!t.lcZ(15,20,o.countryOptions)),t.xp6(6),t.Q6J("theme",o.b2bNgxSelectThemeEnum.BACKGROUND_WHITE),t.xp6(1),t.ekj("show",o.searchGroup.controls.country.value),t.xp6(3),t.Q6J("options",o.transportTypes)("theme",o.b2bNgxSelectThemeEnum.BACKGROUND_WHITE),t.xp6(1),t.ekj("show",o.searchGroup.controls.type.value),t.xp6(3),t.Q6J("ngIf",o.totalCount)("ngIfElse",a)}},dependencies:[l.O5,g.V,r.Fj,r.JJ,r.JL,r.sg,r.u,h.RK,C.Hw,H.Q,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,B.B,W.Z,l.Ov],styles:[".logistic-wrapper[_ngcontent-%COMP%]{padding:30px}.logistic-wrapper[_ngcontent-%COMP%]   .point-actions[_ngcontent-%COMP%]{padding-bottom:24px;margin-bottom:24px;border-bottom:1px solid lightgray}.logistic-wrapper[_ngcontent-%COMP%]   .point-actions[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]{align-items:center}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:24px}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .b2b-ngx-button[_ngcontent-%COMP%]{padding:7.5px 15px}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{width:48%}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]{position:relative}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}.logistic-wrapper[_ngcontent-%COMP%]   .logistic-header-wrapper[_ngcontent-%COMP%]   .country-wrapper[_ngcontent-%COMP%]   mat-icon.show[_ngcontent-%COMP%]{display:initial;position:absolute;top:16px;left:-19px;color:gray;font-size:15px;width:12px;height:12px;cursor:pointer}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%], .logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:max-content}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:12px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-size:16px;padding:12px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#add8e6}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{padding-left:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{text-align:end;padding-right:24px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:8px;padding:5px 0}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;background:lightblue;border-radius:5px}.logistic-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;line-height:13px;color:#fff}.logistic-wrapper[_ngcontent-%COMP%]   table.no-background[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{cursor:initial;background:transparent}.logistic-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}  input.datepicker{height:64px;border:none;border-radius:14px;padding:0 16px;width:100%;max-width:191px}  input.datepicker::placeholder{padding-left:20px}.error-list[_ngcontent-%COMP%]{overflow-y:auto;max-height:500px;padding:16px;border-radius:8px;background:white;max-width:50%;margin-top:24px}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:15px;line-height:22px;padding-bottom:12px;font-weight:400}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]:first-of-type{color:gray}.error-list[_ngcontent-%COMP%]   .error-field[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{min-width:50%;font-weight:600}"]})};return e=(0,P.gn)([(0,_.c)()],e),e})()}];let _t=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[s.Bz.forChild(ht),s.Bz]})}return e})();var ft=c(80150),Ct=c(23031),xt=c(47981),bt=c(89611),yt=c(74027),Pt=c(34067);let Ot=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[l.ez,_t,ft.N,r.UX,u.Is,h.ot,C.Ps,d.aw,Ct.c,xt.T,bt.z,b.p0,yt.F,Pt.I]})}return e})()},11203:(A,y,c)=>{c.d(y,{Q:()=>r});var l=c(65879),s=c(96814);function P(u,t){if(1&u){const g=l.EpF();l.TgZ(0,"li",2),l.NdJ("click",function(){const f=l.CHM(g).$implicit,v=l.oxw();return l.KtG(v.togglePage(f.value))}),l._uU(1),l.qZA()}if(2&u){const g=t.$implicit,h=l.oxw();l.ekj("active",h.currentPage===g.label),l.xp6(1),l.hij(" ",g.label," ")}}let r=(()=>{class u{constructor(){this.currentPage=1,this.togglePageNumber=new l.vpe,this.currentPage=1,this.togglePage(1)}get options(){return this.length&&this.perPage?new Array(Math.ceil(this.length/this.perPage)).fill(null).map((C,f)=>({label:f+1,value:f+1})):[]}togglePage(g){g!==this.currentPage&&(this.currentPage=g,this.togglePageNumber.emit(g))}togglePrevPage(){1!==this.currentPage&&(this.currentPage=this.currentPage-1,this.togglePageNumber.emit(this.currentPage))}toggleNextPage(){this.currentPage!==this.options.length&&(this.currentPage=this.currentPage+1,this.togglePageNumber.emit(this.currentPage))}static#t=this.\u0275fac=function(h){return new(h||u)};static#n=this.\u0275cmp=l.Xpm({type:u,selectors:[["b2b-ngx-pagination"]],inputs:{length:"length",perPage:"perPage",currentPage:"currentPage"},outputs:{togglePageNumber:"togglePageNumber"},decls:2,vars:1,consts:[[1,"ngx-pagination"],["class","ngx-pagination-item",3,"active","click",4,"ngFor","ngForOf"],[1,"ngx-pagination-item",3,"click"]],template:function(h,C){1&h&&(l.TgZ(0,"ul",0),l.YNc(1,P,2,3,"li",1),l.qZA()),2&h&&(l.xp6(1),l.Q6J("ngForOf",C.options))},dependencies:[s.sg],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.ngx-pagination[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:24px;flex-wrap:wrap;row-gap:10px}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 4px;border:1px solid #dfe8f5;cursor:pointer}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:hover:not(.active){background-color:#eff4fa}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:active{background:#ffffff}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return u})()},89611:(A,y,c)=>{c.d(y,{z:()=>P});var l=c(96814),s=c(65879);let P=(()=>{class r{static#t=this.\u0275fac=function(g){return new(g||r)};static#n=this.\u0275mod=s.oAB({type:r});static#e=this.\u0275inj=s.cJS({imports:[l.ez]})}return r})()},25819:(A,y,c)=>{c.d(y,{Z:()=>f});var h,l=c(97582),s=c(65879),P=c(14016),r=c(56223),u=c(51791),t=c(96814),g=c(53803);function C(v,d){if(1&v&&(s.TgZ(0,"li"),s._UZ(1,"input",2),s.TgZ(2,"label",3)(3,"span",4),s._UZ(4,"img",5),s.qZA(),s.TgZ(5,"span",6),s._uU(6),s.qZA()()()),2&v){const x=d.$implicit,T=d.index,_=s.oxw();s.xp6(1),s.Q6J("id",x+T)("formControl",_.formControl)("value",x),s.xp6(1),s.Q6J("for",x+T),s.xp6(4),s.Oqu(x)}}let f=h=class U{constructor(){this.type="checkbox",this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new r.NI(""),this.id=(0,P.U)()}get error(){if(!this.errors)return"";const d=Object.keys(this.errors)[0];return this.errors[d]}ngOnInit(){this.subscribeOnValueChanges()}ngOnChanges(d){d.errors&&this.formControl.setErrors(d.errors.currentValue)}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe((0,u.t)(this)).subscribe(d=>{this.onChange(d)})}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}writeValue(d){this.formControl.setValue(d)}setDisabledState(d){d?this.formControl.disable():this.formControl.enable()}static#t=this.\u0275fac=function(x){return new(x||U)};static#n=this.\u0275cmp=s.Xpm({type:U,selectors:[["b2b-ngx-radio"]],inputs:{placeholder:"placeholder",checked:"checked",options:"options",customClass:"customClass",errors:"errors"},features:[s._Bn([{provide:r.JU,useExisting:(0,s.Gpc)(()=>h),multi:!0},{provide:r.Cf,useExisting:(0,s.Gpc)(()=>h),multi:!0}]),s.TTD],decls:2,vars:2,consts:[[3,"className"],[4,"ngFor","ngForOf"],["name","radio","type","radio",3,"id","formControl","value"],[3,"for"],[1,"circle"],["b2bNgxIcon","","name","check-white"],[1,"title"]],template:function(x,T){1&x&&(s.TgZ(0,"ul",0),s.YNc(1,C,7,5,"li",1),s.qZA()),2&x&&(s.Q6J("className",T.customClass),s.xp6(1),s.Q6J("ngForOf",T.options))},dependencies:[t.sg,r.Fj,r._,r.JJ,r.oH,g.p],styles:["ul[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border:1px solid #556274;border-radius:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:14px;color:#556274}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-left:0;font-size:16px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.01em;text-align:left}"],changeDetection:0})};f=h=(0,l.gn)([(0,u.c)()],f)},34067:(A,y,c)=>{c.d(y,{I:()=>u});var l=c(96814),s=c(56223),P=c(98653),r=c(65879);let u=(()=>{class g{static#t=this.\u0275fac=function(f){return new(f||g)};static#n=this.\u0275mod=r.oAB({type:g});static#e=this.\u0275inj=r.cJS({imports:[l.ez,s.UX,P.w]})}return g})();c(25819)}}]);