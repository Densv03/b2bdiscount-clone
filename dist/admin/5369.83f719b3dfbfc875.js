"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[5369],{60964:(Ge,J,a)=>{a.d(J,{B:()=>oe});var T=a(49671),S=a(97582),e=a(12371),M=a(38418),U=a(19347),h=a(56223),G=a(82242),b=a(56878),f=a(96814),Z=a(92977),y=a(28514),j=a(43377),u=a(81374),C=a(78533),k=a(24036),D=a(78791),E=a(64170),x=a(72315),t=a(19212);let w=(()=>{class c{constructor(){this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new h.NI}ngOnChanges(l){l.errors&&this.formControl.setErrors(l.errors)}ngOnInit(){this.subscribeOnValueChanges()}validate(){return this.formControl.errors}registerOnChange(l){this.onChange=l}registerOnTouched(l){this.onTouched=l}writeValue(l){this.formControl.setValue(l)}setDisabledState(l){l?this.formControl.disable():this.formControl.enable()}subscribeOnValueChanges(){this.formControl.valueChanges.pipe().subscribe(l=>{this.onChange(l)})}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac})}return c})();var se=a(6990),V=a.n(se),W=a(98653),O=a(83498),q=a(53803);function le(c,p){if(1&c){const l=t.EpF();t.TgZ(0,"div",4)(1,"button",5),t.NdJ("click",function(){t.CHM(l);const g=t.oxw();return t.KtG(g.delete())}),t._UZ(2,"img",6),t.qZA()()}2&c&&(t.xp6(2),t.Q6J("name","close"))}function B(c,p){1&c&&(t.TgZ(0,"div",7)(1,"span",8),t._uU(2,"Main"),t.qZA()())}function P(c,p){if(1&c&&t._UZ(0,"img",10),2&c){const l=t.oxw(2);t.MGl("alt","image #",l.index,""),t.Q6J("src",l.url,t.LSH)}}function ce(c,p){if(1&c&&t.YNc(0,P,1,2,"img",9),2&c){const l=t.oxw();t.um2(0,l.url?0:-1)}}function K(c,p){if(1&c&&t._UZ(0,"video",11),2&c){const l=t.oxw(2);t.Q6J("autoplay",!1)("loop",!1)("src",l.url,t.LSH)}}function de(c,p){if(1&c&&t.YNc(0,K,1,3,"video",11),2&c){const l=t.oxw();t.um2(0,l.url?0:-1)}}function X(c,p){1&c&&t._UZ(0,"div")}let I=(()=>{class c{constructor(l){this.cdr=l,this.showDelete=!0,this.deleteItem=new t.vpe,this.type="image"}ngOnChanges(l){this.initDefault()}ngOnInit(){this.initDefault()}getUrlFormFile(){const l=new FileReader;l.onload=()=>{this.url=l.result,this.cdr.detectChanges()},l.readAsDataURL(this.data),this.type="image"}initDefault(){if(function F(c){return c instanceof File}(this.data))return this.getUrlFormFile();this.getUrlFormItem()}getUrlFormItem(){const{type:l,url:d}=this.handleItem(this.data);this.type=l,this.url=d,this.cdr.detectChanges()}delete(){this.deleteItem.next(this.index)}static#e=this.\u0275fac=function(d){return new(d||c)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:c,selectors:[["lib-card"]],inputs:{data:"data",index:"index",handleItem:"handleItem",showDelete:"showDelete"},outputs:{deleteItem:"deleteItem"},standalone:!0,features:[t.TTD,t.jDz],decls:7,vars:3,consts:[[1,"grid","grid-cols-3","grid-rows-3"],["class","z-10 flex flex-row items-baseline justify-end p-2 w-full col-start-1 col-end-4 row-start-1 row-end-2"],["class","z-10 flex flex-row items-center justify-start col-start-1 col-end-2 row-start-1 row-end-2 w-full h-auto"],[1,"z-0","flex","items-end","justify-start","h-full","w-full","col-start-1","col-end-4","row-start-1","row-end-4"],[1,"z-10","flex","flex-row","items-baseline","justify-end","p-2","w-full","col-start-1","col-end-4","row-start-1","row-end-2"],["type","button","b2bNgxButton","",1,"bg-white","p-1","bg-opacity-70",3,"click"],["b2bNgxIcon","","alt","edit",3,"name"],[1,"z-10","flex","flex-row","items-center","justify-start","col-start-1","col-end-2","row-start-1","row-end-2","w-full","h-auto"],[1,"text-white","text-[8px]","bg-red-500","p-1"],["class","aspect-square max-h-[96px] object-cover rounded-md",3,"src","alt"],[1,"aspect-square","max-h-[96px]","object-cover","rounded-md",3,"src","alt"],[3,"autoplay","loop","src"]],template:function(d,g){if(1&d&&(t.TgZ(0,"div",0),t.YNc(1,le,3,1,"div",1)(2,B,3,0,"div",2),t.TgZ(3,"div",3),t.YNc(4,ce,1,1)(5,de,1,1)(6,X,1,0),t.qZA()()),2&d){let v;t.xp6(),t.um2(1,g.showDelete?1:-1),t.xp6(),t.um2(2,0===g.index?2:-1),t.xp6(2),t.um2(4,"image"===(v=g.type)?4:"video"===v?5:"doc"===v?6:-1)}},dependencies:[j.l,O.f,W.w,q.p],encapsulation:2,changeDetection:0})}return c})();function me(c,p){if(1&c){const l=t.EpF();t.TgZ(0,"lib-card",2),t.NdJ("deleteItem",function(g){t.CHM(l);const v=t.oxw(2);return t.KtG(v.delete(g))}),t.qZA()}if(2&c){const l=t.oxw(),d=l.$implicit,g=l.$index,v=t.oxw();t.Q6J("handleItem",v.handleItem)("data",d)("index",g)}}function Q(c,p){1&c&&t.YNc(0,me,1,3,"lib-card",1),2&c&&t.um2(0,p.$implicit?0:-1)}let ee=(()=>{class c{constructor(){this.deleteItem=new t.vpe}delete(l){this.deleteItem.next(l)}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=t.Xpm({type:c,selectors:[["globy-file-list"]],inputs:{items:"items",handleItem:"handleItem",showDelete:"showDelete",customClass:"customClass"},outputs:{deleteItem:"deleteItem"},standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[[1,"grid","grid-flow-col","gap-3",3,"ngClass"],[3,"handleItem","data","index"],[3,"handleItem","data","index","deleteItem"]],template:function(d,g){1&d&&(t.TgZ(0,"div",0),t.SjG(1,Q,1,1,null,null,t.ikw),t.qZA()),2&d&&(t.Q6J("ngClass",g.customClass),t.xp6(),t.wJu(g.items))},dependencies:[I,f.mk],encapsulation:2,changeDetection:0})}return c})();const Y=["png","svg","jpg","jpeg","webp"];function N(c){return[w,{provide:h.JU,useExisting:(0,t.Gpc)(()=>c),multi:!0},{provide:h.Cf,useExisting:(0,t.Gpc)(()=>c),multi:!0}]}function $(c,p){if(1&c&&t._UZ(0,"img",3),2&c){const l=t.oxw();t.Q6J("name",l.buttonIcon)}}function te(c,p){if(1&c&&(t.TgZ(0,"span",9),t._uU(1),t.qZA()),2&c){const l=t.oxw();t.xp6(),t.Oqu(l.noFileLabel)}}function A(c,p){if(1&c&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&c){const l=t.oxw();t.xp6(),t.hij(" ",l.description," ")}}function ne(c,p){if(1&c){const l=t.EpF();t.TgZ(0,"globy-file-list",11),t.NdJ("deleteItem",function(g){t.CHM(l);const v=t.oxw();return t.KtG(v.delete(g))}),t.qZA()}if(2&c){const l=t.oxw();t.Q6J("customClass",l.customListClass)("showDelete",l.showDelete)("handleItem",l.handleItem)("items",l.items)}}let ue=(()=>{let c=class re extends w{get value(){return this.formControl?.value||[]}constructor(){super(),this.buttonIcon="export",this.buttonLabel="Upload file",this.maxFileWeight=10,this.accept=Y,this.showResulList=!0,this.showDelete=!0,this.formControl.valueChanges.subscribe(l=>{console.log(l)})}get acceptTypes(){return this.accept.map(d=>`.${d}`).join(", ")}get items(){return Array.isArray(this.formControl.value)?this.formControl.value:[this.formControl.value]}delete(l){let d=V().cloneDeep(this.value);d=V().without(d,d[l]),this.formControl.patchValue(d)}uploadFile(l){const d=l.target.files;this.formControl.patchValue(this.multiple?[...this.value,...d]:[...d])}static#e=this.\u0275fac=function(d){return new(d||re)};static#t=this.\u0275cmp=t.Xpm({type:re,selectors:[["globy-file"]],inputs:{buttonIcon:"buttonIcon",buttonLabel:"buttonLabel",buttonClass:"buttonClass",maxFileWeight:"maxFileWeight",description:"description",multiple:"multiple",accept:"accept",noFileLabel:"noFileLabel",showResulList:"showResulList",customListClass:"customListClass",showDelete:"showDelete",handleItem:"handleItem"},standalone:!0,features:[t._Bn([N(re)]),t.qOj,t.jDz],decls:11,vars:8,consts:[[1,"flex","flex-col","gap-3"],[1,"flex","flex-row"],["b2bNgxButton","","type","button",1,"upload-button","text-xs","rounded-sm","px-3","py-2","flex","flex-row","gap-2","items-center",3,"ngClass","click"],["b2bNgxIcon","",3,"name"],["type","file",1,"hidden",3,"accept","multiple","change"],["fileInput",""],["class","text-sm"],["class","flex items-center justify-start font-secondary text-base"],[3,"customClass","showDelete","handleItem","items"],[1,"text-sm"],[1,"flex","items-center","justify-start","font-secondary","text-base"],[3,"customClass","showDelete","handleItem","items","deleteItem"]],template:function(d,g){if(1&d){const v=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){t.CHM(v);const H=t.MAs(7);return t.KtG(H.click())}),t.YNc(3,$,1,1,"img",3),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"input",4,5),t.NdJ("change",function(H){return g.uploadFile(H)}),t.qZA(),t.YNc(8,te,2,1,"span",6),t.qZA(),t.YNc(9,A,2,1,"div",7)(10,ne,1,4,"globy-file-list",8),t.qZA()}2&d&&(t.xp6(2),t.Q6J("ngClass",g.buttonClass),t.xp6(),t.um2(3,g.buttonIcon?3:-1),t.xp6(2),t.Oqu(g.buttonLabel),t.xp6(),t.Q6J("accept",g.acceptTypes)("multiple",g.multiple),t.xp6(2),t.um2(8,g.noFileLabel?8:-1),t.xp6(),t.um2(9,g.description?9:-1),t.xp6(),t.um2(10,g.showResulList?10:-1))},dependencies:[j.l,O.f,ee,f.mk,h.UX,W.w,q.p],styles:[".upload-button[_ngcontent-%COMP%]{border:2px solid #000000}"]})};return c=(0,S.gn)([(0,D.c)()],c),c})();var he=a(20553),ge=a(77247),ie=a(58133),fe=a(86118),be=a(17856),_e=a(17551);function ve(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"Your title is too short. Min length is 10 symbols"),t.qZA())}function Ce(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"Your title is too long. Min length is 40 symbols"),t.qZA())}function xe(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"This field is required"),t.qZA())}function ye(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"You can use only latin symbols"),t.qZA())}function Te(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"Your description is too short. Min length is 40 symbols"),t.qZA())}function Se(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"Your description is too long. Min length is 1000 symbols"),t.qZA())}function z(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"This field is required"),t.qZA())}function we(c,p){1&c&&(t.TgZ(0,"mat-error"),t._uU(1,"You can use only latin symbols"),t.qZA())}let oe=class Ue extends M.r{constructor(p,l,d,g,v){super(),this.tradeShow=p,this.authService=l,this.hotToastService=d,this.clientTradeShowService=g,this.fb=v,this.form=this.fb.group({title:["",[h.kI.required,h.kI.minLength(5),h.kI.maxLength(40),(0,x.w)()]],description:["",[h.kI.required,h.kI.minLength(40),h.kI.maxLength(200),(0,x.w)()]],startedAt:[new Date,h.kI.required],endedAt:[new Date,h.kI.required],images:[],type:["upcoming"]}),this.today=new Date("December 31, 2009, 23:15:30 GMT-11:00"),this.NgxInputVersionEnum=b.O,this.fileUploadDescription="Image file size should be less than 5MB. Supported formats; .jpeg jpg .png. Recommended image size is more than 640px. * 640px. Imaged should be clear and easy for buyers to view at a glance."}get company(){return this.authService.company}get controls(){return this.form?.controls}get title(){return this.controls?.title}get description(){return this.controls?.description}ngOnInit(){this.patchValue()}onSubmit(){var p=this;return(0,T.Z)(function*(){if(!(yield(0,k.z)(p.clientTradeShowService.tradeShows$))?.find(d=>d?._id===p.tradeShow?._id))return p.create();p.edit(),p.onDismiss()})()}patchValue(){this.tradeShow&&this.form.patchValue({...this.tradeShow,startedAt:new Date(this.tradeShow.startedAt),endedAt:new Date(this.tradeShow.endedAt)})}edit(){const p={...this.tradeShow,...this.form.value,uploadedImages:this.form?.value?.images?.map(l=>l?._id||void 0).filter(l=>!!l)};console.log("EDIT::",p),this.clientTradeShowService.update(p).pipe((0,u.P)(),this.hotToastService.observe(C.t8),(0,D.t)(this)).subscribe(l=>{console.log("UPDATE::",l),this.onDismiss(l)})}create(){const p={...this.tradeShow,...this.form.value};this.clientTradeShowService.create(p).pipe((0,D.t)(this),(0,u.P)(),this.hotToastService.observe(C.t8)).subscribe(l=>{console.log(l),this.onDismiss(l)})}onDismiss(p){super.onDismiss(p),this.clientTradeShowService.getListByCompanyId().subscribe()}handleImage(p){const l={url:p?.path?he.N.apiUrl+encodeURIComponent(p?.path):null,type:"image"};return console.log(l),l}static#e=this.\u0275fac=function(l){return new(l||Ue)(t.Y36(U.WI),t.Y36(ge.e),t.Y36(ie.jE),t.Y36(fe.h),t.Y36(h.qu))};static#t=this.\u0275cmp=t.Xpm({type:Ue,selectors:[["b2b-client-profile-trade-shows-modal"]],standalone:!0,features:[t.qOj,t.jDz],decls:29,vars:38,consts:[[1,"md:max-w-[70vw]","max-h-screen","overflow-y-auto",3,"label","close"],[1,"flex","flex-col","gap-4","md:mb-0","mb-12",3,"formGroup","ngSubmit"],[1,"flex","flex-col"],["b2bNgxInput","","type","text",3,"formControlName","label","placeholder","version"],["b2bNgxInput","",3,"formControlName","label","placeholder","version"],[1,"flex","flex-col","gap-2","w-full"],[1,"font-semibold","text-sm"],[1,"flex","flex-col","md:flex-row","gap-2"],["formControlName","startedAt","inputClassName","datepicker",1,"md:w-1/2",3,"label","today","version"],["formControlName","endedAt","inputClassName","datepicker",1,"md:w-1/2",3,"label","today","version"],[1,"flex","flex-col","gap-2"],[1,"h-fit",3,"buttonLabel","customListClass","description","formControlName","handleItem","maxFileWeight","multiple","showResulList"],[1,"flex","flex-row","justify-center","items-center"],["b2bNgxButton","","type","submit",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled"]],template:function(l,d){1&l&&(t.TgZ(0,"b2b-client-profile-modal-container",0),t.NdJ("close",function(){return d.onDismiss()}),t.ALo(1,"titlecase"),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return d.onSubmit()}),t.TgZ(3,"div",2),t._UZ(4,"input",3),t.YNc(5,ve,2,0,"mat-error")(6,Ce,2,0,"mat-error")(7,xe,2,0,"mat-error")(8,ye,2,0,"mat-error"),t.qZA(),t.TgZ(9,"div",2),t._UZ(10,"textarea",4),t.YNc(11,Te,2,0,"mat-error")(12,Se,2,0,"mat-error")(13,z,2,0,"mat-error")(14,we,2,0,"mat-error"),t.qZA(),t.TgZ(15,"div",5)(16,"span",6),t._uU(17),t.ALo(18,"titlecase"),t.qZA(),t.TgZ(19,"div",7)(20,"b2b-datepicker",8),t._uU(21," Date from "),t.qZA(),t.TgZ(22,"b2b-datepicker",9),t._uU(23," Date to "),t.qZA()()(),t.TgZ(24,"div",10),t._UZ(25,"globy-file",11),t.qZA(),t.TgZ(26,"div",12)(27,"button",13),t._uU(28," Save changes "),t.qZA()()()()),2&l&&(t.Q6J("label","Add "+t.lcZ(1,34,d.tradeShow.type)+" exhibition"),t.xp6(2),t.Q6J("formGroup",d.form),t.xp6(2),t.Q6J("formControlName","title")("label","Exhibition name")("placeholder","Exhibition name")("version",d.NgxInputVersionEnum.GLOBY),t.xp6(),t.um2(5,null!=d.title&&null!=d.title.errors&&d.title.errors.minlength?5:-1),t.xp6(),t.um2(6,null!=d.title&&null!=d.title.errors&&d.title.errors.maxlength?6:-1),t.xp6(),t.um2(7,null!=d.title&&null!=d.title.errors&&d.title.errors.required?7:-1),t.xp6(),t.um2(8,null!=d.title&&null!=d.title.errors&&d.title.errors.cyrillic?8:-1),t.xp6(2),t.Q6J("formControlName","description")("label","Event description")("placeholder","Event description")("version",d.NgxInputVersionEnum.GLOBY),t.xp6(),t.um2(11,null!=d.description&&null!=d.description.errors&&d.description.errors.minlength?11:-1),t.xp6(),t.um2(12,null!=d.description&&null!=d.description.errors&&d.description.errors.maxlength?12:-1),t.xp6(),t.um2(13,null!=d.description&&null!=d.description.errors&&d.description.errors.required?13:-1),t.xp6(),t.um2(14,null!=d.description&&null!=d.description.errors&&d.description.errors.cyrillic?14:-1),t.xp6(3),t.hij("",t.lcZ(18,36,d.tradeShow.type)," period"),t.xp6(3),t.Q6J("label","Date from")("today",d.today)("version",d.NgxInputVersionEnum.GLOBY),t.xp6(2),t.Q6J("label","Date to")("today",d.today)("version",d.NgxInputVersionEnum.GLOBY),t.xp6(3),t.Q6J("buttonLabel","Choose photos")("customListClass","grid-cols-2 md:grid-cols-5 lg:grid-cols-7")("description",d.fileUploadDescription)("formControlName","images")("handleItem",d.handleImage)("maxFileWeight",5)("multiple",!0)("showResulList",!0),t.xp6(2),t.Q6J("disabled",d.form.invalid))},dependencies:[e.J,G.r,be.k,h.UX,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,f.rS,Z.R,_e.i,y.y,j.l,O.f,E.TO,ue],styles:["__datepicker[_nghost-%COMP%]{margin-left:8px}__datepicker[_nghost-%COMP%]     input.datepicker{height:64px;border:none;border-radius:14px;padding:0 16px;width:100%}__datepicker[_nghost-%COMP%]     input.datepicker::placeholder{padding-left:20px}.datepicker[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}  input.datepicker{height:48px;width:100%;border:1px solid #C6D1E2;border-radius:.375rem!important;padding:.5rem 1rem!important}  input.datepicker::placeholder{padding-left:20px}  button.b2b-ngx-button .ngx-file-button .outline .outline-black{border:1px solid black}  .ngx-file .control button{border-width:1px}mat-error[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}"],changeDetection:0})};oe=(0,S.gn)([(0,D.c)()],oe)},75369:(Ge,J,a)=>{a.r(J),a.d(J,{ClientProfileSettingsNewComponent:()=>kt});var T=a(49671),S=a(97582),e=a(19212),M=a(74104),U=a(41311),h=a(96814),G=a(6990),b=a.n(G),f=a(78791),Z=a(81374),y=a(83620),j=a(99397),u=a(2423);const C=(r,i)=>i.label,k=(r,i)=>({"tab-border--active":r,"tab-border":i});function D(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(){const m=e.CHM(n).$index,_=e.oxw();return e.KtG(_.activateTab(m))}),e._uU(1),e.qZA()}if(2&r){const n=i.$implicit;e.Q6J("ngClass",e.WLB(2,k,n.active,!n.active)),e.xp6(),e.hij(" ",n.label," ")}}let E=class Ee{constructor(i,n){this.clientProfileSettingsTabsService=i,this.cdr=n,this.disabled=!1,this.defaultTab=b().cloneDeep(U.u),this.activeTab=new e.vpe,this.tabs=b().cloneDeep(U.e)}ngOnInit(){this.initTab()}activateTab(i){var n=this;return(0,T.Z)(function*(){(yield n.clientProfileSettingsTabsService.isActivationPossible())?n.changeTab(i):n.clientProfileSettingsTabsService.openTabChangeModal().afterClosed().pipe((0,f.t)(n),(0,Z.P)(),(0,y.b)(100),(0,j.b)(function(){var s=(0,T.Z)(function*(m){m?yield n.clientProfileSettingsTabsService.initSaveModal(n.clientProfileSettingsTabsService.activeTab):yield n.clientProfileSettingsTabsService.initSaveModal(null)});return function(m){return s.apply(this,arguments)}}())).subscribe(()=>{n.changeTab(i),n.clientProfileSettingsTabsService.data$.next({first:null,second:null})})})()}changeTab(i){this.tabs.map(n=>n.active=!1),this.disabled||(this.tabs[i].active=!this.tabs[i].active),this.activeTab.emit(this.tabs[i]),this.clientProfileSettingsTabsService.activeTab=this.tabs[i],this.cdr.detectChanges()}initTab(){const i=this.tabs.findIndex(n=>n.label===this.defaultTab.label);this.clientProfileSettingsTabsService.activeTab=this.tabs[i],this.changeTab(i)}static#e=this.\u0275fac=function(n){return new(n||Ee)(e.Y36(u.Y),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:Ee,selectors:[["b2b-client-profile-settings-tabs"]],inputs:{disabled:"disabled",defaultTab:"defaultTab"},outputs:{activeTab:"activeTab"},standalone:!0,features:[e.jDz],decls:3,vars:0,consts:[[1,"w-full","grid","grid-flow-col","overflow-x-scroll","no-scrollbar"],[1,"whitespace-nowrap","text-center","transition-all","ease-in-out","duration-300","cursor-pointer","flex","items-center","justify-center","text-black","hover:bg-[#EDF1FCFF]","px-3","py-2","text-secondary","text-md",3,"ngClass","click"],["class","whitespace-nowrap text-center transition-all ease-in-out duration-300 cursor-pointer flex items-center justify-center text-black hover:bg-[#EDF1FCFF] px-3 py-2 text-secondary text-md",3,"ngClass"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.SjG(1,D,2,5,"div",2,C),e.qZA()),2&n&&(e.xp6(),e.wJu(o.tabs))},dependencies:[M.Nh,h.mk],styles:[".tab-border--active[_ngcontent-%COMP%]{border-bottom:2px solid #005dff}.tab-border[_ngcontent-%COMP%]{border-bottom:2px solid #cfdeff}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"],changeDetection:0})};E=(0,S.gn)([(0,f.c)()],E);var x=a(81410),t=a(56223),w=a(43377),se=a(98653),V=a(13072),W=a(28331),F=a(77247);let O=class Oe{constructor(i,n){this.fb=i,this.authService=n,this.data=new e.vpe,this.form=this.fb.group({logo:[],banner:[]}),this.company=this.authService.company,this.initFormListener()}initFormListener(){this.form.valueChanges.pipe((0,f.t)(this)).subscribe(i=>{i.logo||(this.logo=void 0),i.banner||(this.banner=void 0),this.data.emit(i)})}patchLogo(i){this.form.get("logo").patchValue(i),this.company?.logo&&(this.company.logo=void 0)}patchBanner(i){this.form.get("banner").patchValue(i),this.company?.banner&&(this.company.banner=void 0)}static#e=this.\u0275fac=function(n){return new(n||Oe)(e.Y36(t.qu),e.Y36(F.e))};static#t=this.\u0275cmp=e.Xpm({type:Oe,selectors:[["b2b-client-profile-settings-image-uploader"]],inputs:{company:"company"},outputs:{data:"data"},standalone:!0,features:[e.jDz],decls:7,vars:17,consts:[[3,"formGroup"],[1,"hidden","md:flex","w-full"],[1,"w-full",3,"buttonLabel","mode","path","file"],[1,"aspect-square","!h-52",3,"buttonLabel","mode","modalMode","path","file"],[1,"flex","flex-col","md:hidden","gap-4"],[1,"md:hidden",3,"label","mode","modalMode","orientation","buttonLabel","path","file"],[3,"buttonLabel","label","path","file"]],template:function(n,o){1&n&&(e.ynx(0,0),e.TgZ(1,"div",1)(2,"b2b-client-profile-image-container",2),e.NdJ("file",function(m){return o.patchBanner(m)}),e.TgZ(3,"b2b-client-profile-image-container",3),e.NdJ("file",function(m){return o.patchLogo(m)}),e.qZA()()(),e.TgZ(4,"div",4)(5,"b2b-client-profile-image-container",5),e.NdJ("file",function(m){return o.patchLogo(m)}),e.qZA(),e.TgZ(6,"b2b-client-profile-image-container",6),e.NdJ("file",function(m){return o.patchBanner(m)}),e.qZA()(),e.BQk()),2&n&&(e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("buttonLabel","Upload Banner")("mode","desktop")("path",null==o.company||null==o.company.banner?null:o.company.banner.path),e.xp6(),e.Q6J("buttonLabel","Upload Logo")("mode","desktop")("modalMode","logo")("path",null==o.company||null==o.company.logo?null:o.company.logo.path),e.xp6(2),e.Q6J("label","Supported file types: PDF, PNG and JPG files. Maximum size: 5 MB")("mode","mobile")("modalMode","logo")("orientation","horizontal")("buttonLabel","Upload Logo")("path",null==o.company||null==o.company.logo?null:o.company.logo.path),e.xp6(),e.Q6J("buttonLabel","Upload Banner")("label","Supported file types: PDF, PNG and JPG files. Maximum size: 5 MB")("path",null==o.company||null==o.company.banner?null:o.company.banner.path))},dependencies:[w.l,se.w,V.V,t.UX,t.JL,t.sg,W.x],styles:[".container[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%]{display:flex!important}"],changeDetection:0})};O=(0,S.gn)([(0,f.c)()],O);var q=a(64170),le=a(66027),B=a(82242),P=a(56878),ce=a(26262),K=a(87046),de=a(74027),X=a(11284),I=a(30617);const me=[{name:"Facebook",icon:"facebook",formControlName:"facebook",edit:!1},{name:"Instagram",icon:"instagram",formControlName:"instagram",edit:!1},{name:"LinkedIn",icon:"linkedin",formControlName:"linkedin",edit:!1},{name:"Twitter",icon:"twitter",formControlName:"twitter",edit:!1}];var Q=a(32296),ee=a(6975),Y=a(65592),L=a(78533),pe=a(80150),N=a(83498);let $=(()=>{class r{constructor(){this.initSave=new e.vpe}onInitSave(){this.initSave.emit(!0)}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["b2b-client-profile-mobile-toolbar"]],outputs:{initSave:"initSave"},standalone:!0,features:[e.jDz],decls:3,vars:0,consts:[[1,"flex","flex-row","gap-4","!bg-white","justify-center","p-3","z-50"],["b2bNgxButton","",1,"bg-[#1C5BFE]","px-3","w-1/2","rounded-[0.25rem]","py-2","text-white",3,"click"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return s.onInitSave()}),e._uU(2," Save changes "),e.qZA()())},dependencies:[w.l,N.f]})}return r})();var te=a(12371),A=a(19347),ne=a(38418),ue=a(87446),R=a(17856);let he=(()=>{class r extends ne.r{constructor(n){super(),this.socialMediaForm=n,this.control=new t.NI("",[t.kI.required,(0,ue.n)()]),this.NgxInputVersionEnum=P.O}ngOnInit(){this.patchValue()}patchValue(){this.socialMediaForm.value&&this.control.patchValue(this.socialMediaForm.value)}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(A.WI))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["b2b-client-profile-social-media-modal"]],standalone:!0,features:[e.qOj,e.jDz],decls:12,vars:7,consts:[[1,"md:w-[50vw]",3,"label","close"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-row","pl-3","items-center","!py-0","bg-white","border","border-[#C6D1E2]","rounded-md"],[1,"flex","flex-row","gap-2","pr-3"],[3,"svgIcon"],[1,"grid","w-full","divider"],["type","text","b2bNgxInput","",1,"border-none","!py-4","w-full",3,"formControl","placeholder","version"],[1,"flex","flex-row","justify-center"],["type","submit","b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled","click"]],template:function(o,s){1&o&&(e.TgZ(0,"b2b-client-profile-modal-container",0),e.NdJ("close",function(){return s.onDismiss()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"mat-icon",4),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return s.onDismiss(s.control.value)}),e._uU(11," Save changes "),e.qZA()()()()),2&o&&(e.Q6J("label","Add resources"),e.xp6(4),e.Q6J("svgIcon",s.socialMediaForm.icon+"_new"),e.xp6(2),e.Oqu(s.socialMediaForm.name),e.xp6(2),e.Q6J("formControl",s.control)("placeholder","https://"+s.socialMediaForm.formControlName+".com/link")("version",s.NgxInputVersionEnum.GLOBY),e.xp6(2),e.Q6J("disabled",s.control.invalid))},dependencies:[te.J,B.r,R.k,I.Hw,t.UX,t.Fj,t.JJ,t.oH,w.l,N.f],styles:[".divider[_ngcontent-%COMP%]{border-left:1px solid #C6D1E2}"]})}return r})();var ge=a(88657),ie=a(62033);function fe(r,i){1&r&&(e.TgZ(0,"mat-error",28),e._uU(1,"Please use only latin letters"),e.qZA())}function be(r,i){1&r&&(e.TgZ(0,"mat-error",28),e._uU(1,"Please use only latin letters"),e.qZA())}function _e(r,i){1&r&&(e.TgZ(0,"mat-error",28),e._uU(1,"You description is too short. Min length 40 symbols"),e.qZA())}function ve(r,i){1&r&&(e.TgZ(0,"mat-error",28),e._uU(1,"Please use only latin letters"),e.qZA())}function Ce(r,i){1&r&&e._UZ(0,"mat-icon",29),2&r&&e.Q6J("svgIcon","check-green")}function xe(r,i){1&r&&(e.TgZ(0,"mat-error",28),e._uU(1,'Must be website link. E.g. "https://google.com"'),e.qZA())}function ye(r,i){1&r&&e._UZ(0,"mat-icon",19),2&r&&e.Q6J("svgIcon","check-green")}const Te=r=>({"!py-0":r});function Se(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"div",30)(1,"div",31),e._UZ(2,"mat-icon",19),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.YNc(5,ye,1,1,"mat-icon",19),e.qZA(),e.TgZ(6,"button",32),e.NdJ("click",function(){const m=e.CHM(n).$implicit,_=e.oxw();return e.KtG(_.changeMedia(m))}),e._uU(7),e.qZA()()}if(2&r){const n=i.$implicit,o=e.oxw();e.Q6J("ngClass",e.VKq(5,Te,n.edit)),e.xp6(2),e.Q6J("svgIcon",n.icon+"_new"),e.xp6(2),e.Oqu(n.name),e.xp6(),e.um2(5,!n.edit&&o.socialMedia.get(n.formControlName).value.length>0?5:-1),e.xp6(2),e.hij(" ",null!=n&&n.edit?"Edit":"Link"," ")}}let z=class Le{constructor(i,n,o,s,m){this.authService=i,this.clientCompanyInformationService=n,this.matDialog=o,this.cdr=s,this.clientProfileSettingsTabsService=m,this.initSave$=new Y.y,this.socialMedias=b().cloneDeep(me),this.form=this.clientCompanyInformationService.initForm(),this.rootRoles$=new Y.y,this.company=this.authService.company,this.annualRevenueList=(0,L.r_)(L.S5),this.employeesNumberList=(0,L.r_)(L.Ad),this.yearOfFoundationList=this.clientCompanyInformationService.yearOfFoundationList,this.B2bNgxInputThemeEnum=le.T,this.NgxInputVersionEnum=P.O,this.NgxSelectVariantEnum=X.n,this.B2bNgxSelectThemeEnum=K.B,this.rootRoles$=this.clientCompanyInformationService.rootRoles$}get website(){return this.form.get("website")}get isAdmin(){return this.clientCompanyInformationService.isAdmin}get socialMedia(){return this.form.get("socialMedia")}get isEqual(){return b().isEqual(this.form.value,this.initialFormValue)}ngOnInit(){this.clientCompanyInformationService.initDefault()}ngAfterViewInit(){this.detectChanges(),this.saveListener(),this.patchForm()}canDeactivate(){return!this.form.dirty||confirm("You have unsaved changes! Are you sure you want to leave?")}changeMedia(i){this.matDialog.open(he,{data:{...i,value:this.socialMedia.get(i.formControlName).value}}).afterClosed().pipe((0,Z.P)(),(0,f.t)(this)).subscribe(n=>{n&&(this.socialMedia.get(i.formControlName).patchValue(n),this.cdr.detectChanges())})}onSubmit(){if(this.form.errors)return;const i=b().cloneDeep(this.initialFormValue);try{this.clientCompanyInformationService.onSubmit(this.form.value),this.initialFormValue=this.form.value,this.authService.updateCompany({...this.company,...this.form.value}),this.updateTabasData()}catch(n){console.error(n),this.initialFormValue=i}this.cdr.detectChanges()}handleData(i){(i.logo||void 0===i.logo)&&this.form.get("logo").patchValue(i.logo),(i.banner||void 0===i.banner)&&this.form.get("banner").patchValue(i.banner)}patchForm(){const i=this.authService.user,n=this.authService.company,o=b().omitBy(n?.socialMedia,s=>b().isUndefined(s)||b().isNull(s)||""===s||" "===s);setTimeout(()=>{this.form.patchValue({...n,socialMedia:o,businessType:n?.businessType||n?.roleId||i?.role?._id}),this.initialFormValue=this.form.value,this.clientProfileSettingsTabsService.data$.next({first:this.initialFormValue,second:this.form.value})},600)}detectChanges(){this.form.valueChanges.pipe((0,y.b)(100),(0,f.t)(this)).subscribe(i=>{this.updateTabasData(),this.cdr.detectChanges()})}saveListener(){this.clientProfileSettingsTabsService.initSubmit$.pipe((0,f.t)(this)).subscribe(i=>{null===i?this.patchForm():i?.label===x.H?.COMPANY_INFORMATION&&this.onSubmit()})}updateTabasData(){this.clientProfileSettingsTabsService.data$.next({first:this.form.value,second:this.initialFormValue})}static#e=this.\u0275fac=function(n){return new(n||Le)(e.Y36(F.e),e.Y36(ee.v),e.Y36(A.uw),e.Y36(e.sBO),e.Y36(u.Y))};static#t=this.\u0275cmp=e.Xpm({type:Le,selectors:[["b2b-client-company-information"]],inputs:{initSave$:"initSave$"},standalone:!0,features:[e._Bn([ee.v]),e.jDz],decls:48,vars:44,consts:[[1,"flex","flex-col","gap-4","md:mb-0","mb-32","z-10"],[3,"company","data"],[1,"flex","flex-col","gap-12",3,"formGroup","ngSubmit"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-col","gap-1"],["placeholder","Example: Google","b2bNgxInput","","type","text",3,"label","formControlName","version"],["class","text-red-500 text-xs"],["placeholder","Briefly describe your company (at least 40 characters)","b2bNgxInput","",1,"h-40",3,"label","version","formControlName"],[1,"font-secondary","text-xs","text-[#556274]"],[1,"border","border-[#CFDEFF]"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["placeholder","Select",3,"options","bindValue","bindLabel","version","formControlName"],["placeholder","Select",3,"options","version","bindValue","bindLabel","formControlName"],["bindLabel","displayName","placeholder","Select",3,"options","bindValue","version","formControlName"],["placeholder","Select",3,"version","theme","formControlName"],["placeholder","Input office address","b2bNgxInput","",1,"h-40",3,"label","version","formControlName"],[1,"text-lg","font-bold"],[1,"flex","flex-row","items-center","gap-1","bg-white","rounded-md","border","border-[#C6D1E2]"],[1,"w-fit","px-3","flex","flex-row","gap-2","items-center","bg-white"],[3,"svgIcon"],[1,"h-full"],[1,"w-full","grid"],["placeholder","Paste link","b2bNgxInput","","type","text",1,"!w-full","rounded-md","border-none",3,"version","formControlName"],["class","mr-4 w-12 min-w-[24px]",3,"svgIcon"],[1,"grid","grid-cols-1","gap-4","md:grid-cols-2",3,"formGroupName"],[1,"hidden","md:flex","flex-row","justify-center","items-center"],["type","submit","b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled"],[1,"fixed","md:hidden","left-0","bottom-0","w-full",3,"initSave"],[1,"text-red-500","text-xs"],[1,"mr-4","w-12","min-w-[24px]",3,"svgIcon"],[1,"flex","flex-row","justify-between","pl-3","pr-2","items-center","!py-2","bg-white","border","border-[#C6D1E2]","rounded-md",3,"ngClass"],[1,"flex","flex-row","gap-2"],["type","button","mat-flat-button","",1,"!bg-[#EEEEEE]","!px-10","!z-0",3,"click"],["class","flex flex-row justify-between pl-3 pr-2 items-center !py-2 bg-white border border-[#C6D1E2] rounded-md",3,"ngClass"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"b2b-client-profile-settings-image-uploader",1),e.NdJ("data",function(m){return o.handleData(m)}),e.qZA(),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(3,"div",3)(4,"div",4),e._UZ(5,"input",5),e.YNc(6,fe,2,0,"mat-error",6),e.qZA(),e.TgZ(7,"div",4),e._UZ(8,"textarea",7),e.YNc(9,be,2,0,"mat-error",6)(10,_e,2,0,"mat-error",6),e.TgZ(11,"span",8),e._uU(12,"e.g. Company has been a trusted name in the manufacturing of high-quality steel components for over 30 years. Specializing in both domestic and international markets, we pride ourselves on delivering durable products that meet rigorous industry standards."),e.qZA()(),e._UZ(13,"div",9),e.TgZ(14,"div",10)(15,"b2b-ngx-select",11),e._uU(16,"Year established "),e.qZA(),e.TgZ(17,"b2b-ngx-select",11),e._uU(18,"Number of employees "),e.qZA(),e.TgZ(19,"b2b-ngx-select",12),e._uU(20,"Annual revenue "),e.qZA(),e.TgZ(21,"b2b-ngx-select",13),e._uU(22,"Business type "),e.qZA(),e.TgZ(23,"b2b-ngx-country-select",14),e._uU(24,"Country "),e.qZA()(),e.TgZ(25,"div",4),e._UZ(26,"textarea",15),e.YNc(27,ve,2,0,"mat-error",6),e.qZA(),e._UZ(28,"div",9),e.TgZ(29,"div",16),e._uU(30,"Official resources"),e.qZA(),e.TgZ(31,"div",4)(32,"div",17)(33,"div",18),e._UZ(34,"mat-icon",19),e.TgZ(35,"span",20),e._uU(36,"Website"),e.qZA()(),e.TgZ(37,"div",21),e._UZ(38,"input",22),e.qZA(),e.YNc(39,Ce,1,1,"mat-icon",23),e.qZA(),e.YNc(40,xe,2,0,"mat-error",6),e.qZA(),e.TgZ(41,"div",24),e.SjG(42,Se,8,7,"div",33,e.ikw),e.qZA()(),e.TgZ(44,"div",25)(45,"button",26),e._uU(46," Save changes "),e.qZA()()()(),e.TgZ(47,"b2b-client-profile-mobile-toolbar",27),e.NdJ("initSave",function(){return o.onSubmit()}),e.qZA()),2&n&&(e.xp6(),e.Q6J("company",o.company),e.xp6(),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("label","Company name")("formControlName","companyName")("version",o.NgxInputVersionEnum.GLOBY),e.xp6(),e.um2(6,null!=o.form.get("companyName").errors&&o.form.get("companyName").errors.cyrillic?6:-1),e.xp6(2),e.Q6J("label","Company description")("version",o.NgxInputVersionEnum.GLOBY)("formControlName","companyDescription"),e.xp6(),e.um2(9,null!=o.form.get("companyDescription").errors&&o.form.get("companyDescription").errors.cyrillic?9:-1),e.xp6(),e.um2(10,null!=o.form.get("companyDescription").errors&&o.form.get("companyDescription").errors.minlength?10:-1),e.xp6(5),e.Q6J("options",o.yearOfFoundationList)("bindValue","id")("bindLabel","value")("version",o.NgxSelectVariantEnum.GLOBY)("formControlName","yearOfFoundation"),e.xp6(2),e.Q6J("options",o.employeesNumberList)("bindValue","id")("bindLabel","value")("version",o.NgxSelectVariantEnum.GLOBY)("formControlName","employeesNumber"),e.xp6(2),e.Q6J("options",o.annualRevenueList)("version",o.NgxSelectVariantEnum.GLOBY)("bindValue","id")("bindLabel","value")("formControlName","annualRevenue"),e.xp6(2),e.Q6J("options",null==o.clientCompanyInformationService?null:o.clientCompanyInformationService.subRoles)("bindValue",o.isAdmin?"_id":"id")("version",o.NgxSelectVariantEnum.GLOBY)("formControlName","businessType"),e.xp6(2),e.Q6J("version",o.NgxSelectVariantEnum.GLOBY)("theme",o.B2bNgxSelectThemeEnum.BACKGROUND_WHITE)("formControlName","country"),e.xp6(3),e.Q6J("label","Office address")("version",o.NgxInputVersionEnum.GLOBY)("formControlName","address"),e.xp6(),e.um2(27,null!=o.form.get("address").errors&&o.form.get("address").errors.cyrillic?27:-1),e.xp6(7),e.Q6J("svgIcon","globe"),e.xp6(4),e.Q6J("version",o.NgxInputVersionEnum.GLOBY)("formControlName","website"),e.xp6(),e.um2(39,o.website.valid&&(null==o.website||null==o.website.value?null:o.website.value.length)>0?39:-1),e.xp6(),e.um2(40,o.form.get("website").errors?40:-1),e.xp6(),e.Q6J("formGroupName","socialMedia"),e.xp6(),e.wJu(o.socialMedias),e.xp6(3),e.Q6J("disabled",o.isEqual||o.form.invalid))},dependencies:[O,B.r,R.k,ce.E,de.F,ge.B,t.UX,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,t.x0,I.Hw,Q.lW,h.mk,pe.N,ie.V,w.l,N.f,$,q.TO]})};z=(0,S.gn)([(0,f.c)()],z);var we=a(47981);const l=[{label:"Payment method",property:"paymentMethods",value:[{value:"Swift transfer",label:"Swift transfer"},{value:"L/C",label:"L/C"},{value:"Paypal",label:"Paypal"},{value:"CAD",label:"CAD"}]},{label:"Trading areas",property:"tradingAreas",value:[{value:"Domestic market",label:"Domestic market"},{value:"International market",label:"International market"}]},{label:"Delivery terms",property:"deliveryTerms",value:[{value:"EXW",label:"EXW"},{value:"FCA",label:"FCA"},{value:"FOB",label:"FOB"},{value:"CFR/CIF",label:"CFR/CIF"},{value:"DPU",label:"DPU"},{value:"DAP",label:"DAP"},{value:"DDP",label:"DDP"}]}],d={paymentMethods:[],deliveryTerms:[],tradingAreas:[],countries:[]};var g=a(38625),v=a(67028);function Ze(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"div",7)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"mat-icon",8),e.NdJ("click",function(){const m=e.CHM(n).$implicit,_=e.oxw(2);return e.KtG(_.deleteCountry(m))}),e._uU(4,"close"),e.qZA()()}if(2&r){const n=i.$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(o.getCountryName(n))}}function H(r,i){if(1&r&&(e.TgZ(0,"div",6),e.SjG(1,Ze,5,1,"div",9,e.ikw),e.qZA()),2&r){const n=e.oxw();e.xp6(),e.wJu(n.countries)}}let He=(()=>{class r extends ne.r{constructor(n,o){super(),this.data=n,this.matDialogRef=o,this.control=new t.NI([]),this.NgxInputVersionEnum=P.O,this.NgxSelectVariantEnum=X.n,this.B2bNgxSelectThemeEnum=K.B}get countries(){return this.control.value}ngOnInit(){this.patchValue(),this.resize()}getCountryName(n){return(0,v.oY)(n)}patchValue(){this.data.countries&&this.control.patchValue(this.data.countries)}deleteCountry(n){const o=this.countries.filter(s=>s!==n);this.control.patchValue(o)}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(A.WI),e.Y36(A.so))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["b2b-client-profile-countries-modal"]],standalone:!0,features:[e.qOj,e.jDz],decls:8,vars:6,consts:[[1,"",3,"label","close"],[1,"flex","flex-col","gap-4"],[3,"multiple","theme","formControl","version"],["class","flex flex-row flex-wrap gap-3"],[1,"flex","flex-row","justify-center","items-center"],["b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"click"],[1,"flex","flex-row","flex-wrap","gap-3"],[1,"border__chip","curs","rounded-md","bg-white","flex","flex-row","gap-1","justify-between","px-3","py-2"],[1,"text-[#9FA4BB]","scale-75",3,"click"],["class","border__chip curs rounded-md bg-white flex flex-row gap-1 justify-between px-3 py-2"]],template:function(o,s){1&o&&(e.TgZ(0,"b2b-client-profile-modal-container",0),e.NdJ("close",function(){return s.onDismiss(!1)}),e.TgZ(1,"div",1)(2,"b2b-ngx-country-select",2),e._uU(3," Target country "),e.qZA(),e.YNc(4,H,3,0,"div",3),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return s.onDismiss(s.countries)}),e._uU(7," Save changes "),e.qZA()()()()),2&o&&(e.Q6J("label","Add target country"),e.xp6(2),e.Q6J("multiple",!0)("theme",s.B2bNgxSelectThemeEnum.BACKGROUND_WHITE)("formControl",s.control)("version",s.NgxSelectVariantEnum.GLOBY),e.xp6(2),e.um2(4,s.countries.length?4:-1))},dependencies:[te.J,B.r,g.v,pe.N,ie.V,t.UX,t.JJ,t.oH,I.Hw,w.l,N.f],styles:[".border__chip[_ngcontent-%COMP%]{border:.16rem solid #000000}"],changeDetection:0})}return r})();var je=a(48530),Ae=a(81559),Ne=a(58133),We=a(64024);function Ke(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"b2b-ngx-checkbox",15),e.NdJ("checkboxChange",function(){const m=e.CHM(n).$implicit,_=e.oxw().$implicit,Bt=e.oxw();return e.KtG(Bt.changeCheckbox(_.property,m.value))}),e._uU(1),e.qZA()}if(2&r){const n=i.$implicit,o=e.oxw().$implicit,s=e.oxw();e.Q6J("version",s.NgxInputVersionEnum.GLOBY)("checked",s.check(o.property,n.value)),e.xp6(),e.hij("",n.value," ")}}const Xe=r=>({"grid-cols-2":r});function et(r,i){if(1&r&&(e.TgZ(0,"div",12)(1,"span",3),e._uU(2),e.TgZ(3,"span"),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"div",13),e.SjG(6,Ke,2,3,"b2b-ngx-checkbox",16,e.ikw),e.qZA()(),e._UZ(8,"div",14)),2&r){const n=i.$implicit,o=i.$index;e.xp6(2),e.Oqu(n.label),e.xp6(3),e.Q6J("ngClass",e.VKq(2,Xe,2==o)),e.xp6(),e.wJu(n.value)}}function tt(r,i){if(1&r&&(e.TgZ(0,"div",18)(1,"span",19),e._uU(2),e.qZA()()),2&r){const n=i.$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(o.getCountryName(n))}}function nt(r,i){if(1&r&&(e.TgZ(0,"div",17),e.SjG(1,tt,3,1,"div",20,e.ikw),e.qZA()),2&r){const n=e.oxw();e.xp6(),e.wJu(n.paymentAndShipping.countries)}}function it(r,i){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"add"),e.qZA())}let De=class Je{constructor(i,n,o,s,m){this.matDialog=i,this.cdr=n,this.sourcingRequestService=o,this.hotToastService=s,this.clientProfileSettingsTabsService=m,this.initSave$=new Y.y,this.data=new e.vpe,this.authService=(0,e.f3M)(F.e),this.checkBoxes=l,this.paymentAndShipping=b().cloneDeep(this.authService.company?.paymentAndShipping)??d,this.NgxInputVersionEnum=P.O,this.B2bNgxButtonThemeEnum=je.n}get company(){return this.authService.company}get disabled(){const i=b().omitBy(this.paymentAndShipping,n=>0===n?.length||!n.length);return!(i?.paymentMethods&&i?.deliveryTerms&&i?.tradingAreas)}ngOnInit(){this.saveListener()}changeCheckbox(i,n){this.check(i,n)?this.remove(i,n):this.add(i,n),this.updateTabsData(),this.cdr.detectChanges()}check(i,n){return this.paymentAndShipping[i].includes(n)}openCountrySelect(){this.matDialog.open(He,{data:{countries:this.paymentAndShipping.countries},panelClass:"max-h-[90%]",backdropClass:"modal__backdrop"}).afterClosed().pipe((0,f.t)(this)).subscribe(i=>{this.paymentAndShipping.countries=i,this.cdr.detectChanges()})}getCountryName(i){return(0,v.oY)(i)}onSubmit(){if(!this.disabled){try{this.sourcingRequestService.updateCompanyInfo({companyName:this.company.companyName,paymentAndShipping:this.paymentAndShipping}).pipe((0,Z.P)(),this.hotToastService.observe(L.t8)).subscribe(i=>{this.authService.updateCompany(i),this.paymentAndShipping=b().cloneDeep(i.paymentAndShipping),this.updateTabsData()})}catch(i){console.log(i)}this.updateTabsData()}}updateTabsData(){this.clientProfileSettingsTabsService.data$.next({first:this.paymentAndShipping,second:this.company.paymentAndShipping})}add(i,n){this.paymentAndShipping[i].push(n)}remove(i,n){this.paymentAndShipping[i]=this.paymentAndShipping[i].filter(o=>o!==n)}saveListener(){this.clientProfileSettingsTabsService.initSubmit$.pipe((0,f.t)(this)).subscribe(i=>{null===i?this.paymentAndShipping=b().cloneDeep(this.authService.company?.paymentAndShipping):i?.label===x.H?.PAYMENT_AND_SHIPPING&&this.onSubmit(),this.cdr.detectChanges()})}static#e=this.\u0275fac=function(n){return new(n||Je)(e.Y36(A.uw),e.Y36(e.sBO),e.Y36(Ae.N),e.Y36(Ne.jE),e.Y36(u.Y))};static#t=this.\u0275cmp=e.Xpm({type:Je,selectors:[["b2b-client-payment-and-shipping"]],inputs:{initSave$:"initSave$"},outputs:{data:"data"},standalone:!0,features:[e.jDz],decls:20,vars:4,consts:[[1,"flex","flex-col","gap-6","mb-10","md:mb-0"],[1,"block","gap-4"],[1,"flex","flex-col","gap-3"],[1,"title"],[1,"font-secondary","text-sm","text-[#556274]"],["class","flex flex-row gap-3 flex-wrap"],[1,"flex","flex-row","items-start"],["b2bNgxButton","",1,"px-4","py-1","min-h-[38px]","flex","gap-2","bg-[#EEEEEE]","flex-row","items-center","justify-between",3,"click"],[1,"text-sm","font-secondary"],[1,"hidden","md:flex","flex-row","justify-center","items-center"],["b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled","click"],[1,"fixed","md:hidden","left-0","bottom-0","w-full",3,"initSave"],[1,"block"],[1,"grid","grid-cols-1","md:flex","flex-row","col-span-2","md:flex-row","gap-4","flex-wrap",3,"ngClass"],[1,"border"],[1,"font-secondary",3,"version","checked","checkboxChange"],["class","font-secondary",3,"version","checked"],[1,"flex","flex-row","gap-3","flex-wrap"],[1,"border__chip","cursor","font-semibold","rounded-md","bg-white","flex","flex-row","gap-1","justify-between","px-3","py-2"],[1,"text-sm"],["class","border__chip cursor font-semibold  rounded-md bg-white flex flex-row gap-1 justify-between px-3 py-2"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.SjG(1,et,9,4,null,null,e.ikw),e.TgZ(3,"div",1)(4,"div",2)(5,"span",3),e._uU(6,"Export history"),e.qZA(),e.TgZ(7,"span",4),e._uU(8," Specify all the countries that you've exported your products in already and the countries that you export in, in present. "),e.qZA()(),e.TgZ(9,"div",2),e.YNc(10,nt,3,0,"div",5),e.TgZ(11,"div",6)(12,"button",7),e.NdJ("click",function(){return o.openCountrySelect()}),e.YNc(13,it,2,0,"mat-icon"),e.TgZ(14,"span",8),e._uU(15),e.qZA()()()()(),e.TgZ(16,"div",9)(17,"button",10),e.NdJ("click",function(){return o.onSubmit()}),e._uU(18," Save changes "),e.qZA()()(),e.TgZ(19,"b2b-client-profile-mobile-toolbar",11),e.NdJ("initSave",function(){return o.onSubmit()}),e.qZA()),2&n&&(e.xp6(),e.wJu(o.checkBoxes),e.xp6(9),e.um2(10,null!=o.paymentAndShipping&&o.paymentAndShipping.countries?10:-1),e.xp6(3),e.um2(13,null!=o.paymentAndShipping&&null!=o.paymentAndShipping.countries&&o.paymentAndShipping.countries.length?-1:13),e.xp6(2),e.Oqu(o.paymentAndShipping.countries.length>0?"Edit":"Add countries"),e.xp6(2),e.Q6J("disabled",o.disabled))},dependencies:[we.T,We.a,w.l,N.f,I.Hw,h.mk,$],styles:[".title[_ngcontent-%COMP%]{font-family:Inter,Arial,sans-serif;font-size:1.125rem;line-height:1.75rem;font-weight:500}.block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.border__chip[_ngcontent-%COMP%]{border:.16rem solid #000000}"],changeDetection:0})};De=(0,S.gn)([(0,f.c)()],De);var Ve=a(72315);let ot=(()=>{class r{constructor(){this.data=new e.vpe,this.sourcingRequestService=(0,e.f3M)(Ae.N),this.hotToastService=(0,e.f3M)(Ne.jE),this.authService=(0,e.f3M)(F.e),this.clientProfileSettingsTabsService=(0,e.f3M)(u.Y),this.fb=(0,e.f3M)(t.qu),this.array=this.fb.array([]),this.form=this.fb.group({advantages:this.array})}get company(){return this.authService.company}get advantages(){return this.form.controls.advantages}get controls(){return this.advantages.controls}onSubmit(){this.sourcingRequestService.updateCompanyInfo({companyName:this.authService.company.companyName,advantages:b().values(this.form.controls.advantages.value)}).pipe((0,Z.P)(),this.hotToastService.observe(L.t8)).subscribe(n=>{this.authService.updateCompany(n),this.updateTabsData()})}getForm(n){return this.fb.group({title:[n?.title||"",[(0,Ve.w)(),t.kI.required,t.kI.minLength(10),t.kI.maxLength(300)]],content:[n?.content||"",[(0,Ve.w)(),t.kI.required,t.kI.minLength(40),t.kI.maxLength(1e3)]],_id:[]})}addForm(n){3!==this.advantages.length&&this.advantages.push(this.getForm(n))}updateTabsData(n=this.form?.value){this.clientProfileSettingsTabsService.data$.next({first:n?.advantages?.map(o=>b().omit(o,["_id"])),second:this.company?.advantages?.map(o=>b().omit(o,["_id"]))})}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function rt(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"This field is required"),e.qZA())}function at(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"Please, use only latin letters"),e.qZA())}function st(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"Title is to long. Title length must be no longer then 300 symbols "),e.qZA())}function lt(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"Title is to short. Title must contain at least 10 symbols "),e.qZA())}function ct(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"This field is required"),e.qZA())}function dt(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"Please, use only latin letters"),e.qZA())}function mt(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"Description is to long. Description length must be no longer then 1000 symbols "),e.qZA())}function pt(r,i){1&r&&(e.TgZ(0,"mat-error",19),e._uU(1,"Description is to short. Description must contain at least 40 symbols "),e.qZA())}function ut(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._UZ(4,"input",14),e.YNc(5,rt,2,0,"mat-error",15)(6,at,2,0,"mat-error",15)(7,st,2,0,"mat-error",15)(8,lt,2,0,"mat-error",15),e.qZA()(),e.TgZ(9,"div",16),e._UZ(10,"textarea",17),e.YNc(11,ct,2,0,"mat-error",15)(12,dt,2,0,"mat-error",15)(13,mt,2,0,"mat-error",15)(14,pt,2,0,"mat-error",15),e.qZA()(),e.TgZ(15,"button",18),e.NdJ("click",function(){const m=e.CHM(n).$index,_=e.oxw();return e.KtG(_.deleteForm(m))}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA()()()}if(2&r){const n=i.$implicit,o=i.$index,s=e.oxw();e.xp6(),e.Q6J("formGroup",n),e.xp6(3),e.MGl("placeholder","",o+1,". Advanced and efficient production process"),e.Q6J("version",s.NgxInputVersionEnum.GLOBY),e.xp6(),e.um2(5,null!=n.get("title").errors&&n.get("title").errors.required?5:-1),e.xp6(),e.um2(6,null!=n.get("title").errors&&n.get("title").errors.cyrillic?6:-1),e.xp6(),e.um2(7,null!=n.get("title").errors&&n.get("title").errors.maxlength?7:-1),e.xp6(),e.um2(8,null!=n.get("title").errors&&n.get("title").errors.minlength?8:-1),e.xp6(2),e.MGl("placeholder","",o+1,". e.g. Our advanced manufacturing processes, combined with a commitment to sustainable practices, position us at the forefront of innovation and environmental stewardship in the industry."),e.Q6J("version",s.NgxInputVersionEnum.GLOBY),e.xp6(),e.um2(11,null!=n.get("title").errors&&n.get("title").errors.required?11:-1),e.xp6(),e.um2(12,null!=n.get("content").errors&&n.get("content").errors.cyrillic?12:-1),e.xp6(),e.um2(13,null!=n.get("content").errors&&n.get("content").errors.maxlength?13:-1),e.xp6(),e.um2(14,null!=n.get("content").errors&&n.get("content").errors.minlength?14:-1)}}let Ie=class ke extends ot{constructor(i){super(),this.cdr=i,this.initSave$=new Y.y,this.NgxInputVersionEnum=P.O}get isEqual(){return b().isEqual(b().values(this.form.value),this.company?.advantages)}ngOnInit(){this.changeDetector(),this.initDefault(),this.saveListener()}initDefault(){let i=b().cloneDeep(this.authService?.company?.advantages)??void 0;i?.length?i.forEach(n=>this.addForm(n)):this.addForm()}setDefault(){let i=b().cloneDeep(this.authService?.company?.advantages)??void 0;this.form.controls.advantages.controls.forEach((n,o)=>{i[o]&&n.patchValue({title:i[o].title,content:i[o].content,_id:i[o]._id})})}changeDetector(){this.form.valueChanges.pipe((0,y.b)(200),(0,f.t)(this)).subscribe(i=>{this.updateTabsData(i)})}getFormGroup(i){return i}deleteForm(i){1!==this.advantages.length&&this.advantages.removeAt(i)}saveListener(){this.clientProfileSettingsTabsService.initSubmit$.pipe((0,f.t)(this)).subscribe(i=>{null===i&&(this.setDefault(),this.cdr.detectChanges()),i?.label===x.H?.OUR_ADVANTAGES&&this.onSubmit(),this.cdr.detectChanges()})}static#e=this.\u0275fac=function(n){return new(n||ke)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:ke,selectors:[["b2b-client-advantages"]],inputs:{initSave$:"initSave$"},standalone:!0,features:[e.qOj,e.jDz],decls:18,vars:3,consts:[[1,"flex","flex-col","gap-6","mb-10","md:mb-0"],[1,"flex","flex-row","gap-3","justify-between","items-center"],[1,"font-secondary","text-lg","font-medium"],[1,"flex","flex-row","justify-center","items-center"],["type","button","mat-flat-button","",1,"px-3","!bg-[#EEEEEE]",3,"disabled","click"],[1,"flex","flex-col","gap-10",3,"formGroup","ngSubmit"],["formArrayName","advantages",1,"flex","flex-col","gap-10"],[1,"hidden","md:flex","flex-row","justify-center","items-center"],["type","submit","b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"disabled"],[1,"fixed","md:hidden","left-0","bottom-0","w-full",3,"initSave"],[1,"flex","flex-row","items-center","gap-1"],[1,"flex","flex-col","gap-3","w-full",3,"formGroup"],[1,"flex","flex-row","gap-1"],[1,"flex","flex-col","gap-1","w-full"],["b2bNgxInput","","formControlName","title","type","text",3,"version","placeholder"],["class","text-red-500 text-xs"],[1,"flex","flex-col","gap-1"],["b2bNgxInput","","formControlName","content",1,"min-h-32",3,"placeholder","version"],["type","button","mat-icon-button","",3,"click"],[1,"text-red-500","text-xs"],["class","flex flex-row items-center gap-1"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Highlight up to three (3) advantages of your company so that buyers can learn more about you."),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return o.addForm()}),e.TgZ(6,"mat-icon"),e._uU(7,"add"),e.qZA(),e.TgZ(8,"span"),e._uU(9,"Add"),e.qZA()()()(),e.TgZ(10,"form",5),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"div",6),e.SjG(12,ut,18,13,"div",20,e.ikw),e.qZA(),e.TgZ(14,"div",7)(15,"button",8),e._uU(16," Save changes "),e.qZA()()(),e.TgZ(17,"b2b-client-profile-mobile-toolbar",9),e.NdJ("initSave",function(){return o.onSubmit()}),e.qZA()()),2&n&&(e.xp6(5),e.Q6J("disabled",3===(null==o.advantages?null:o.advantages.length)),e.xp6(5),e.Q6J("formGroup",o.form),e.xp6(2),e.wJu(o.controls),e.xp6(3),e.Q6J("disabled",o.form.invalid||o.isEqual))},dependencies:[B.r,R.k,t.UX,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,t.CE,t.u5,w.l,N.f,$,q.TO,Q.lW,I.Hw,Q.RK],changeDetection:0})};Ie=(0,S.gn)([(0,f.c)()],Ie);var ht=a(28514),gt=a(88814);const qe={loading:"Updating company information...",success:"Company documents successfully updated.",error:"Company documents updating failed"};let Fe=class ae{constructor(){this.sourcingRequestService=(0,e.f3M)(Ae.N),this.authService=(0,e.f3M)(F.e),this.hotToastService=(0,e.f3M)(Ne.jE),this.fb=(0,e.f3M)(t.qu),this.loading=(0,e.tdS)(!1),this.form=this.fb.group({documents:[]})}get company(){return this.authService.company}get documents(){return this.company?.documents||[]}upload(i){const n=(0,gt.z)({companyName:this.company.companyName,documents:i,uploadedDocs:this.documents});this.updateDocuments(n)}delete(i){const{_id:n}=this.documents[i];return this.sourcingRequestService.deleteCompanyDocuments(this.authService.company._id,[n]).pipe((0,Z.P)(),this.hotToastService.observe(qe),(0,f.t)(this))}updateDocuments(i){this.loading.set(!0);try{this.sourcingRequestService.updateCompanyInfo(i).pipe((0,Z.P)(),this.hotToastService.observe(qe),(0,f.t)(this)).subscribe(n=>{this.loading.set(!1),this.authService.updateCompany(n)})}catch(n){console.error(n),this.loading.set(!1)}}static#e=this.\u0275fac=function(n){return new(n||ae)};static#t=this.\u0275prov=e.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})};Fe=(0,S.gn)([(0,f.c)()],Fe);var Qe=a(63999),$e=a(24036);const ft=["determinateSpinner"];function bt(r,i){if(1&r&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&r){const n=e.oxw();e.uIk("viewBox",n._viewBox()),e.xp6(),e.Udp("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeCircumference()/2,"px")("stroke-width",n._circleStrokeWidth(),"%"),e.uIk("r",n._circleRadius())}}const _t=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function vt(){return{diameter:Re}}}),Re=100;let ze=(()=>{class r{get color(){return this._color||this._defaultColor}set color(n){this._color=n}constructor(n,o,s){this._elementRef=n,this._defaultColor="primary",this._value=0,this._diameter=Re,this._noopAnimations="NoopAnimations"===o&&!!s&&!s._forceAnimations,this.mode="mat-spinner"===n.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",s&&(s.color&&(this.color=this._defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,n||0))}get diameter(){return this._diameter}set diameter(n){this._diameter=n||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=n||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const n=2*this._circleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(_t))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(o,s){if(1&o&&e.Gf(ft,5),2&o){let m;e.iGM(m=e.CRH())&&(s._determinateCircle=m.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(o,s){2&o&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===s.mode?s.value:null)("mode",s.mode),e.Tol("mat-"+s.color),e.Udp("width",s.diameter,"px")("height",s.diameter,"px")("--mdc-circular-progress-size",s.diameter+"px")("--mdc-circular-progress-active-indicator-width",s.diameter+"px"),e.ekj("_mat-animation-noopable",s._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===s.mode))},inputs:{color:"color",mode:"mode",value:[e.lbL.HasDecoratorInputTransform,"value","value",e.Cb_],diameter:[e.lbL.HasDecoratorInputTransform,"diameter","diameter",e.Cb_],strokeWidth:[e.lbL.HasDecoratorInputTransform,"strokeWidth","strokeWidth",e.Cb_]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.Xq5,e.jDz],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(o,s){if(1&o&&(e.YNc(0,bt,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&o){const m=e.MAs(1);e.xp6(4),e.uIk("viewBox",s._viewBox()),e.xp6(),e.Udp("stroke-dasharray",s._strokeCircumference(),"px")("stroke-dashoffset",s._strokeDashOffset(),"px")("stroke-width",s._circleStrokeWidth(),"%"),e.uIk("r",s._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",m),e.xp6(2),e.Q6J("ngTemplateOutlet",m),e.xp6(2),e.Q6J("ngTemplateOutlet",m)}},dependencies:[h.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return r})();var xt=a(96506);function yt(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"b2b-ngx-file",6),e.NdJ("change",function(s){e.CHM(n);const m=e.oxw();return e.KtG(m.formChange(s))}),e.qZA()}if(2&r){const n=e.oxw();e.Q6J("emptyFileLabel","Supported file types: PDF, PNG, JPG and DOC files. Maximum size: 20 MB (total)")("version",n.NgxInputVersionEnum.GLOBY)("maxAllowedSize",20)("showIcon",!1)("theme",null)("label","Upload document")}}function Tt(r,i){1&r&&e._UZ(0,"mat-spinner",7)}function St(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"div",10)(1,"a",11)(2,"mat-icon",12),e._uU(3,"add"),e.qZA(),e.TgZ(4,"span",13),e._uU(5),e.qZA()(),e.TgZ(6,"button",14),e.NdJ("click",function(){const m=e.CHM(n).$index,_=e.oxw(2);return e.KtG(_.openDeletePopup(m))}),e.TgZ(7,"mat-icon"),e._uU(8,"close"),e.qZA()()()}if(2&r){const n=i.$implicit;e.xp6(2),e.Q6J("svgIcon","document-blue"),e.xp6(3),e.Oqu(n.name)}}function wt(r,i){if(1&r&&(e.TgZ(0,"div",8)(1,"span",2),e._uU(2,"Uploaded files"),e.qZA(),e.TgZ(3,"div",9),e.SjG(4,St,9,2,"div",15,e.ikw),e.qZA()()),2&r){const n=e.oxw();e.xp6(4),e.wJu(n.documents)}}let Pe=class Be extends Fe{constructor(i){super(),this.cdr=i,this.NgxInputVersionEnum=P.O,this.matDialog=(0,e.f3M)(A.uw)}formChange(i){const n=Array.from(i.target.files);this.upload(n),this.cdr.detectChanges()}openDeletePopup(i){var n=this;this.matDialog.open(Qe.i,{data:{title:"Are you sure you want to delete the document?",label:""},panelClass:"app-full-bleed-dialog"}).afterClosed().subscribe(o=>{o&&this.delete(i).subscribe(function(){var s=(0,T.Z)(function*(m){const _=yield(0,$e.z)(n.sourcingRequestService.getCompanyData());n.authService.updateCompany(_),n.cdr.detectChanges()});return function(m){return s.apply(this,arguments)}}())})}static#e=this.\u0275fac=function(n){return new(n||Be)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:Be,selectors:[["b2b-client-documents"]],standalone:!0,features:[e.qOj,e.jDz],decls:9,vars:2,consts:[[1,"flex","flex-col","gap-14"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-secondary","font-medium"],[1,"text-sm","text-[#556274]","md:w-2/3"],["class","cursor-pointer",3,"emptyFileLabel","version","maxAllowedSize","showIcon","theme","label"],["class","flex flex-col gap-3 flex-wrap"],[1,"cursor-pointer",3,"emptyFileLabel","version","maxAllowedSize","showIcon","theme","label","change"],["diameter","24"],[1,"flex","flex-col","gap-3","flex-wrap"],[1,"flex","flex-row","flex-wrap","gap-4"],[1,"flex","flex-row","items-center","justify-center","gap-3","rounded-xl","border","!border-[#CFDEFF]","p-3"],["href","",1,"flex","flex-row","items-center","justify-center","gap-2"],[3,"svgIcon"],[1,"font-semibold","text-sm","font-secondary"],["b2bNgxButton","",1,"flex","items-center",3,"click"],["class","flex flex-row items-center justify-center gap-3 rounded-xl border !border-[#CFDEFF] p-3"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Documents"),e.qZA(),e.TgZ(4,"span",3),e._uU(5,"Upload any document you want to share with your customers, such as catalogs, licenses, presentations, etc. Supported file formats: PDF, PNG, JPG, DOC. Maximum of 6 files with a total size of 20 MB."),e.qZA(),e.YNc(6,yt,1,6,"b2b-ngx-file",4)(7,Tt,1,0),e.qZA(),e.YNc(8,wt,6,0,"div",5),e.qZA()),2&n&&(e.xp6(6),e.um2(6,o.loading()?7:6),e.xp6(2),e.um2(8,(null==o.documents?null:o.documents.length)>0?8:-1))},dependencies:[ht.y,xt.d,I.Hw,t.UX,w.l,N.f,V.V,ze],styles:[".app-full-bleed-dialog[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0}"],changeDetection:0})};Pe=(0,S.gn)([(0,f.c)()],Pe);const Zt=[{type:"participated",label:"Participated",button:"Add folder"},{type:"upcoming",label:"Upcoming",button:"Add folder"}];var At=a(60964),Nt=a(86118);const Dt=()=>[h.Ov,a.e(6661).then(a.bind(a,36661)).then(r=>r.ClientProfileTradeShowCardComponent)];function It(r,i){if(1&r&&e._UZ(0,"b2b-client-profile-trade-show-card",10),2&r){const n=e.oxw().$implicit;e.Q6J("tradeShow",n)}}function Ft(r,i){if(1&r&&e.YNc(0,It,1,1,"b2b-client-profile-trade-show-card",10),2&r){const n=i.$implicit,o=e.oxw(2).$implicit;e.um2(0,n.type===o.type?0:-1)}}function Pt(r,i){if(1&r&&(e.TgZ(0,"div",9),e.SjG(1,Ft,1,1,null,null,e.ikw),e.ALo(3,"async"),e.qZA()),2&r){const n=e.oxw(2);e.xp6(),e.wJu(e.lcZ(3,0,n.clientTradeShowService.tradeShows$))}}function Mt(r,i){1&r&&(e.TgZ(0,"div",11),e._UZ(1,"mat-spinner",12),e.qZA())}function Ut(r,i){1&r&&e._UZ(0,"div",13)}function Et(r,i){if(1&r){const n=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){const m=e.CHM(n).$implicit,_=e.oxw();return e.KtG(_.openModal({type:m.type}))}),e.TgZ(4,"mat-icon",6),e._uU(5,"add"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"titlecase"),e.qZA()()(),e.YNc(9,Pt,4,2)(10,Mt,2,0),e.EqZ(11,9,Dt,10,null,null,7,null,e.t2F),e.ALo(13,"async"),e.YNc(14,Ut,1,0,"div",8)}if(2&r){const n=i.$implicit,o=i.$index,s=e.oxw();e.xp6(2),e.Oqu(n.label),e.xp6(5),e.Oqu(e.lcZ(8,4,n.button)),e.xp6(4),e.cPc(e.lcZ(13,6,s.clientTradeShowService.tradeShows$)),e.xp6(3),e.um2(14,0===o?14:-1)}}let Me=class Ye{constructor(i,n){this.clientTradeShowService=i,this.cdr=n,this.matDialog=(0,e.f3M)(A.uw),this.tradeShowSections=Zt}ngOnInit(){this.getList()}openModal(i){this.matDialog.open(At.B,{data:i}).afterClosed().pipe((0,f.t)(this)).subscribe(()=>{this.getList(),this.cdr.detectChanges()})}getList(){this.clientTradeShowService.getListByCompanyId().subscribe()}static#e=this.\u0275fac=function(n){return new(n||Ye)(e.Y36(Nt.h),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:Ye,selectors:[["b2b-client-trade-shows"]],standalone:!0,features:[e.jDz],decls:6,vars:0,consts:[[1,"flex","flex-col","gap-8"],[1,"description__border","rounded-md","p-3","font-secondary","text-sm","text-black"],[1,"flex","flex-col","gap-6"],[1,"flex","flex-row","gap-5","items-center","justify-start"],[1,"text-lg","font-medium","w-28"],["b2bNgxButton","",1,"!bg-[#EEEEEE]","rounded-md","px-3","py-1","text-sm","flex","flex-row","items-center","justify-start",3,"click"],[1,"scale-75"],[300],["class","section__border"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-3"],[3,"tradeShow"],[1,"flex","flex-row","justify-center","items-center"],["diameter","24"],[1,"section__border"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," List the trade shows in which you have participated or plan to participate in the future. For each trade show, you need to add photos of your activity to the exhibition. Mentioning your activities at trade shows can help your business gain trust from potential buyers. "),e.qZA(),e.TgZ(3,"div",2),e.SjG(4,Et,15,8,null,null,e.ikw),e.qZA()()),2&n&&(e.xp6(4),e.wJu(o.tradeShowSections))},dependencies:[w.l,N.f,h.rS,I.Hw,h.Ov,ze],styles:[".description__border[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #D3DFFF}.section__border[_ngcontent-%COMP%]{border-bottom:1px solid #D3DFFF}"],changeDetection:0})};Me=(0,S.gn)([(0,f.c)()],Me);var Ot=a(97328),Lt=a(20553);function Jt(r,i){if(1&r&&e._UZ(0,"b2b-client-company-information",2)(1,"b2b-client-payment-and-shipping",2)(2,"b2b-client-advantages",2)(3,"b2b-client-documents",2)(4,"b2b-client-trade-shows",2),2&r){const n=e.oxw();e.Q6J("hidden",(null==i?null:i.label)!==(null==n.TabLabel?null:n.TabLabel.COMPANY_INFORMATION)),e.xp6(),e.Q6J("hidden",(null==i?null:i.label)!==(null==n.TabLabel?null:n.TabLabel.PAYMENT_AND_SHIPPING)),e.xp6(),e.Q6J("hidden",(null==i?null:i.label)!==(null==n.TabLabel?null:n.TabLabel.OUR_ADVANTAGES)),e.xp6(),e.Q6J("hidden",(null==i?null:i.label)!==(null==n.TabLabel?null:n.TabLabel.DOCUMENTS)),e.xp6(),e.Q6J("hidden",(null==i?null:i.label)!==(null==n.TabLabel?null:n.TabLabel.TRADE_SHOWS))}}let kt=(()=>{class r{constructor(n,o,s,m){this.cdr=n,this.tabservice=o,this.matDialog=s,this.authService=m,this.tab$=new Ot.t(2),this.disabled=!1,this.TabLabel=x.H}unloadNotification(n){return(0,T.Z)(function*(){Lt.N.production&&(n.preventDefault(),n.returnValue="")})()}ngOnInit(){this.checkNewUser()}canDeactivate(){var n=this;return(0,T.Z)(function*(){return yield n.initSave(),!0})()}changeTab(n){this.tab$.next(n),this.cdr.detectChanges()}initSave(){var n=this;return(0,T.Z)(function*(){(yield n.tabservice.isActivationPossible())?yield n.tabservice.initSaveModal(null):(yield(0,$e.z)(n.tabservice.openTabChangeModal().afterClosed()))&&(yield n.tabservice.initSaveModal(n.tabservice.activeTab))})()}checkNewUser(){const n=this.authService.user,o=["companyName","companyDescription","businessType","employeesNumber","yearOfFoundation","address"],s=b().pick(this.authService.company,o),m=b().values(s);!localStorage.getItem("supplier-pop-up")&&o.length>m.length&&"supplier"===n.rootRole.name&&this.initFirstRegistrationPopup()}initFirstRegistrationPopup(){var n=this;return(0,T.Z)(function*(){n.matDialog.open(Qe.i,{data:{label:"Update your data",title:"Fill your data",description:"You need to fill out your company to profile to be able to upload your products.",buttons:[{label:"Got it!",result:!0,theme:je.n.BACKGROUND_BLUE}]}}).afterClosed().subscribe(o=>{localStorage.setItem("supplier-pop-up","true")})})()}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(e.sBO),e.Y36(u.Y),e.Y36(A.uw),e.Y36(F.e))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["b2b-client-profile-settings-new"]],hostBindings:function(o,s){1&o&&e.NdJ("beforeunload",function(_){return s.unloadNotification(_)},!1,e.Jf7)},standalone:!0,features:[e._Bn([u.Y,{provide:A.Bq,useValue:{overlayPanelClass:"w-full  md:max-w-[80vw]"}}]),e.jDz],decls:4,vars:3,consts:[[1,"flex","flex-col","gap-10","mb-10"],[1,"w-full",3,"activeTab"],[3,"hidden"]],template:function(o,s){if(1&o&&(e.TgZ(0,"div",0)(1,"b2b-client-profile-settings-tabs",1),e.NdJ("activeTab",function(_){return s.changeTab(_)}),e.qZA(),e.YNc(2,Jt,5,5),e.ALo(3,"async"),e.qZA()),2&o){let m;e.xp6(2),e.um2(2,(m=e.lcZ(3,1,s.tab$))?2:-1,m)}},dependencies:[E,z,De,Ie,Pe,Me,w.l,h.Ov],changeDetection:0})}return r})()},86118:(Ge,J,a)=>{a.d(J,{h:()=>f});var T=a(19212),S=a(87588),e=a(6990),M=a.n(e),U=a(65592),h=a(22096),G=a(81374),b=a(77247);let f=(()=>{class y{constructor(){this.tradeShows$=new U.y,this.tradeShow$=new U.y,this.baseUrl="trade-show",this.apiService=(0,T.f3M)(S.s),this.authService=(0,T.f3M)(b.e)}create(u){const C=this.getFormData(u);return this.apiService.post(this.baseUrl,C)}update(u){const C=this.getFormData(u);return this.apiService.patch(this.baseUrl,C)}delete(u){return this.apiService.delete(this.baseUrl,{params:{id:u}})}list(u){return this.tradeShows$=this.apiService.get(this.baseUrl,{params:u}),this.tradeShows$}findById(u){return this.tradeShow$=this.apiService.get(this.baseUrl+`/${u}`),this.tradeShow$}getListByCompanyId(u){return(u=u??this.authService?.company?._id)?this.list({company:u}).pipe((0,G.P)()):(0,h.of)(null)}getFormData(u){u.endedAt=Z(u.endedAt),u.startedAt=Z(u.startedAt);const C=new FormData,k=M().pick(u,"images")?.images?.filter(x=>!x?._id),D=M().pick(u,"uploadedImages")?.uploadedImages,E=M().omit(u,"images","uploadedImages");if(k?.length)for(const x of k)C.append("images",x);if(D?.length)for(const x of D)C.append("uploadedImages",x);return Object.entries(E).forEach(([x,t])=>{C.append(x,t)}),C}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Z(y){return y?y.toDateString():null}}}]);