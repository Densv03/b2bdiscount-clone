"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4420],{14420:(E,P,t)=>{t.r(P),t.d(P,{AdminBlogModule:()=>z});var o=t(38684),i=t(58764),e=t(55161),u=t(3470),p=t(70884),O=t(75278),c=t(45596),a=t(9063),M=t(35285),_=t(54066),d=t(27492),x=t(46295),f=t(22991),h=t(51477),s=t(51983),r=t(76999),v=t(94260),b=t(19825),B=t(6755),D=t(22001),n=t(89985),N=t(4249),j=t(60718),$=t(24797),y=t(49134),F=t(65293),k=t(96484),S=t(82777),U=t(64640),w=t(76492),G=t(61553),I=t(22821),L=t(35455);function K(m,J){if(1&m&&(n.j41(0,"li",2)(1,"a",3),n.nrm(2,"img",4),n.j41(3,"div",5)(4,"p",6),n.EFF(5),n.k0s(),n.j41(6,"p",7)(7,"span",8),n.EFF(8),n.k0s()()(),n.j41(9,"div",9),n.nrm(10,"mat-icon",10),n.k0s(),n.j41(11,"div",11)(12,"b2b-ngx-dropdown",12)(13,"button",13),n.nrm(14,"img",14),n.k0s()()()()()),2&m){const l=J.$implicit,g=n.XpG();n.R7$(),n.Y8G("routerLink",l._id),n.R7$(),n.Y8G("name",null==l.images[0]?null:l.images[0].lg),n.R7$(3),n.JRh(l.title),n.R7$(3),n.JRh(l.author),n.R7$(2),n.Y8G("fontIcon",g.getArticleIconByStatus(l.articleStatus).fontIcon)("matTooltip",g.getArticleIconByStatus(l.articleStatus).toolTip),n.R7$(2),n.Y8G("options",g.menuOptions)("optionToReturn",l)}}let W=(()=>{class m{getArticleIconByStatus(l){return"draft"===l?{fontIcon:"edit",toolTip:"Draft"}:"published"===l?{fontIcon:"visibility",toolTip:"Published"}:"planned"===l?{fontIcon:"schedule",toolTip:"Planned"}:{fontIcon:"error",toolTip:"Unknown status"}}static#t=this.\u0275fac=function(g){return new(g||m)};static#n=this.\u0275cmp=n.VBU({type:m,selectors:[["b2b-admin-blog-list"]],inputs:{articles:"articles",menuOptions:"menuOptions"},decls:2,vars:1,consts:[[1,"admin-articles-list"],["class","admin-articles-list-item",4,"ngFor","ngForOf"],[1,"admin-articles-list-item"],[1,"admin-articles-list-item-link",3,"routerLink"],["b2bNgxImage","",1,"admin-articles-list-item-img",3,"name"],[1,"admin-articles-list-item-info"],[1,"admin-articles-list-item-info-title"],[1,"admin-articles-list-item-info-additional"],[1,"admin-articles-list-item-info-added"],[1,"admin-articles-list__icon-wrapper"],[3,"fontIcon","matTooltip"],[1,"admin-articles-list-item-more"],[3,"options","optionToReturn"],["b2bNgxButton","",1,"flex","items-center"],["b2bNgxIcon","","name","more"]],template:function(g,C){1&g&&(n.j41(0,"ul",0),n.DNE(1,K,15,8,"li",1),n.k0s()),2&g&&(n.R7$(),n.Y8G("ngForOf",C.articles))},dependencies:[o.Sq,a.Wk,S.w,U.K,w.i,G.Z,I.An,L.oV],styles:[".admin-articles-list__icon-wrapper[_ngcontent-%COMP%]{margin-right:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]{margin-top:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;background:#fff;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]{flex:1;margin-left:16px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]   .admin-articles-list-item-info-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#0f0f11;height:20px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;font-style:normal;font-weight:500;font-size:12px;color:#9fa4bb;height:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-icon[_ngcontent-%COMP%]{margin-left:10px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-views[_ngcontent-%COMP%], .admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-stars[_ngcontent-%COMP%]{margin-left:5px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]{background:#f3f6f8;border-radius:16px;padding:5px 10px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-amount[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:#0f0f11}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-messages[_ngcontent-%COMP%]{height:20px;width:20px;display:flex;align-items:center;justify-content:center;background:#005dff;border-radius:100%;font-size:11px;color:#fff;margin-left:10px;padding-top:1px;padding-right:1px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]:first-child{margin-top:0}"]})}return m})();const V=[{path:"",component:(()=>{let m=class T{constructor(l,g,C,A){this._wikiService=l,this._blogService=g,this.hotToastService=C,this.dialog=A,this.forceSubject=new _.B,this.b2bNgxLinkThemeEnum=v.M,this.pageSubject=new _.B,this.articles$=this._getArticles$(),this.menuOptions=this._getMenuOptions(),this.totalCount=0}_getArticles$(){return this.pageSubject.asObservable().pipe((0,h.Z)(1)).pipe(this.hotToastService.observe({loading:"Loading articles",success:"Articles loaded",error:"Articles loading failed"}),(0,s.n)(g=>this._blogService.getNewArticles(10*(g-1)).pipe((0,d.M)(C=>this.totalCount=C.count),(0,r.T)(C=>C.data))))}setPage(l){this.pageSubject.next(l)}_getMenuOptions(){return[{label:"Delete",icon:"delete-red",onClick:l=>{this.dialog.open(B.D,{data:{title:"Delete product",message:"Are you sure you want to delete this article?",confirmButtonText:"Delete",confirmButtonTheme:D.a.BACKGROUND_RED,cancelButtonText:"Cancel",cancelButtonTheme:D.a.OUTLINE_BLACK}}).afterClosed().pipe((0,x.p)(g=>!!g),(0,f.Z)(()=>this._blogService.deleteNewArticle(l._id).pipe((0,b.s)(this),this.hotToastService.observe({loading:"Post deleting",success:"Post deleted",error:"Post deleting failed"})))).subscribe(()=>{this.forceSubject.next(!0),this.articles$=this._getArticles$(),this.pageSubject.next(1)})}}]}static#t=this.\u0275fac=function(g){return new(g||T)(n.rXU(N.i),n.rXU(j.c),n.rXU($.U_),n.rXU(y.bZ))};static#n=this.\u0275cmp=n.VBU({type:T,selectors:[["b2b-admin-blog"]],decls:6,vars:7,consts:[[1,"admin-articles"],["b2bNgxLink","","routerLink","create",1,"admin-articles__link",3,"theme"],[1,"admin-articles__list",3,"articles","menuOptions"],[3,"togglePageNumber","length","perPage"]],template:function(g,C){1&g&&(n.j41(0,"div",0)(1,"a",1),n.EFF(2,"Add Post"),n.k0s(),n.nrm(3,"b2b-admin-blog-list",2),n.nI1(4,"async"),n.j41(5,"b2b-ngx-pagination",3),n.bIt("togglePageNumber",function(Z){return C.setPage(Z)}),n.k0s()()),2&g&&(n.R7$(),n.Y8G("theme",C.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),n.R7$(2),n.Y8G("articles",n.bMT(4,5,C.articles$))("menuOptions",C.menuOptions),n.R7$(2),n.Y8G("length",C.totalCount)("perPage",10))},dependencies:[a.Wk,F.F,k.p,W,o.Jj],styles:[".admin-articles[_ngcontent-%COMP%]{padding:30px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;padding:7.5px 15px;border-radius:3px;margin:0 15px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:first-child{margin-left:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:last-child{margin-right:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__list[_ngcontent-%COMP%]{display:block;margin-top:15px}"],changeDetection:0})};return m=(0,M.Cg)([(0,b.d)()],m),m})()}];let Y=(()=>{class m{static#t=this.\u0275fac=function(g){return new(g||m)};static#n=this.\u0275mod=n.$C({type:m});static#i=this.\u0275inj=n.G2t({imports:[a.iI.forChild(V),a.iI]})}return m})();var X=t(27381);let z=(()=>{class m{static#t=this.\u0275fac=function(g){return new(g||m)};static#n=this.\u0275mod=n.$C({type:m});static#i=this.\u0275inj=n.G2t({imports:[o.MD,Y,O.M,p.b,c.O,e.n_,u.F,i.i,y.hM,X.DM,I.An]})}return m})()},64640:(E,P,t)=>{t.d(P,{K:()=>f});var o=t(35285),i=t(89985),e=t(60801),u=t(19825),p=t(6742),O=t(46295),c=t(38684),a=t(61553),M=t(76492);const _=["*"];function d(h,s){if(1&h){const r=i.RV6();i.j41(0,"li")(1,"button",6),i.bIt("click",function(b){const B=i.eBV(r).$implicit,D=i.XpG(2);return i.Njj(D.callOptionFunc(b,B))}),i.nrm(2,"img",7),i.j41(3,"span"),i.EFF(4),i.k0s()()()}if(2&h){const r=s.$implicit;i.R7$(2),i.Y8G("name",r.icon),i.R7$(),i.HbH(r.className+" ngx-dropdown-text"),i.R7$(),i.JRh(r.label)}}function x(h,s){if(1&h&&(i.j41(0,"ul",4),i.DNE(1,d,5,4,"li",5),i.k0s()),2&h){const r=i.XpG();i.R7$(),i.Y8G("ngForOf",r.options)}}let f=class R{constructor(s){this.changeDetection=s,this.isMenuShow=!1,this.toggleOptionClick=new i.bkB}callOptionFunc(s,r){this.isMenuShow=!1,s.preventDefault(),s.stopImmediatePropagation(),r.onClick(this.optionToReturn||r,this.requiredOptionToCheck)}get menuClassName(){return`${this.className} `}subscribeOnClickOutside(s){const r=(0,e.R)(document,"click").pipe((0,p.i)(1),(0,u.s)(this),(0,O.p)(v=>!s.contains(v.target))).subscribe(()=>{this.isMenuShow=!1,this.changeDetection.detectChanges(),r.unsubscribe()})}showMenu(s,r){this.isMenuShow=!this.isMenuShow,s.stopImmediatePropagation(),s.preventDefault(),this.isMenuShow&&this.subscribeOnClickOutside(r)}static#t=this.\u0275fac=function(r){return new(r||R)(i.rXU(i.gRc))};static#n=this.\u0275cmp=i.VBU({type:R,selectors:[["b2b-ngx-dropdown"]],inputs:{options:"options",requiredOptionToCheck:"requiredOptionToCheck",className:"className",optionToReturn:"optionToReturn"},outputs:{toggleOptionClick:"toggleOptionClick"},ngContentSelectors:_,decls:5,vars:1,consts:[["container",""],[1,"ngx-dropdown-container"],[3,"click"],["class","ngx-dropdown",4,"ngIf"],[1,"ngx-dropdown"],[4,"ngFor","ngForOf"],["b2bNgxButton","",1,"ngx-dropdown-button",3,"click"],["b2bNgxIcon","",1,"ngx-dropdown-button-icon",3,"name"]],template:function(r,v){if(1&r){const b=i.RV6();i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.bIt("click",function(D){i.eBV(b);const n=i.sdS(1);return i.Njj(v.showMenu(D,n))}),i.SdG(3),i.k0s(),i.DNE(4,x,2,1,"ul",3),i.k0s()}2&r&&(i.R7$(4),i.Y8G("ngIf",v.isMenuShow))},dependencies:[c.Sq,c.bT,a.Z,M.i],styles:[".ngx-dropdown-container[_ngcontent-%COMP%]{position:relative}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]{position:absolute;z-index:2;background:#fff;box-shadow:0 2px 12px #0f0f1129;border-radius:4px;width:180px;right:0}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;width:100%}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]:hover{background-color:#eff4fa}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]   .ngx-dropdown-text[_ngcontent-%COMP%]{text-align:left;font-weight:500;font-size:13px;line-height:18px;color:#0f0f11;margin-left:12px}"],changeDetection:0})};f=(0,o.Cg)([(0,u.d)()],f)},55161:(E,P,t)=>{t.d(P,{n_:()=>O,JV:()=>c}),t(64640);var i=t(38684),e=t(58764),u=t(3470),p=t(89985);let O=(()=>{class a{static#t=this.\u0275fac=function(d){return new(d||a)};static#n=this.\u0275mod=p.$C({type:a});static#i=this.\u0275inj=p.G2t({imports:[i.MD,e.i,u.F]})}return a})();var c=function(a){return a.RESTORE="Restore",a.ARCHIVE="Archive",a.DELETE="Delete",a.EDIT="Edit",a}(c||{})},96484:(E,P,t)=>{t.d(P,{p:()=>u});var o=t(89985),i=t(38684);function e(p,O){if(1&p){const c=o.RV6();o.j41(0,"li",2),o.bIt("click",function(){const M=o.eBV(c).$implicit,_=o.XpG();return o.Njj(_.togglePage(M.value))}),o.EFF(1),o.k0s()}if(2&p){const c=O.$implicit,a=o.XpG();o.AVh("active",a.currentPage===c.label),o.R7$(),o.SpI(" ",c.label," ")}}let u=(()=>{class p{constructor(){this.currentPage=1,this.togglePageNumber=new o.bkB,this.currentPage=1,this.togglePage(1)}get options(){return this.length&&this.perPage?new Array(Math.ceil(this.length/this.perPage)).fill(null).map((M,_)=>({label:_+1,value:_+1})):[]}togglePage(c){c!==this.currentPage&&(this.currentPage=c,this.togglePageNumber.emit(c))}togglePrevPage(){1!==this.currentPage&&(this.currentPage=this.currentPage-1,this.togglePageNumber.emit(this.currentPage))}toggleNextPage(){this.currentPage!==this.options.length&&(this.currentPage=this.currentPage+1,this.togglePageNumber.emit(this.currentPage))}static#t=this.\u0275fac=function(a){return new(a||p)};static#n=this.\u0275cmp=o.VBU({type:p,selectors:[["b2b-ngx-pagination"]],inputs:{length:"length",perPage:"perPage",currentPage:"currentPage"},outputs:{togglePageNumber:"togglePageNumber"},decls:2,vars:1,consts:[[1,"ngx-pagination"],["class","ngx-pagination-item",3,"active","click",4,"ngFor","ngForOf"],[1,"ngx-pagination-item",3,"click"]],template:function(a,M){1&a&&(o.j41(0,"ul",0),o.DNE(1,e,2,3,"li",1),o.k0s()),2&a&&(o.R7$(),o.Y8G("ngForOf",M.options))},dependencies:[i.Sq],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.ngx-pagination[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:24px;flex-wrap:wrap;row-gap:10px}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 4px;border:1px solid #dfe8f5;cursor:pointer}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:hover:not(.active){background-color:#eff4fa}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:active{background:#fff}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return p})()},45596:(E,P,t)=>{t.d(P,{O:()=>e});var o=t(38684),i=t(89985);let e=(()=>{class u{static#t=this.\u0275fac=function(c){return new(c||u)};static#n=this.\u0275mod=i.$C({type:u});static#i=this.\u0275inj=i.G2t({imports:[o.MD]})}return u})()},6755:(E,P,t)=>{t.d(P,{D:()=>_});var o=t(49134),i=t(22001),e=t(89985),u=t(38684),p=t(61553);function O(d,x){if(1&d&&(e.j41(0,"div",6)(1,"h2"),e.EFF(2),e.k0s()()),2&d){const f=e.XpG();e.R7$(2),e.JRh(f.data.title)}}function c(d,x){1&d&&e.nrm(0,"hr",7)}function a(d,x){if(1&d&&(e.j41(0,"div",8),e.EFF(1),e.k0s()),2&d){const f=e.XpG();e.R7$(),e.JRh(f.data.message)}}function M(d,x){1&d&&e.nrm(0,"hr",7)}let _=(()=>{class d{constructor(f,h){this.dialogRef=f,this.data=h,this.b2bNgxButtonThemeEnum=i.a,this.confirmButtonTheme=this.data.confirmButtonTheme,this.cancelButtonTheme=this.data.cancelButtonTheme}closeDialog(f){this.dialogRef.close(f)}static#t=this.\u0275fac=function(h){return new(h||d)(e.rXU(o.CP),e.rXU(o.Vh))};static#n=this.\u0275cmp=e.VBU({type:d,selectors:[["b2b-confirmation-dialog"]],decls:10,vars:6,consts:[[1,"confirmation-dialog"],["class","header",4,"ngIf"],["color","#f5f5f5",4,"ngIf"],["class","body",4,"ngIf"],[1,"footer"],["b2bNgxButton","",1,"btn",3,"click"],[1,"header"],["color","#f5f5f5"],[1,"body"]],template:function(h,s){1&h&&(e.j41(0,"div",0),e.DNE(1,O,3,1,"div",1)(2,c,1,0,"hr",2)(3,a,2,1,"div",3)(4,M,1,0,"hr",2),e.j41(5,"div",4)(6,"button",5),e.bIt("click",function(){return s.closeDialog(!0)}),e.EFF(7),e.k0s(),e.j41(8,"button",5),e.bIt("click",function(){return s.closeDialog(!1)}),e.EFF(9),e.k0s()()()),2&h&&(e.R7$(),e.Y8G("ngIf",s.data.title),e.R7$(),e.Y8G("ngIf",s.data.title),e.R7$(),e.Y8G("ngIf",s.data.message),e.R7$(),e.Y8G("ngIf",s.data.message),e.R7$(3),e.SpI(" ",s.data.confirmButtonText," "),e.R7$(2),e.SpI(" ",s.data.cancelButtonText," "))},dependencies:[u.bT,p.Z],styles:["[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]{width:40vw;height:20vh;position:relative}[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:100%;gap:15px;justify-content:center;margin-top:20px}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:15px 20px;width:40%}"]})}return d})()}}]);