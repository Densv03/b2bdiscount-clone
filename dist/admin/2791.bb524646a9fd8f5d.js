"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2791,5819],{25819:(v,d,r)=>{r.d(d,{Z:()=>p});var _,c=r(97582),t=r(65879),h=r(14016),n=r(56223),o=r(51791),C=r(96814),f=r(53803);function O(a,i){if(1&a&&(t.TgZ(0,"li"),t._UZ(1,"input",2),t.TgZ(2,"label",3)(3,"span",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"span",6),t._uU(6),t.qZA()()()),2&a){const e=i.$implicit,s=i.index,l=t.oxw();t.xp6(1),t.Q6J("id",e+s)("formControl",l.formControl)("value",e),t.xp6(1),t.Q6J("for",e+s),t.xp6(4),t.Oqu(e)}}let p=_=class P{constructor(){this.type="checkbox",this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new n.NI(""),this.id=(0,h.U)()}get error(){if(!this.errors)return"";const i=Object.keys(this.errors)[0];return this.errors[i]}ngOnInit(){this.subscribeOnValueChanges()}ngOnChanges(i){i.errors&&this.formControl.setErrors(i.errors.currentValue)}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe((0,o.t)(this)).subscribe(i=>{this.onChange(i)})}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}writeValue(i){this.formControl.setValue(i)}setDisabledState(i){i?this.formControl.disable():this.formControl.enable()}static#e=this.\u0275fac=function(e){return new(e||P)};static#t=this.\u0275cmp=t.Xpm({type:P,selectors:[["b2b-ngx-radio"]],inputs:{placeholder:"placeholder",checked:"checked",options:"options",customClass:"customClass",errors:"errors"},features:[t._Bn([{provide:n.JU,useExisting:(0,t.Gpc)(()=>_),multi:!0},{provide:n.Cf,useExisting:(0,t.Gpc)(()=>_),multi:!0}]),t.TTD],decls:2,vars:2,consts:[[3,"className"],[4,"ngFor","ngForOf"],["name","radio","type","radio",3,"id","formControl","value"],[3,"for"],[1,"circle"],["b2bNgxIcon","","name","check-white"],[1,"title"]],template:function(e,s){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,O,7,5,"li",1),t.qZA()),2&e&&(t.Q6J("className",s.customClass),t.xp6(1),t.Q6J("ngForOf",s.options))},dependencies:[C.sg,n.Fj,n._,n.JJ,n.oH,f.p],styles:["ul[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border:1px solid #556274;border-radius:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:14px;color:#556274}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-left:0;font-size:16px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.01em;text-align:left}"],changeDetection:0})};p=_=(0,c.gn)([(0,o.c)()],p)},34067:(v,d,r)=>{r.d(d,{I:()=>o});var c=r(96814),t=r(56223),h=r(98653),n=r(65879);let o=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=n.oAB({type:f});static#r=this.\u0275inj=n.cJS({imports:[c.ez,t.UX,h.w]})}return f})();r(25819)},44901:(v,d,r)=>{r.d(d,{b:()=>p});var c=r(99397),t=r(37398),h=r(81374),n=r(65619),o=r(65879),C=r(87588),f=r(16113),_=r(75972);function O(a){return a.photos&&a.photos.length?a.photos[0].lg:null}let p=(()=>{class a{constructor(e,s,l){this._apiService=e,this._offersQuery=s,this._offersStore=l,this.offersSource=new n.X([]),this.savedOffersSource=new n.X([]),this.offersLength=new n.X(0),this.savedOffersLength=new n.X(0),this._endpoint="offers/"}get offers$(){return this.offersSource.asObservable()}get savedOffers$(){return this.savedOffersSource.asObservable()}get offersLength$(){return this.offersLength.asObservable()}get savedOffersLength$(){return this.savedOffersLength.asObservable()}removeAllOffers(){return this._apiService.delete("offers/delete")}getContainerLocation(e){return this._apiService.get(`container/location?${e}`)}getAllOffersCount(){return this._offersQuery.selectAllOffersCount$}getSeaLines(){const{seaLines:e}=this._offersQuery.getValue();return e.length||this._apiService.get("seaLines").subscribe(s=>{this._offersStore.update({seaLines:s})}),this._offersQuery.selectSeaLines$}markAsSold(e){this._apiService.post(`offer/${e}/status/update`,{status:"sold"}).pipe().subscribe()}hideOffer(e){return this._apiService.post(`offer/${e}/hide`,{})}unHideOffer(e){return this._apiService.post(`offer/${e}/unHide`,{})}adminHideOffer(e){return this._apiService.post(`offer/${e}/adminHide`,{})}adminUnHideOffer(e){return this._apiService.post(`offer/${e}/adminUnHide`,{})}deleteOfferSub(e){return this._apiService.delete(`offer/${e}/delete`)}deleteRfq(e){return this._apiService.delete("tradeBid/delete-rfq-admin",{body:{rfqId:e}})}deleteOfferById(e,s){return this._apiService.delete(`offer/${e}/delete`,s)}getOfferById(e){return this._apiService.get(`offer/${e}/`).pipe((0,c.b)(s=>{this._offersStore.update({offer:s})}))}getMyOffers(){return this._apiService.get("my/offers?limit=1").subscribe(e=>{this._offersStore.update({myOffers:e.map(s=>({...s,previewPhoto:O(s)}))})}),this._offersQuery.selectMyOffers$}getOffers(e=""){return this._apiService.get("offers/"+e).pipe((0,t.U)(s=>{const{offers:l,totalCount:u}=s,g=l.map(M=>({...M,previewPhoto:O(M)}));return this._offersStore.update({allOffers:g,allOffersCount:u}),[...g]}))}getActiveOffers(){return this._apiService.get("offers?hideSold=true").pipe((0,t.U)(e=>{const{offers:s,totalCount:l}=e,u=s.map(g=>({...g,previewPhoto:O(g)}));return this._offersStore.update({allOffers:u,allOffersCount:l}),[...u]}))}getSavedOffers(){return this._apiService.get("my/offers/favourites").subscribe(s=>{this._offersStore.update({savedOffers:s.map(l=>({...l,previewPhoto:O(l)}))})}),this._offersQuery.selectSavedOffers$}createOffer(e){return this._apiService.post("offer/create",e)}updateOffer(e,s){return this._apiService.put(`offer/${s}/update`,e)}addFavoriteOffer(e){return this._apiService.post(`user/favourites/${e}/add`,{}).pipe((0,c.b)(()=>{this._offersStore.update({allOffers:this._offersStore.getValue().allOffers.map(s=>({...s,isSaved:s._id===e||s.isSaved}))})}))}removeFavoriteOffer(e){return this._apiService.delete(`user/favourites/${e}/remove`).pipe((0,c.b)(()=>{const{savedOffers:s,allOffers:l}=this._offersQuery.getValue();this._offersStore.update({savedOffers:s.filter(u=>u._id!==e),allOffers:l.map(u=>({...u,isSaved:u._id!==e&&u.isSaved}))})}))}approveOffer(e){return this._apiService.post(`offer/${e}/adminApprovalOffer`,{})}declineOffer(e){return this._apiService.post(`offer/${e}/adminRejectionOffer`,{})}updateOffersList(e){this.getOffers(e).pipe((0,h.P)()).subscribe(s=>{this.offersSource.next(s.rfqList)})}static#e=this.\u0275fac=function(s){return new(s||a)(o.LFG(C.s),o.LFG(f.Y),o.LFG(_.m))};static#t=this.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},16113:(v,d,r)=>{r.d(d,{Y:()=>n});var c=r(70275),t=r(65879),h=r(75972);let n=(()=>{class o extends c.AE{constructor(f){super(f),this.store=f,this.selectAllOffers$=this.select("allOffers"),this.selectMyOffers$=this.select("myOffers"),this.selectOffer$=this.select("offer"),this.selectSavedOffers$=this.select("savedOffers"),this.selectAllOffersCount$=this.select("allOffersCount"),this.selectSeaLines$=this.select("seaLines")}static#e=this.\u0275fac=function(_){return new(_||o)(t.LFG(h.m))};static#t=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},75972:(v,d,r)=>{r.d(d,{m:()=>o});var c=r(97582),t=r(70275),h=r(65879);let o=class m extends t.yh{constructor(){super({allOffers:[],myOffers:[],offer:null,savedOffers:[],allOffersCount:0,seaLines:[]})}static#e=this.\u0275fac=function(_){return new(_||m)};static#t=this.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})};o=(0,c.gn)([(0,t.yC)({name:"offers"})],o)}}]);