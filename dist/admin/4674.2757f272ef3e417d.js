"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4674],{74674:(b,_,n)=>{n.r(_),n.d(_,{AdminArticlesModule:()=>K});var o=n(38684),i=n(9063),e=n(35285),p=n(54066),u=n(99927),O=n(46295),s=n(22991),a=n(51477),C=n(76999),P=n(51983),g=n(94260),M=n(19825),f=n(22001),h=n(6755),t=n(89985),c=n(4249),x=n(24797),v=n(49134),E=n(65293),D=n(96484),R=n(82777),B=n(64640),y=n(76492),N=n(61553);function I(l,W){if(1&l&&(t.j41(0,"li",2)(1,"a",3),t.nrm(2,"img",4),t.j41(3,"div",5)(4,"p",6),t.EFF(5),t.k0s(),t.j41(6,"p",7)(7,"span",8),t.EFF(8),t.k0s()()(),t.j41(9,"div",9)(10,"b2b-ngx-dropdown",10)(11,"button",11),t.nrm(12,"img",12),t.k0s()()()()()),2&l){const m=W.$implicit,r=t.XpG();t.R7$(),t.Y8G("routerLink",m._id),t.R7$(),t.Y8G("name",null==m.image?null:m.image.lg),t.R7$(3),t.JRh(m.title),t.R7$(3),t.JRh(m.author),t.R7$(2),t.Y8G("options",r.menuOptions)("optionToReturn",m)}}let j=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#n=this.\u0275cmp=t.VBU({type:l,selectors:[["app-admin-articles-list"]],inputs:{articles:"articles",menuOptions:"menuOptions"},decls:2,vars:1,consts:[[1,"admin-articles-list"],["class","admin-articles-list-item",4,"ngFor","ngForOf"],[1,"admin-articles-list-item"],[1,"admin-articles-list-item-link",3,"routerLink"],["b2bNgxImage","",1,"admin-articles-list-item-img",3,"name"],[1,"admin-articles-list-item-info"],[1,"admin-articles-list-item-info-title"],[1,"admin-articles-list-item-info-additional"],[1,"admin-articles-list-item-info-added"],[1,"admin-articles-list-item-more"],[3,"options","optionToReturn"],["b2bNgxButton","",1,"flex","items-center"],["b2bNgxIcon","","name","more"]],template:function(r,d){1&r&&(t.j41(0,"ul",0),t.DNE(1,I,13,6,"li",1),t.k0s()),2&r&&(t.R7$(),t.Y8G("ngForOf",d.articles))},dependencies:[o.Sq,i.Wk,R.w,B.K,y.i,N.Z],styles:[".admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]{margin-top:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;background:#fff;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]{flex:1;margin-left:16px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]   .admin-articles-list-item-info-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#0f0f11;height:20px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;font-style:normal;font-weight:500;font-size:12px;color:#9fa4bb;height:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-icon[_ngcontent-%COMP%]{margin-left:10px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-views[_ngcontent-%COMP%], .admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-stars[_ngcontent-%COMP%]{margin-left:5px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]{background:#f3f6f8;border-radius:16px;padding:5px 10px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-amount[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:#0f0f11}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-messages[_ngcontent-%COMP%]{height:20px;width:20px;display:flex;align-items:center;justify-content:center;background:#005dff;border-radius:100%;font-size:11px;color:#fff;margin-left:10px;padding-top:1px;padding-right:1px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]:first-child{margin-top:0}"]})}return l})();const k=[{path:"",component:(()=>{let l=class T{constructor(m,r,d){this._wikiService=m,this._hotToastrService=r,this.dialog=d,this.forceSubject=new p.B,this.b2bNgxLinkThemeEnum=g.M,this.pageSubject=new p.B,this.articles$=this._getArticles$(),this.menuOptions=this._getMenuOptions(),this.totalCount=0}_getArticles$(){const m=this.pageSubject.asObservable().pipe((0,a.Z)(0)),r=this.forceSubject.asObservable().pipe((0,a.Z)(!0));return(0,u.z)([m,r]).pipe((0,C.T)(([d])=>"?offset="+10*d),(0,P.n)(([d])=>this._wikiService.getArticles(d)),(0,C.T)(d=>(this.totalCount=d.totalCount,d.posts)))}setPage(m){this.pageSubject.next(m)}_getMenuOptions(){return[{label:"Delete",icon:"delete-red",onClick:m=>{this.dialog.open(h.D,{data:{title:"Delete product",message:"Are you sure you want to delete this product?",confirmButtonText:"Delete",confirmButtonTheme:f.a.BACKGROUND_RED,cancelButtonText:"Cancel",cancelButtonTheme:f.a.OUTLINE_BLACK}}).afterClosed().pipe((0,O.p)(r=>!!r),(0,s.Z)(()=>this._wikiService.deleteArticleById(m._id).pipe((0,M.s)(this),this._hotToastrService.observe({loading:"User deleting",success:"User deleted",error:"User deleting failed"})))).subscribe(()=>{this.forceSubject.next(!0)})}}]}static#t=this.\u0275fac=function(r){return new(r||T)(t.rXU(c.i),t.rXU(x.U_),t.rXU(v.bZ))};static#n=this.\u0275cmp=t.VBU({type:T,selectors:[["b2b-admin-articles"]],decls:8,vars:8,consts:[[1,"admin-articles"],["b2bNgxLink","","routerLink","create",1,"admin-articles__link",3,"theme"],["b2bNgxLink","","routerLink","/article-categories",1,"admin-articles__link",3,"theme"],[1,"admin-articles__list",3,"articles","menuOptions"],[3,"togglePageNumber","length","perPage"]],template:function(r,d){1&r&&(t.j41(0,"div",0)(1,"a",1),t.EFF(2,"Add Article"),t.k0s(),t.j41(3,"a",2),t.EFF(4,"Add \u0421ategories"),t.k0s(),t.nrm(5,"app-admin-articles-list",3),t.nI1(6,"async"),t.j41(7,"b2b-ngx-pagination",4),t.bIt("togglePageNumber",function(Y){return d.setPage(Y)}),t.k0s()()),2&r&&(t.R7$(),t.Y8G("theme",d.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),t.R7$(2),t.Y8G("theme",d.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),t.R7$(2),t.Y8G("articles",t.bMT(6,6,d.articles$))("menuOptions",d.menuOptions),t.R7$(2),t.Y8G("length",d.totalCount)("perPage",10))},dependencies:[i.Wk,E.F,D.p,j,o.Jj],styles:[".admin-articles[_ngcontent-%COMP%]{padding:30px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;padding:7.5px 15px;border-radius:3px;margin:0 15px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:first-child{margin-left:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:last-child{margin-right:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__list[_ngcontent-%COMP%]{display:block;margin-top:15px}"],changeDetection:0})};return l=(0,e.Cg)([(0,M.d)()],l),l})()}];let F=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#n=this.\u0275mod=t.$C({type:l});static#i=this.\u0275inj=t.G2t({imports:[i.iI.forChild(k),i.iI]})}return l})();var $=n(75278),U=n(70884),L=n(45596),w=n(55161),G=n(3470),S=n(58764);let K=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#n=this.\u0275mod=t.$C({type:l});static#i=this.\u0275inj=t.G2t({imports:[o.MD,F,$.M,U.b,L.O,w.n_,G.F,S.i]})}return l})()},64640:(b,_,n)=>{n.d(_,{K:()=>f});var o=n(35285),i=n(89985),e=n(60801),p=n(19825),u=n(6742),O=n(46295),s=n(38684),a=n(61553),C=n(76492);const P=["*"];function g(h,t){if(1&h){const c=i.RV6();i.j41(0,"li")(1,"button",6),i.bIt("click",function(v){const E=i.eBV(c).$implicit,D=i.XpG(2);return i.Njj(D.callOptionFunc(v,E))}),i.nrm(2,"img",7),i.j41(3,"span"),i.EFF(4),i.k0s()()()}if(2&h){const c=t.$implicit;i.R7$(2),i.Y8G("name",c.icon),i.R7$(),i.HbH(c.className+" ngx-dropdown-text"),i.R7$(),i.JRh(c.label)}}function M(h,t){if(1&h&&(i.j41(0,"ul",4),i.DNE(1,g,5,4,"li",5),i.k0s()),2&h){const c=i.XpG();i.R7$(),i.Y8G("ngForOf",c.options)}}let f=class A{constructor(t){this.changeDetection=t,this.isMenuShow=!1,this.toggleOptionClick=new i.bkB}callOptionFunc(t,c){this.isMenuShow=!1,t.preventDefault(),t.stopImmediatePropagation(),c.onClick(this.optionToReturn||c,this.requiredOptionToCheck)}get menuClassName(){return`${this.className} `}subscribeOnClickOutside(t){const c=(0,e.R)(document,"click").pipe((0,u.i)(1),(0,p.s)(this),(0,O.p)(x=>!t.contains(x.target))).subscribe(()=>{this.isMenuShow=!1,this.changeDetection.detectChanges(),c.unsubscribe()})}showMenu(t,c){this.isMenuShow=!this.isMenuShow,t.stopImmediatePropagation(),t.preventDefault(),this.isMenuShow&&this.subscribeOnClickOutside(c)}static#t=this.\u0275fac=function(c){return new(c||A)(i.rXU(i.gRc))};static#n=this.\u0275cmp=i.VBU({type:A,selectors:[["b2b-ngx-dropdown"]],inputs:{options:"options",requiredOptionToCheck:"requiredOptionToCheck",className:"className",optionToReturn:"optionToReturn"},outputs:{toggleOptionClick:"toggleOptionClick"},ngContentSelectors:P,decls:5,vars:1,consts:[["container",""],[1,"ngx-dropdown-container"],[3,"click"],["class","ngx-dropdown",4,"ngIf"],[1,"ngx-dropdown"],[4,"ngFor","ngForOf"],["b2bNgxButton","",1,"ngx-dropdown-button",3,"click"],["b2bNgxIcon","",1,"ngx-dropdown-button-icon",3,"name"]],template:function(c,x){if(1&c){const v=i.RV6();i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.bIt("click",function(D){i.eBV(v);const R=i.sdS(1);return i.Njj(x.showMenu(D,R))}),i.SdG(3),i.k0s(),i.DNE(4,M,2,1,"ul",3),i.k0s()}2&c&&(i.R7$(4),i.Y8G("ngIf",x.isMenuShow))},dependencies:[s.Sq,s.bT,a.Z,C.i],styles:[".ngx-dropdown-container[_ngcontent-%COMP%]{position:relative}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]{position:absolute;z-index:2;background:#fff;box-shadow:0 2px 12px #0f0f1129;border-radius:4px;width:180px;right:0}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;width:100%}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]:hover{background-color:#eff4fa}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]   .ngx-dropdown-text[_ngcontent-%COMP%]{text-align:left;font-weight:500;font-size:13px;line-height:18px;color:#0f0f11;margin-left:12px}"],changeDetection:0})};f=(0,o.Cg)([(0,p.d)()],f)},55161:(b,_,n)=>{n.d(_,{n_:()=>O,JV:()=>s}),n(64640);var i=n(38684),e=n(58764),p=n(3470),u=n(89985);let O=(()=>{class a{static#t=this.\u0275fac=function(g){return new(g||a)};static#n=this.\u0275mod=u.$C({type:a});static#i=this.\u0275inj=u.G2t({imports:[i.MD,e.i,p.F]})}return a})();var s=function(a){return a.RESTORE="Restore",a.ARCHIVE="Archive",a.DELETE="Delete",a.EDIT="Edit",a}(s||{})},96484:(b,_,n)=>{n.d(_,{p:()=>p});var o=n(89985),i=n(38684);function e(u,O){if(1&u){const s=o.RV6();o.j41(0,"li",2),o.bIt("click",function(){const C=o.eBV(s).$implicit,P=o.XpG();return o.Njj(P.togglePage(C.value))}),o.EFF(1),o.k0s()}if(2&u){const s=O.$implicit,a=o.XpG();o.AVh("active",a.currentPage===s.label),o.R7$(),o.SpI(" ",s.label," ")}}let p=(()=>{class u{constructor(){this.currentPage=1,this.togglePageNumber=new o.bkB,this.currentPage=1,this.togglePage(1)}get options(){return this.length&&this.perPage?new Array(Math.ceil(this.length/this.perPage)).fill(null).map((C,P)=>({label:P+1,value:P+1})):[]}togglePage(s){s!==this.currentPage&&(this.currentPage=s,this.togglePageNumber.emit(s))}togglePrevPage(){1!==this.currentPage&&(this.currentPage=this.currentPage-1,this.togglePageNumber.emit(this.currentPage))}toggleNextPage(){this.currentPage!==this.options.length&&(this.currentPage=this.currentPage+1,this.togglePageNumber.emit(this.currentPage))}static#t=this.\u0275fac=function(a){return new(a||u)};static#n=this.\u0275cmp=o.VBU({type:u,selectors:[["b2b-ngx-pagination"]],inputs:{length:"length",perPage:"perPage",currentPage:"currentPage"},outputs:{togglePageNumber:"togglePageNumber"},decls:2,vars:1,consts:[[1,"ngx-pagination"],["class","ngx-pagination-item",3,"active","click",4,"ngFor","ngForOf"],[1,"ngx-pagination-item",3,"click"]],template:function(a,C){1&a&&(o.j41(0,"ul",0),o.DNE(1,e,2,3,"li",1),o.k0s()),2&a&&(o.R7$(),o.Y8G("ngForOf",C.options))},dependencies:[i.Sq],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.ngx-pagination[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:24px;flex-wrap:wrap;row-gap:10px}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 4px;border:1px solid #dfe8f5;cursor:pointer}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:hover:not(.active){background-color:#eff4fa}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:active{background:#fff}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return u})()},45596:(b,_,n)=>{n.d(_,{O:()=>e});var o=n(38684),i=n(89985);let e=(()=>{class p{static#t=this.\u0275fac=function(s){return new(s||p)};static#n=this.\u0275mod=i.$C({type:p});static#i=this.\u0275inj=i.G2t({imports:[o.MD]})}return p})()},6755:(b,_,n)=>{n.d(_,{D:()=>P});var o=n(49134),i=n(22001),e=n(89985),p=n(38684),u=n(61553);function O(g,M){if(1&g&&(e.j41(0,"div",6)(1,"h2"),e.EFF(2),e.k0s()()),2&g){const f=e.XpG();e.R7$(2),e.JRh(f.data.title)}}function s(g,M){1&g&&e.nrm(0,"hr",7)}function a(g,M){if(1&g&&(e.j41(0,"div",8),e.EFF(1),e.k0s()),2&g){const f=e.XpG();e.R7$(),e.JRh(f.data.message)}}function C(g,M){1&g&&e.nrm(0,"hr",7)}let P=(()=>{class g{constructor(f,h){this.dialogRef=f,this.data=h,this.b2bNgxButtonThemeEnum=i.a,this.confirmButtonTheme=this.data.confirmButtonTheme,this.cancelButtonTheme=this.data.cancelButtonTheme}closeDialog(f){this.dialogRef.close(f)}static#t=this.\u0275fac=function(h){return new(h||g)(e.rXU(o.CP),e.rXU(o.Vh))};static#n=this.\u0275cmp=e.VBU({type:g,selectors:[["b2b-confirmation-dialog"]],decls:10,vars:6,consts:[[1,"confirmation-dialog"],["class","header",4,"ngIf"],["color","#f5f5f5",4,"ngIf"],["class","body",4,"ngIf"],[1,"footer"],["b2bNgxButton","",1,"btn",3,"click"],[1,"header"],["color","#f5f5f5"],[1,"body"]],template:function(h,t){1&h&&(e.j41(0,"div",0),e.DNE(1,O,3,1,"div",1)(2,s,1,0,"hr",2)(3,a,2,1,"div",3)(4,C,1,0,"hr",2),e.j41(5,"div",4)(6,"button",5),e.bIt("click",function(){return t.closeDialog(!0)}),e.EFF(7),e.k0s(),e.j41(8,"button",5),e.bIt("click",function(){return t.closeDialog(!1)}),e.EFF(9),e.k0s()()()),2&h&&(e.R7$(),e.Y8G("ngIf",t.data.title),e.R7$(),e.Y8G("ngIf",t.data.title),e.R7$(),e.Y8G("ngIf",t.data.message),e.R7$(),e.Y8G("ngIf",t.data.message),e.R7$(3),e.SpI(" ",t.data.confirmButtonText," "),e.R7$(2),e.SpI(" ",t.data.cancelButtonText," "))},dependencies:[p.bT,u.Z],styles:["[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]{width:40vw;height:20vh;position:relative}[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:100%;gap:15px;justify-content:center;margin-top:20px}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:15px 20px;width:40%}"]})}return g})()}}]);