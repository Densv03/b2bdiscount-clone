"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7582],{57582:(M,p,n)=>{n.r(p),n.d(p,{AdminArticlesModule:()=>K});var i=n(60177),m=n(52168),u=n(85623),P=n(21413),r=n(84572),h=n(5964),o=n(73028),c=n(99172),g=n(96354),d=n(25558),x=n(2628),C=n(49894),O=n(51809),v=n(28659),t=n(54438),b=n(13065),_=n(72558),A=n(34006),y=n(78781),k=n(2196),N=n(83113),j=n(432),B=n(46635),R=n(81953);function T(e,Y){if(1&e&&(t.j41(0,"li",2)(1,"a",3),t.nrm(2,"img",4),t.j41(3,"div",5)(4,"p",6),t.EFF(5),t.k0s(),t.j41(6,"p",7)(7,"span",8),t.EFF(8),t.k0s()()(),t.j41(9,"div",9)(10,"b2b-ngx-dropdown",10)(11,"button",11),t.nrm(12,"img",12),t.k0s()()()()()),2&e){const s=Y.$implicit,a=t.XpG();t.R7$(),t.Y8G("routerLink",s._id),t.R7$(),t.Y8G("name",null==s.image?null:s.image.lg),t.R7$(3),t.JRh(s.title),t.R7$(3),t.JRh(s.author),t.R7$(2),t.Y8G("options",a.menuOptions)("optionToReturn",s)}}let $=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-admin-articles-list"]],inputs:{articles:"articles",menuOptions:"menuOptions"},decls:2,vars:1,consts:[[1,"admin-articles-list"],["class","admin-articles-list-item",4,"ngFor","ngForOf"],[1,"admin-articles-list-item"],[1,"admin-articles-list-item-link",3,"routerLink"],["b2bNgxImage","",1,"admin-articles-list-item-img",3,"name"],[1,"admin-articles-list-item-info"],[1,"admin-articles-list-item-info-title"],[1,"admin-articles-list-item-info-additional"],[1,"admin-articles-list-item-info-added"],[1,"admin-articles-list-item-more"],[3,"options","optionToReturn"],["b2bNgxButton","",1,"flex","items-center"],["b2bNgxIcon","","name","more"]],template:function(a,l){1&a&&(t.j41(0,"ul",0),t.DNE(1,T,13,6,"li",1),t.k0s()),2&a&&(t.R7$(),t.Y8G("ngForOf",l.articles))},dependencies:[i.Sq,m.Wk,N.w,j.K,B.i,R.Z],styles:[".admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]{margin-top:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;background:#fff;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]{flex:1;margin-left:16px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]   .admin-articles-list-item-info-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#0f0f11;height:20px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;font-style:normal;font-weight:500;font-size:12px;color:#9fa4bb;height:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-icon[_ngcontent-%COMP%]{margin-left:10px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-views[_ngcontent-%COMP%], .admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-stars[_ngcontent-%COMP%]{margin-left:5px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]{background:#f3f6f8;border-radius:16px;padding:5px 10px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-amount[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:#0f0f11}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-messages[_ngcontent-%COMP%]{height:20px;width:20px;display:flex;align-items:center;justify-content:center;background:#005dff;border-radius:100%;font-size:11px;color:#fff;margin-left:10px;padding-top:1px;padding-right:1px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]:first-child{margin-top:0}"]})}return e})();const F=[{path:"",component:(()=>{let e=class f{constructor(s,a,l){this._wikiService=s,this._hotToastrService=a,this.dialog=l,this.forceSubject=new P.B,this.b2bNgxLinkThemeEnum=x.M,this.pageSubject=new P.B,this.articles$=this._getArticles$(),this.menuOptions=this._getMenuOptions(),this.totalCount=0}_getArticles$(){const s=this.pageSubject.asObservable().pipe((0,c.Z)(0)),a=this.forceSubject.asObservable().pipe((0,c.Z)(!0));return(0,r.z)([s,a]).pipe((0,g.T)(([l])=>"?offset="+10*l),(0,d.n)(([l])=>this._wikiService.getArticles(l)),(0,g.T)(l=>(this.totalCount=l.totalCount,l.posts)))}setPage(s){this.pageSubject.next(s)}_getMenuOptions(){return[{label:"Delete",icon:"delete-red",onClick:s=>{this.dialog.open(v.D,{data:{title:"Delete product",message:"Are you sure you want to delete this product?",confirmButtonText:"Delete",confirmButtonTheme:O.a.BACKGROUND_RED,cancelButtonText:"Cancel",cancelButtonTheme:O.a.OUTLINE_BLACK}}).afterClosed().pipe((0,h.p)(a=>!!a),(0,o.Z)(()=>this._wikiService.deleteArticleById(s._id).pipe((0,C.s)(this),this._hotToastrService.observe({loading:"User deleting",success:"User deleted",error:"User deleting failed"})))).subscribe(()=>{this.forceSubject.next(!0)})}}]}static#t=this.\u0275fac=function(a){return new(a||f)(t.rXU(b.i),t.rXU(_.U_),t.rXU(A.bZ))};static#n=this.\u0275cmp=t.VBU({type:f,selectors:[["b2b-admin-articles"]],decls:8,vars:8,consts:[[1,"admin-articles"],["b2bNgxLink","","routerLink","create",1,"admin-articles__link",3,"theme"],["b2bNgxLink","","routerLink","/article-categories",1,"admin-articles__link",3,"theme"],[1,"admin-articles__list",3,"articles","menuOptions"],[3,"togglePageNumber","length","perPage"]],template:function(a,l){1&a&&(t.j41(0,"div",0)(1,"a",1),t.EFF(2,"Add Article"),t.k0s(),t.j41(3,"a",2),t.EFF(4,"Add \u0421ategories"),t.k0s(),t.nrm(5,"app-admin-articles-list",3),t.nI1(6,"async"),t.j41(7,"b2b-ngx-pagination",4),t.bIt("togglePageNumber",function(z){return l.setPage(z)}),t.k0s()()),2&a&&(t.R7$(),t.Y8G("theme",l.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),t.R7$(2),t.Y8G("theme",l.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),t.R7$(2),t.Y8G("articles",t.bMT(6,6,l.articles$))("menuOptions",l.menuOptions),t.R7$(2),t.Y8G("length",l.totalCount)("perPage",10))},dependencies:[m.Wk,y.F,k.p,$,i.Jj],styles:[".admin-articles[_ngcontent-%COMP%]{padding:30px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;padding:7.5px 15px;border-radius:3px;margin:0 15px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:first-child{margin-left:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:last-child{margin-right:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__list[_ngcontent-%COMP%]{display:block;margin-top:15px}"],changeDetection:0})};return e=(0,u.Cg)([(0,C.d)()],e),e})()}];let L=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#n=this.\u0275mod=t.$C({type:e});static#i=this.\u0275inj=t.G2t({imports:[m.iI.forChild(F),m.iI]})}return e})();var E=n(6859),D=n(41108),G=n(69388),U=n(39597),S=n(24318),I=n(41820);let K=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#n=this.\u0275mod=t.$C({type:e});static#i=this.\u0275inj=t.G2t({imports:[i.MD,L,E.M,D.b,G.O,U.n_,S.F,I.i]})}return e})()},2196:(M,p,n)=>{n.d(p,{p:()=>P});var i=n(54438),m=n(60177);function u(r,h){if(1&r){const o=i.RV6();i.j41(0,"li",2),i.bIt("click",function(){const g=i.eBV(o).$implicit,d=i.XpG();return i.Njj(d.togglePage(g.value))}),i.EFF(1),i.k0s()}if(2&r){const o=h.$implicit,c=i.XpG();i.AVh("active",c.currentPage===o.label),i.R7$(),i.SpI(" ",o.label," ")}}let P=(()=>{class r{constructor(){this.currentPage=1,this.togglePageNumber=new i.bkB,this.currentPage=1,this.togglePage(1)}get options(){return this.length&&this.perPage?new Array(Math.ceil(this.length/this.perPage)).fill(null).map((g,d)=>({label:d+1,value:d+1})):[]}togglePage(o){o!==this.currentPage&&(this.currentPage=o,this.togglePageNumber.emit(o))}togglePrevPage(){1!==this.currentPage&&(this.currentPage=this.currentPage-1,this.togglePageNumber.emit(this.currentPage))}toggleNextPage(){this.currentPage!==this.options.length&&(this.currentPage=this.currentPage+1,this.togglePageNumber.emit(this.currentPage))}static#t=this.\u0275fac=function(c){return new(c||r)};static#n=this.\u0275cmp=i.VBU({type:r,selectors:[["b2b-ngx-pagination"]],inputs:{length:"length",perPage:"perPage",currentPage:"currentPage"},outputs:{togglePageNumber:"togglePageNumber"},decls:2,vars:1,consts:[[1,"ngx-pagination"],["class","ngx-pagination-item",3,"active","click",4,"ngFor","ngForOf"],[1,"ngx-pagination-item",3,"click"]],template:function(c,g){1&c&&(i.j41(0,"ul",0),i.DNE(1,u,2,3,"li",1),i.k0s()),2&c&&(i.R7$(),i.Y8G("ngForOf",g.options))},dependencies:[m.Sq],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.ngx-pagination[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:24px;flex-wrap:wrap;row-gap:10px}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 4px;border:1px solid #dfe8f5;cursor:pointer}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:hover:not(.active){background-color:#eff4fa}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:active{background:#fff}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return r})()}}]);