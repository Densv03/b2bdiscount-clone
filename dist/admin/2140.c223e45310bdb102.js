"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2140],{22140:(y,d,n)=>{n.r(d),n.d(d,{AdminBlogModule:()=>Z});var e=n(60177),p=n(41820),P=n(39597),h=n(24318),r=n(41108),u=n(6859),l=n(69388),s=n(52168),m=n(85623),g=n(21413),A=n(88141),B=n(5964),T=n(73028),_=n(99172),N=n(25558),j=n(96354),$=n(2628),C=n(49894),R=n(28659),O=n(51809),M=n(21232),t=n(54438),k=n(13065),S=n(145),F=n(72558),x=n(34006),I=n(78781),D=n(2196),E=n(83113),G=n(432),L=n(46635),U=n(81953),v=n(99213),Y=n(14823);function K(o,J){if(1&o&&(t.j41(0,"li",2)(1,"a",3),t.nrm(2,"img",4),t.j41(3,"div",5)(4,"p",6),t.EFF(5),t.k0s(),t.j41(6,"p",7)(7,"span",8),t.EFF(8),t.k0s()()(),t.j41(9,"div",9),t.nrm(10,"mat-icon",10),t.k0s(),t.j41(11,"div",11)(12,"b2b-ngx-dropdown",12)(13,"button",13),t.nrm(14,"img",14),t.k0s()()()()()),2&o){const i=J.$implicit,a=t.XpG();t.R7$(),t.Y8G("routerLink",i._id),t.R7$(),t.Y8G("name",null==i.images[0]?null:i.images[0].lg),t.R7$(3),t.JRh(i.title),t.R7$(3),t.JRh(i.author),t.R7$(2),t.Y8G("fontIcon",a.getArticleIconByStatus(i.articleStatus).fontIcon)("matTooltip",a.getArticleIconByStatus(i.articleStatus).toolTip),t.R7$(2),t.Y8G("options",a.menuOptions)("optionToReturn",i)}}let V=(()=>{class o{getArticleIconByStatus(i){return"draft"===i?{fontIcon:"edit",toolTip:"Draft"}:"published"===i?{fontIcon:"visibility",toolTip:"Published"}:"planned"===i?{fontIcon:"schedule",toolTip:"Planned"}:{fontIcon:"error",toolTip:"Unknown status"}}static#t=this.\u0275fac=function(a){return new(a||o)};static#n=this.\u0275cmp=t.VBU({type:o,selectors:[["b2b-admin-blog-list"]],inputs:{articles:"articles",menuOptions:"menuOptions"},decls:2,vars:1,consts:[[1,"admin-articles-list"],["class","admin-articles-list-item",4,"ngFor","ngForOf"],[1,"admin-articles-list-item"],[1,"admin-articles-list-item-link",3,"routerLink"],["b2bNgxImage","",1,"admin-articles-list-item-img",3,"name"],[1,"admin-articles-list-item-info"],[1,"admin-articles-list-item-info-title"],[1,"admin-articles-list-item-info-additional"],[1,"admin-articles-list-item-info-added"],[1,"admin-articles-list__icon-wrapper"],[3,"fontIcon","matTooltip"],[1,"admin-articles-list-item-more"],[3,"options","optionToReturn"],["b2bNgxButton","",1,"flex","items-center"],["b2bNgxIcon","","name","more"]],template:function(a,c){1&a&&(t.j41(0,"ul",0),t.DNE(1,K,15,8,"li",1),t.k0s()),2&a&&(t.R7$(),t.Y8G("ngForOf",c.articles))},dependencies:[e.Sq,s.Wk,E.w,G.K,L.i,U.Z,v.An,Y.oV],styles:[".admin-articles-list__icon-wrapper[_ngcontent-%COMP%]{margin-right:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]{margin-top:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;background:#fff;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]{flex:1;margin-left:16px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]   .admin-articles-list-item-info-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#0f0f11;height:20px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;font-style:normal;font-weight:500;font-size:12px;color:#9fa4bb;height:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-icon[_ngcontent-%COMP%]{margin-left:10px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-views[_ngcontent-%COMP%], .admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-stars[_ngcontent-%COMP%]{margin-left:5px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]{background:#f3f6f8;border-radius:16px;padding:5px 10px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-amount[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:#0f0f11}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-messages[_ngcontent-%COMP%]{height:20px;width:20px;display:flex;align-items:center;justify-content:center;background:#005dff;border-radius:100%;font-size:11px;color:#fff;margin-left:10px;padding-top:1px;padding-right:1px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]:first-child{margin-top:0}"]})}return o})();const X=[{path:"",component:(()=>{let o=class f{constructor(i,a,c,b){this._wikiService=i,this._blogService=a,this.hotToastService=c,this.dialog=b,this.forceSubject=new g.B,this.b2bNgxLinkThemeEnum=$.M,this.pageSubject=new g.B,this.articles$=this._getArticles$(),this.menuOptions=this._getMenuOptions(),this.totalCount=0}_getArticles$(){return this.pageSubject.asObservable().pipe((0,_.Z)(1)).pipe(this.hotToastService.observe({loading:"Loading articles",success:"Articles loaded",error:"Articles loading failed"}),(0,N.n)(a=>this._blogService.getNewArticles(10*(a-1),M.gA,M.nE).pipe((0,A.M)(c=>this.totalCount=c.count),(0,j.T)(c=>c.data))))}setPage(i){this.pageSubject.next(i)}_getMenuOptions(){return[{label:"Delete",icon:"delete-red",onClick:i=>{this.dialog.open(R.D,{data:{title:"Delete product",message:"Are you sure you want to delete this article?",confirmButtonText:"Delete",confirmButtonTheme:O.a.BACKGROUND_RED,cancelButtonText:"Cancel",cancelButtonTheme:O.a.OUTLINE_BLACK}}).afterClosed().pipe((0,B.p)(a=>!!a),(0,T.Z)(()=>this._blogService.deleteNewArticle(i._id).pipe((0,C.s)(this),this.hotToastService.observe({loading:"Post deleting",success:"Post deleted",error:"Post deleting failed"})))).subscribe(()=>{this.forceSubject.next(!0),this.articles$=this._getArticles$(),this.pageSubject.next(1)})}}]}static#t=this.\u0275fac=function(a){return new(a||f)(t.rXU(k.i),t.rXU(S.c),t.rXU(F.U_),t.rXU(x.bZ))};static#n=this.\u0275cmp=t.VBU({type:f,selectors:[["b2b-admin-blog"]],decls:6,vars:7,consts:[[1,"admin-articles"],["b2bNgxLink","","routerLink","create",1,"admin-articles__link",3,"theme"],[1,"admin-articles__list",3,"articles","menuOptions"],[3,"togglePageNumber","length","perPage"]],template:function(a,c){1&a&&(t.j41(0,"div",0)(1,"a",1),t.EFF(2,"Add Post"),t.k0s(),t.nrm(3,"b2b-admin-blog-list",2),t.nI1(4,"async"),t.j41(5,"b2b-ngx-pagination",3),t.bIt("togglePageNumber",function(H){return c.setPage(H)}),t.k0s()()),2&a&&(t.R7$(),t.Y8G("theme",c.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),t.R7$(2),t.Y8G("articles",t.bMT(4,5,c.articles$))("menuOptions",c.menuOptions),t.R7$(2),t.Y8G("length",c.totalCount)("perPage",10))},dependencies:[s.Wk,I.F,D.p,V,e.Jj],styles:[".admin-articles[_ngcontent-%COMP%]{padding:30px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;padding:7.5px 15px;border-radius:3px;margin:0 15px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:first-child{margin-left:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:last-child{margin-right:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__list[_ngcontent-%COMP%]{display:block;margin-top:15px}"],changeDetection:0})};return o=(0,m.Cg)([(0,C.d)()],o),o})()}];let z=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#n=this.\u0275mod=t.$C({type:o});static#i=this.\u0275inj=t.G2t({imports:[s.iI.forChild(X),s.iI]})}return o})();var W=n(78606);let Z=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#n=this.\u0275mod=t.$C({type:o});static#i=this.\u0275inj=t.G2t({imports:[e.MD,z,u.M,r.b,l.O,P.n_,h.F,p.i,x.hM,W.DM,v.An]})}return o})()},2196:(y,d,n)=>{n.d(d,{p:()=>h});var e=n(54438),p=n(60177);function P(r,u){if(1&r){const l=e.RV6();e.j41(0,"li",2),e.bIt("click",function(){const m=e.eBV(l).$implicit,g=e.XpG();return e.Njj(g.togglePage(m.value))}),e.EFF(1),e.k0s()}if(2&r){const l=u.$implicit,s=e.XpG();e.AVh("active",s.currentPage===l.label),e.R7$(),e.SpI(" ",l.label," ")}}let h=(()=>{class r{constructor(){this.currentPage=1,this.togglePageNumber=new e.bkB,this.currentPage=1,this.togglePage(1)}get options(){return this.length&&this.perPage?new Array(Math.ceil(this.length/this.perPage)).fill(null).map((m,g)=>({label:g+1,value:g+1})):[]}togglePage(l){l!==this.currentPage&&(this.currentPage=l,this.togglePageNumber.emit(l))}togglePrevPage(){1!==this.currentPage&&(this.currentPage=this.currentPage-1,this.togglePageNumber.emit(this.currentPage))}toggleNextPage(){this.currentPage!==this.options.length&&(this.currentPage=this.currentPage+1,this.togglePageNumber.emit(this.currentPage))}static#t=this.\u0275fac=function(s){return new(s||r)};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["b2b-ngx-pagination"]],inputs:{length:"length",perPage:"perPage",currentPage:"currentPage"},outputs:{togglePageNumber:"togglePageNumber"},decls:2,vars:1,consts:[[1,"ngx-pagination"],["class","ngx-pagination-item",3,"active","click",4,"ngFor","ngForOf"],[1,"ngx-pagination-item",3,"click"]],template:function(s,m){1&s&&(e.j41(0,"ul",0),e.DNE(1,P,2,3,"li",1),e.k0s()),2&s&&(e.R7$(),e.Y8G("ngForOf",m.options))},dependencies:[p.Sq],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.ngx-pagination[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:24px;flex-wrap:wrap;row-gap:10px}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 4px;border:1px solid #dfe8f5;cursor:pointer}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:hover:not(.active){background-color:#eff4fa}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:active{background:#fff}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return r})()}}]);