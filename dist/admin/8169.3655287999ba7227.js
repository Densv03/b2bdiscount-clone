"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8169],{78169:(v,h,n)=>{n.r(h),n.d(h,{AdminArticlesModule:()=>F});var o=n(96814),i=n(44112),e=n(97582),p=n(78645),u=n(52572),x=n(32181),s=n(9769),a=n(27921),O=n(37398),C=n(94664),l=n(77835),P=n(51791),f=n(48530),_=n(94045),t=n(65879),c=n(27171),M=n(58133),b=n(19347),D=n(78714),A=n(11203),T=n(63840),N=n(64636),y=n(53803),w=n(83498);function U(r,W){if(1&r&&(t.TgZ(0,"li",2)(1,"a",3),t._UZ(2,"img",4),t.TgZ(3,"div",5)(4,"p",6),t._uU(5),t.qZA(),t.TgZ(6,"p",7)(7,"span",8),t._uU(8),t.qZA()()(),t.TgZ(9,"div",9)(10,"b2b-ngx-dropdown",10)(11,"button",11),t._UZ(12,"img",12),t.qZA()()()()()),2&r){const m=W.$implicit,g=t.oxw();t.xp6(1),t.Q6J("routerLink",m._id),t.xp6(1),t.Q6J("name",null==m.image?null:m.image.lg),t.xp6(3),t.Oqu(m.title),t.xp6(3),t.Oqu(m.author),t.xp6(2),t.Q6J("options",g.menuOptions)("optionToReturn",m)}}let Z=(()=>{class r{static#t=this.\u0275fac=function(g){return new(g||r)};static#n=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-admin-articles-list"]],inputs:{articles:"articles",menuOptions:"menuOptions"},decls:2,vars:1,consts:[[1,"admin-articles-list"],["class","admin-articles-list-item",4,"ngFor","ngForOf"],[1,"admin-articles-list-item"],[1,"admin-articles-list-item-link",3,"routerLink"],["b2bNgxImage","",1,"admin-articles-list-item-img",3,"name"],[1,"admin-articles-list-item-info"],[1,"admin-articles-list-item-info-title"],[1,"admin-articles-list-item-info-additional"],[1,"admin-articles-list-item-info-added"],[1,"admin-articles-list-item-more"],[3,"options","optionToReturn"],["b2bNgxButton","",1,"flex","items-center"],["b2bNgxIcon","","name","more"]],template:function(g,d){1&g&&(t.TgZ(0,"ul",0),t.YNc(1,U,13,6,"li",1),t.qZA()),2&g&&(t.xp6(1),t.Q6J("ngForOf",d.articles))},dependencies:[o.sg,i.rH,T.w,N.J,y.p,w.f],styles:[".admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]{margin-top:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;background:#ffffff;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]{flex:1;margin-left:16px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info[_ngcontent-%COMP%]   .admin-articles-list-item-info-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#0f0f11;height:20px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;font-style:normal;font-weight:500;font-size:12px;color:#9fa4bb;height:20px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-icon[_ngcontent-%COMP%]{margin-left:10px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-views[_ngcontent-%COMP%], .admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-info-additional[_ngcontent-%COMP%]   .admin-articles-list-item-info-stars[_ngcontent-%COMP%]{margin-left:5px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]{background:#f3f6f8;border-radius:16px;padding:5px 10px;display:flex;align-items:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-amount[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:#0f0f11}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-chats[_ngcontent-%COMP%]   .admin-articles-list-item-chat[_ngcontent-%COMP%]   .admin-articles-list-item-chat-messages[_ngcontent-%COMP%]{height:20px;width:20px;display:flex;align-items:center;justify-content:center;background:#005dff;border-radius:100%;font-size:11px;color:#fff;margin-left:10px;padding-top:1px;padding-right:1px}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]   .admin-articles-list-item-link[_ngcontent-%COMP%]   .admin-articles-list-item-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.admin-articles-list[_ngcontent-%COMP%]   .admin-articles-list-item[_ngcontent-%COMP%]:first-child{margin-top:0}"]})}return r})();const I=[{path:"",component:(()=>{let r=class E{constructor(m,g,d){this._wikiService=m,this._hotToastrService=g,this.dialog=d,this.forceSubject=new p.x,this.b2bNgxLinkThemeEnum=l.L,this.pageSubject=new p.x,this.articles$=this._getArticles$(),this.menuOptions=this._getMenuOptions(),this.totalCount=0}_getArticles$(){const m=this.pageSubject.asObservable().pipe((0,a.O)(0)),g=this.forceSubject.asObservable().pipe((0,a.O)(!0));return(0,u.a)([m,g]).pipe((0,O.U)(([d])=>"?offset="+10*d),(0,C.w)(([d])=>this._wikiService.getArticles(d)),(0,O.U)(d=>(this.totalCount=d.totalCount,d.posts)))}setPage(m){this.pageSubject.next(m)}_getMenuOptions(){return[{label:"Delete",icon:"delete-red",onClick:m=>{this.dialog.open(_.z,{data:{title:"Delete product",message:"Are you sure you want to delete this product?",confirmButtonText:"Delete",confirmButtonTheme:f.n.BACKGROUND_RED,cancelButtonText:"Cancel",cancelButtonTheme:f.n.OUTLINE_BLACK}}).afterClosed().pipe((0,x.h)(g=>!!g),(0,s.z)(()=>this._wikiService.deleteArticleById(m._id).pipe((0,P.t)(this),this._hotToastrService.observe({loading:"User deleting",success:"User deleted",error:"User deleting failed"})))).subscribe(()=>{this.forceSubject.next(!0)})}}]}static#t=this.\u0275fac=function(g){return new(g||E)(t.Y36(c.t),t.Y36(M.jE),t.Y36(b.uw))};static#n=this.\u0275cmp=t.Xpm({type:E,selectors:[["b2b-admin-articles"]],decls:8,vars:8,consts:[[1,"admin-articles"],["b2bNgxLink","","routerLink","create",1,"admin-articles__link",3,"theme"],["b2bNgxLink","","routerLink","/article-categories",1,"admin-articles__link",3,"theme"],[1,"admin-articles__list",3,"articles","menuOptions"],[3,"length","perPage","togglePageNumber"]],template:function(g,d){1&g&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2,"Add Article"),t.qZA(),t.TgZ(3,"a",2),t._uU(4,"Add \u0421ategories"),t.qZA(),t._UZ(5,"app-admin-articles-list",3),t.ALo(6,"async"),t.TgZ(7,"b2b-ngx-pagination",4),t.NdJ("togglePageNumber",function(Q){return d.setPage(Q)}),t.qZA()()),2&g&&(t.xp6(1),t.Q6J("theme",d.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),t.xp6(2),t.Q6J("theme",d.b2bNgxLinkThemeEnum.BACKGROUND_BLACK),t.xp6(2),t.Q6J("articles",t.lcZ(6,6,d.articles$))("menuOptions",d.menuOptions),t.xp6(2),t.Q6J("length",d.totalCount)("perPage",10))},dependencies:[i.rH,D.a,A.Q,Z,o.Ov],styles:[".admin-articles[_ngcontent-%COMP%]{padding:30px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;padding:7.5px 15px;border-radius:3px;margin:0 15px}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:first-child{margin-left:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__link[_ngcontent-%COMP%]:last-child{margin-right:0}.admin-articles[_ngcontent-%COMP%]   .admin-articles__list[_ngcontent-%COMP%]{display:block;margin-top:15px}"],changeDetection:0})};return r=(0,e.gn)([(0,P.c)()],r),r})()}];let L=(()=>{class r{static#t=this.\u0275fac=function(g){return new(g||r)};static#n=this.\u0275mod=t.oAB({type:r});static#i=this.\u0275inj=t.cJS({imports:[i.Bz.forChild(I),i.Bz]})}return r})();var R=n(6422),J=n(86461),k=n(89611),K=n(52748),j=n(98653),S=n(43377);let F=(()=>{class r{static#t=this.\u0275fac=function(g){return new(g||r)};static#n=this.\u0275mod=t.oAB({type:r});static#i=this.\u0275inj=t.cJS({imports:[o.ez,L,R.W,J.A,k.z,K.ED,j.w,S.l]})}return r})()},64636:(v,h,n)=>{n.d(h,{J:()=>f});var o=n(97582),i=n(65879),e=n(92438),p=n(51791),u=n(836),x=n(32181),s=n(96814),a=n(83498),O=n(53803);function C(_,t){if(1&_){const c=i.EpF();i.TgZ(0,"li")(1,"button",6),i.NdJ("click",function(b){const A=i.CHM(c).$implicit,T=i.oxw(2);return i.KtG(T.callOptionFunc(b,A))}),i._UZ(2,"img",7),i.TgZ(3,"span"),i._uU(4),i.qZA()()()}if(2&_){const c=t.$implicit;i.xp6(2),i.Q6J("name",c.icon),i.xp6(1),i.Tol(c.className+" ngx-dropdown-text"),i.xp6(1),i.Oqu(c.label)}}function l(_,t){if(1&_&&(i.TgZ(0,"ul",4),i.YNc(1,C,5,4,"li",5),i.qZA()),2&_){const c=i.oxw();i.xp6(1),i.Q6J("ngForOf",c.options)}}const P=["*"];let f=class B{constructor(t){this.changeDetection=t,this.isMenuShow=!1,this.toggleOptionClick=new i.vpe}callOptionFunc(t,c){this.isMenuShow=!1,t.preventDefault(),t.stopImmediatePropagation(),c.onClick(this.optionToReturn||c,this.requiredOptionToCheck)}get menuClassName(){return`${this.className} `}subscribeOnClickOutside(t){const c=(0,e.R)(document,"click").pipe((0,u.T)(1),(0,p.t)(this),(0,x.h)(M=>!t.contains(M.target))).subscribe(()=>{this.isMenuShow=!1,this.changeDetection.detectChanges(),c.unsubscribe()})}showMenu(t,c){this.isMenuShow=!this.isMenuShow,t.stopImmediatePropagation(),t.preventDefault(),this.isMenuShow&&this.subscribeOnClickOutside(c)}static#t=this.\u0275fac=function(c){return new(c||B)(i.Y36(i.sBO))};static#n=this.\u0275cmp=i.Xpm({type:B,selectors:[["b2b-ngx-dropdown"]],inputs:{options:"options",requiredOptionToCheck:"requiredOptionToCheck",className:"className",optionToReturn:"optionToReturn"},outputs:{toggleOptionClick:"toggleOptionClick"},ngContentSelectors:P,decls:5,vars:1,consts:[[1,"ngx-dropdown-container"],["container",""],[3,"click"],["class","ngx-dropdown",4,"ngIf"],[1,"ngx-dropdown"],[4,"ngFor","ngForOf"],["b2bNgxButton","",1,"ngx-dropdown-button",3,"click"],["b2bNgxIcon","",1,"ngx-dropdown-button-icon",3,"name"]],template:function(c,M){if(1&c){const b=i.EpF();i.F$t(),i.TgZ(0,"div",0,1)(2,"div",2),i.NdJ("click",function(A){i.CHM(b);const T=i.MAs(1);return i.KtG(M.showMenu(A,T))}),i.Hsn(3),i.qZA(),i.YNc(4,l,2,1,"ul",3),i.qZA()}2&c&&(i.xp6(4),i.Q6J("ngIf",M.isMenuShow))},dependencies:[s.sg,s.O5,a.f,O.p],styles:[".ngx-dropdown-container[_ngcontent-%COMP%]{position:relative}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]{position:absolute;z-index:2;background:#ffffff;box-shadow:0 2px 12px #0f0f1129;border-radius:4px;width:180px;right:0}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;width:100%}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]:hover{background-color:#eff4fa}.ngx-dropdown-container[_ngcontent-%COMP%]   .ngx-dropdown[_ngcontent-%COMP%]   .ngx-dropdown-button[_ngcontent-%COMP%]   .ngx-dropdown-text[_ngcontent-%COMP%]{text-align:left;font-weight:500;font-size:13px;line-height:18px;color:#0f0f11;margin-left:12px}"],changeDetection:0})};f=(0,o.gn)([(0,p.c)()],f)},52748:(v,h,n)=>{n.d(h,{ED:()=>x,Yr:()=>s}),n(64636);var i=n(96814),e=n(43377),p=n(98653),u=n(65879);let x=(()=>{class a{static#t=this.\u0275fac=function(l){return new(l||a)};static#n=this.\u0275mod=u.oAB({type:a});static#i=this.\u0275inj=u.cJS({imports:[i.ez,e.l,p.w]})}return a})();var s=function(a){return a.RESTORE="Restore",a.ARCHIVE="Archive",a.DELETE="Delete",a.EDIT="Edit",a}(s||{})},11203:(v,h,n)=>{n.d(h,{Q:()=>p});var o=n(65879),i=n(96814);function e(u,x){if(1&u){const s=o.EpF();o.TgZ(0,"li",2),o.NdJ("click",function(){const C=o.CHM(s).$implicit,l=o.oxw();return o.KtG(l.togglePage(C.value))}),o._uU(1),o.qZA()}if(2&u){const s=x.$implicit,a=o.oxw();o.ekj("active",a.currentPage===s.label),o.xp6(1),o.hij(" ",s.label," ")}}let p=(()=>{class u{constructor(){this.currentPage=1,this.togglePageNumber=new o.vpe,this.currentPage=1,this.togglePage(1)}get options(){return this.length&&this.perPage?new Array(Math.ceil(this.length/this.perPage)).fill(null).map((O,C)=>({label:C+1,value:C+1})):[]}togglePage(s){s!==this.currentPage&&(this.currentPage=s,this.togglePageNumber.emit(s))}togglePrevPage(){1!==this.currentPage&&(this.currentPage=this.currentPage-1,this.togglePageNumber.emit(this.currentPage))}toggleNextPage(){this.currentPage!==this.options.length&&(this.currentPage=this.currentPage+1,this.togglePageNumber.emit(this.currentPage))}static#t=this.\u0275fac=function(a){return new(a||u)};static#n=this.\u0275cmp=o.Xpm({type:u,selectors:[["b2b-ngx-pagination"]],inputs:{length:"length",perPage:"perPage",currentPage:"currentPage"},outputs:{togglePageNumber:"togglePageNumber"},decls:2,vars:1,consts:[[1,"ngx-pagination"],["class","ngx-pagination-item",3,"active","click",4,"ngFor","ngForOf"],[1,"ngx-pagination-item",3,"click"]],template:function(a,O){1&a&&(o.TgZ(0,"ul",0),o.YNc(1,e,2,3,"li",1),o.qZA()),2&a&&(o.xp6(1),o.Q6J("ngForOf",O.options))},dependencies:[i.sg],styles:["[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.ngx-pagination[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:24px;flex-wrap:wrap;row-gap:10px}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 4px;border:1px solid #dfe8f5;cursor:pointer}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:hover:not(.active){background-color:#eff4fa}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:active{background:#ffffff}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-pagination[_ngcontent-%COMP%]   .ngx-pagination-item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return u})()},89611:(v,h,n)=>{n.d(h,{z:()=>e});var o=n(96814),i=n(65879);let e=(()=>{class p{static#t=this.\u0275fac=function(s){return new(s||p)};static#n=this.\u0275mod=i.oAB({type:p});static#i=this.\u0275inj=i.cJS({imports:[o.ez]})}return p})()},94045:(v,h,n)=>{n.d(h,{z:()=>C});var o=n(19347),i=n(48530),e=n(65879),p=n(96814),u=n(83498);function x(l,P){if(1&l&&(e.TgZ(0,"div",6)(1,"h2"),e._uU(2),e.qZA()()),2&l){const f=e.oxw();e.xp6(2),e.Oqu(f.data.title)}}function s(l,P){1&l&&e._UZ(0,"hr",7)}function a(l,P){if(1&l&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&l){const f=e.oxw();e.xp6(1),e.Oqu(f.data.message)}}function O(l,P){1&l&&e._UZ(0,"hr",7)}let C=(()=>{class l{constructor(f,_){this.dialogRef=f,this.data=_,this.b2bNgxButtonThemeEnum=i.n,this.confirmButtonTheme=this.data.confirmButtonTheme,this.cancelButtonTheme=this.data.cancelButtonTheme}closeDialog(f){this.dialogRef.close(f)}static#t=this.\u0275fac=function(_){return new(_||l)(e.Y36(o.so),e.Y36(o.WI))};static#n=this.\u0275cmp=e.Xpm({type:l,selectors:[["b2b-confirmation-dialog"]],decls:10,vars:6,consts:[[1,"confirmation-dialog"],["class","header",4,"ngIf"],["color","#f5f5f5",4,"ngIf"],["class","body",4,"ngIf"],[1,"footer"],["b2bNgxButton","",1,"btn",3,"click"],[1,"header"],["color","#f5f5f5"],[1,"body"]],template:function(_,t){1&_&&(e.TgZ(0,"div",0),e.YNc(1,x,3,1,"div",1),e.YNc(2,s,1,0,"hr",2),e.YNc(3,a,2,1,"div",3),e.YNc(4,O,1,0,"hr",2),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return t.closeDialog(!0)}),e._uU(7),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.closeDialog(!1)}),e._uU(9),e.qZA()()()),2&_&&(e.xp6(1),e.Q6J("ngIf",t.data.title),e.xp6(1),e.Q6J("ngIf",t.data.title),e.xp6(1),e.Q6J("ngIf",t.data.message),e.xp6(1),e.Q6J("ngIf",t.data.message),e.xp6(3),e.hij(" ",t.data.confirmButtonText," "),e.xp6(2),e.hij(" ",t.data.cancelButtonText," "))},dependencies:[p.O5,u.f],styles:["[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]{width:40vw;height:20vh;position:relative}[_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:100%;gap:15px;justify-content:center;margin-top:20px}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:15px 20px;width:40%}"]})}return l})()}}]);