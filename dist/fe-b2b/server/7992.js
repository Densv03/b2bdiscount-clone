"use strict";exports.id=7992,exports.ids=[7992],exports.modules={87992:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AuthGoogleSignInSuccessModule:()=>AuthGoogleSignInSuccessModule});var common=__webpack_require__(87514),auth_recover_account_module=__webpack_require__(91414),router=__webpack_require__(18134),asyncToGenerator=__webpack_require__(10467),tslib_es6=__webpack_require__(31635),animations=__webpack_require__(9194),ngneat_until_destroy=__webpack_require__(49953),core=__webpack_require__(11201),auth_service=__webpack_require__(98667),mixpanel_service=__webpack_require__(32046);let AuthGoogleSignInSuccessComponent=class AuthGoogleSignInSuccessComponent2{constructor(_activatedRoute,_authService,_router,mixpanelService){this._activatedRoute=_activatedRoute,this._authService=_authService,this._router=_router,this.mixpanelService=mixpanelService}ngOnInit(){this._activatedRoute.queryParams.pipe((0,ngneat_until_destroy.s)(this)).subscribe(params=>{const{token}=params,updatedToken=token.endsWith("/")?token.slice(0,-1):token;this._authService.updateToken(updatedToken),this._authService.initUser(),this._authService.getUser().pipe((0,ngneat_until_destroy.s)(this)).subscribe(user=>{console.log("AUTH SERVICE GOOGLE SIGN IN"),this.trackLogin(user),this._authService.updateToken(updatedToken),this._authService.updateRole(user?.role),this._router.navigateByUrl("/")})})}trackLogin(user){var _this=this;return(0,asyncToGenerator.A)(function*(){user&&_this.mixpanelService.logIn({User_id:user?._id,"Account Type":user?.rootRole?.displayName,"Company Name":user?.company,"Auth Method":user?.socialAuthType})})()}static#_=this.\u0275fac=function(t){return new(t||AuthGoogleSignInSuccessComponent2)(core.rXU(router.nX),core.rXU(auth_service.u),core.rXU(router.Ix),core.rXU(mixpanel_service.U))};static#_2=this.\u0275cmp=core.VBU({type:AuthGoogleSignInSuccessComponent2,selectors:[["b2b-auth-google-sign-in-success"]],decls:0,vars:0,template:function(rf,ctx){},data:{animation:[(0,animations.hZ)("fadeInOut",[(0,animations.kY)(":enter",[(0,animations.iF)({opacity:0}),(0,animations.i0)(500,(0,animations.iF)({opacity:1}))]),(0,animations.kY)(":leave",[(0,animations.i0)(500,(0,animations.iF)({opacity:0}))])])]}})};AuthGoogleSignInSuccessComponent=(0,tslib_es6.Cg)([(0,ngneat_until_destroy.d)()],AuthGoogleSignInSuccessComponent);const routes=[{path:"",component:AuthGoogleSignInSuccessComponent}];let AuthGoogleSignInSuccessRoutingModule=(()=>{class AuthGoogleSignInSuccessRoutingModule2{static#_=this.\u0275fac=function(t){return new(t||AuthGoogleSignInSuccessRoutingModule2)};static#_2=this.\u0275mod=core.$C({type:AuthGoogleSignInSuccessRoutingModule2});static#_3=this.\u0275inj=core.G2t({imports:[router.iI.forChild(routes),router.iI]})}return AuthGoogleSignInSuccessRoutingModule2})(),AuthGoogleSignInSuccessModule=(()=>{class AuthGoogleSignInSuccessModule2{static#_=this.\u0275fac=function(t){return new(t||AuthGoogleSignInSuccessModule2)};static#_2=this.\u0275mod=core.$C({type:AuthGoogleSignInSuccessModule2});static#_3=this.\u0275inj=core.G2t({imports:[common.MD,AuthGoogleSignInSuccessRoutingModule,auth_recover_account_module.i]})}return AuthGoogleSignInSuccessModule2})()},91414:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>AuthRecoverAccountModule});var _angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87514),_b2b_ngx_image__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(45297),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11201);let AuthRecoverAccountModule=(()=>{class AuthRecoverAccountModule2{static#_=this.\u0275fac=function(t){return new(t||AuthRecoverAccountModule2)};static#_2=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.$C({type:AuthRecoverAccountModule2});static#_3=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.G2t({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.MD,_b2b_ngx_image__WEBPACK_IMPORTED_MODULE_2__.b]})}return AuthRecoverAccountModule2})()}};