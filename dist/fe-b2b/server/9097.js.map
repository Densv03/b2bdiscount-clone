{"version":3,"file":"9097.js","mappings":"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","sources":["./projects/categories-modal/src/lib/categories-dialog.module.ts","./projects/categories-modal/src/lib/categories-modal-list/categories-modal-list.component.ts","./projects/categories-modal/src/lib/categories-modal-list/categories-modal-list.component.html","./projects/categories-modal/src/lib/categories-popup-component/categories-popup.component.ts","./projects/categories-modal/src/lib/categories-popup-component/categories-popup.component.html","./projects/categories-modal/src/lib/layout/categories-dialog.component.ts","./projects/categories-modal/src/lib/layout/categories-dialog.component.html","./projects/categories-modal/src/public-api.ts","./projects/ngx-dropdown/src/lib/dropdown-labels.enum.ts","./projects/ngx-dropdown/src/lib/layout/ngx-dropdown.component.ts","./projects/ngx-dropdown/src/lib/layout/ngx-dropdown.component.html","./projects/ngx-dropdown/src/lib/ngx-dropdown.module.ts","./projects/ngx-dropdown/src/public-api.ts","./projects/ngx-pagination/src/lib/layout/ngx-pagination.component.ts","./projects/ngx-pagination/src/lib/layout/ngx-pagination.component.html","./projects/ngx-pagination/src/lib/ngx-pagination.module.ts","./projects/ngx-pagination/src/public-api.ts","./projects/ngx-select/src/lib/ngx-select.module.ts","./projects/ngx-toggle/src/lib/layout/ngx-toggle.component.ts","./projects/ngx-toggle/src/lib/layout/ngx-toggle.component.html","./projects/ngx-toggle/src/lib/ngx-toggle.module.ts","./projects/shared/src/lib/shared.component.ts","./projects/shared/src/lib/shared.module.ts","./src/app/admin/pages/admin-marketplace/admin-marketplace-routing.module.ts","./src/app/admin/pages/admin-marketplace/admin-marketplace.component.ts","./src/app/admin/pages/admin-marketplace/admin-marketplace.component.html","./src/app/admin/pages/admin-marketplace/admin-marketplace.module.ts","./src/app/admin/pages/admin-marketplace/components/admin-companies-list/admin-companies-list.component.ts","./src/app/admin/pages/admin-marketplace/components/admin-companies-list/admin-companies-list.component.html","./src/app/admin/pages/admin-marketplace/components/admin-product-list/admin-product-list.component.ts","./src/app/admin/pages/admin-marketplace/components/admin-product-list/admin-product-list.component.html","./src/app/admin/pages/admin-marketplace/components/admin-supplier-product-list/admin-supplier-product-list.component.ts","./src/app/admin/pages/admin-marketplace/components/admin-supplier-product-list/admin-supplier-product-list.component.html","./src/app/client/pages/client-marketplace/client-marketplace.service.ts","./src/app/client/shared/components/confirmation-dialog/confirmation-dialog.component.ts","./src/app/client/shared/components/confirmation-dialog/confirmation-dialog.component.html","./node_modules/debug/src/browser.js","./node_modules/debug/src/common.js","./node_modules/debug/src/index.js","./node_modules/debug/src/node.js","./node_modules/has-flag/index.js","./node_modules/ms/index.js","./node_modules/supports-color/index.js","./node_modules/ws/lib/buffer-util.js","./node_modules/ws/lib/constants.js","./node_modules/ws/lib/event-target.js","./node_modules/ws/lib/extension.js","./node_modules/ws/lib/limiter.js","./node_modules/ws/lib/permessage-deflate.js","./node_modules/ws/lib/receiver.js","./node_modules/ws/lib/sender.js","./node_modules/ws/lib/stream.js","./node_modules/ws/lib/subprotocol.js","./node_modules/ws/lib/validation.js","./node_modules/ws/lib/websocket-server.js","./node_modules/ws/lib/websocket.js","./node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","./node_modules/@angular/material/fesm2015/tabs.mjs","./node_modules/@socket.io/component-emitter/index.mjs","./node_modules/engine.io-client/build/esm-debug/contrib/parseqs.js","./node_modules/engine.io-client/build/esm-debug/contrib/parseuri.js","./node_modules/engine.io-client/build/esm-debug/contrib/yeast.js","./node_modules/engine.io-client/build/esm-debug/globalThis.js","./node_modules/engine.io-client/build/esm-debug/index.js","./node_modules/engine.io-client/build/esm-debug/socket.js","./node_modules/engine.io-client/build/esm-debug/transport.js","./node_modules/engine.io-client/build/esm-debug/transports/index.js","./node_modules/engine.io-client/build/esm-debug/transports/polling.js","./node_modules/engine.io-client/build/esm-debug/transports/websocket-constructor.js","./node_modules/engine.io-client/build/esm-debug/transports/websocket.js","./node_modules/engine.io-client/build/esm-debug/transports/webtransport.js","./node_modules/engine.io-client/build/esm-debug/transports/xmlhttprequest.js","./node_modules/engine.io-client/build/esm-debug/util.js","./node_modules/engine.io-parser/build/esm/commons.js","./node_modules/engine.io-parser/build/esm/decodePacket.js","./node_modules/engine.io-parser/build/esm/encodePacket.js","./node_modules/engine.io-parser/build/esm/index.js","./node_modules/socket.io-client/build/esm-debug/contrib/backo2.js","./node_modules/socket.io-client/build/esm-debug/index.js","./node_modules/socket.io-client/build/esm-debug/manager.js","./node_modules/socket.io-client/build/esm-debug/on.js","./node_modules/socket.io-client/build/esm-debug/socket.js","./node_modules/socket.io-client/build/esm-debug/url.js","./node_modules/socket.io-parser/build/esm-debug/binary.js","./node_modules/socket.io-parser/build/esm-debug/index.js","./node_modules/socket.io-parser/build/esm-debug/is-binary.js","./node_modules/ws/wrapper.mjs"],"sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { CategoriesDialogComponent } from \"./layout/categories-dialog.component\";\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { CommonModule } from \"@angular/common\";\nimport { MatTabsModule } from \"@angular/material/tabs\";\nimport { CategoriesModalListComponent } from \"./categories-modal-list/categories-modal-list.component\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { CategoriesPopupComponent } from './categories-popup-component/categories-popup.component';\nimport {B2bNgxSelectModule} from \"@b2b/ngx-select\";\nimport {B2bNgxButtonModule} from \"@b2b/ngx-button\";\nimport {B2bNgxCheckboxModule} from \"@b2b/ngx-checkbox\";\nimport {B2bNgxToggleModule} from \"@b2b/ngx-toggle\";\n\n@NgModule({\n\tdeclarations: [CategoriesDialogComponent, CategoriesModalListComponent, CategoriesPopupComponent],\n\texports: [CategoriesDialogComponent, CategoriesModalListComponent],\n  imports: [\n    CommonModule,\n    MatTabsModule,\n    MatDialogModule,\n    B2bNgxCheckboxModule,\n    B2bNgxToggleModule,\n    B2bNgxButtonModule,\n    ReactiveFormsModule,\n    B2bNgxSelectModule,\n    B2bNgxSelectModule,\n  ],\n})\nexport class CategoriesDialogModule {}\n","import { Component, EventEmitter, Input, Output } from \"@angular/core\";\n\n@Component({\n\tselector: \"b2b-categories-modal-list\",\n\ttemplateUrl: \"./categories-modal-list.component.html\",\n\tstyleUrls: [\"./categories-modal-list.component.scss\"],\n})\nexport class CategoriesModalListComponent {\n\t@Input() categoriesList: Array<any>;\n\t@Input() isParentCategoryChecked: boolean = false;\n\t@Input() isMultipleMode: boolean = false;\n\n\t@Output() selectedId: EventEmitter<string> = new EventEmitter<string>();\n\n\tconstructor() {}\n\n\tpublic selectFullCategory(e: Event | boolean): void {\n\t\tif (typeof e !== 'boolean') {\n      e.stopPropagation();\n    }\n\t\tthis.selectedId.emit(this.categoriesList[0].parentId);\n\t}\n\n\tpublic selectCategory($event: Event, categoryId: string): void {\n\t\t$event.stopPropagation();\n\t\tthis.selectedId.emit(categoryId);\n\t}\n}\n","<ul class=\"categories-list\">\n\t<li *ngIf=\"isMultipleMode\" class=\"select-all\">\n\t\t<div class=\"item-content\">\n\t\t\t<div class=\"category-name\">Select all in category</div>\n\t\t\t<b2b-ngx-toggle\n\t\t\t\t[toggled]=\"isParentCategoryChecked\"\n\t\t\t\t(change)=\"selectFullCategory($event)\"\n\t\t\t\t[emptyLabel]=\"true\"></b2b-ngx-toggle>\n\t\t</div>\n\t</li>\n\t<li *ngFor=\"let category of categoriesList\" class=\"list-item\">\n\t\t<div class=\"item-content\">\n\t\t\t<div class=\"category-name\">\n\t\t\t\t{{ category.text }}\n\t\t\t</div>\n\t\t\t<b2b-ngx-checkbox\n\t\t\t\t*ngIf=\"category.visible\"\n\t\t\t\t(checkboxChange)=\"selectCategory($event, category.value)\"\n\t\t\t\t[checked]=\"category.checked\"></b2b-ngx-checkbox>\n\t\t</div>\n\t</li>\n</ul>\n","import {ChangeDetectionStrategy, Component, Inject, OnInit, ViewChild} from '@angular/core';\nimport {MatTabGroup} from \"@angular/material/tabs\";\nimport {BehaviorSubject, filter, Observable} from \"rxjs\";\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {CategoriesService} from \"../../../../../src/app/client/services/categories/categories.service\";\nimport {map, take} from \"rxjs/operators\";\nimport {B2bNgxButtonThemeEnum} from \"@b2b/ngx-button\";\nimport { SelectCategoryModel} from \"../models/select-category.model\";\n\n@Component({\n  selector: 'b2b-categories-popup-component',\n  templateUrl: './categories-popup.component.html',\n  styleUrls: ['./categories-popup.component.scss'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CategoriesPopupComponent implements OnInit {\n\n\tpublic B2bNgxButtonThemeEnum = B2bNgxButtonThemeEnum;\n\tpublic demo1TabIndex = 1;\n\n\tpublic isMultipleMode = this.data.multiple === undefined ? true : this.data.multiple;\n\n\t@ViewChild(\"demo3Tab\", { static: false }) demo3Tab: MatTabGroup | undefined;\n\n\tprivate categoriesSubject: BehaviorSubject<any[]> = new BehaviorSubject<any[]>([]);\n\n\tconstructor(\n\t\t@Inject(MAT_DIALOG_DATA) public data: { selectedCategories: Array<string>; required?: boolean; multiple?: boolean },\n\t\tpublic dialogRef: MatDialogRef<CategoriesPopupComponent>,\n\t\tprivate categoriesService: CategoriesService,\n\t) {}\n\n\tngOnInit(): void {\n\t\tthis.categoriesService\n\t\t\t.getCategories$()\n\t\t\t.pipe(\n\t\t\t\tfilter(data => !!data),\n\t\t\t\tmap((categoriesData) => categoriesData.categories),\n\t\t\t\tmap((categories) =>\n\t\t\t\t\tcategories.map((category: any) => ({\n\t\t\t\t\t\ttext: category.name,\n\t\t\t\t\t\tvalue: category._id,\n\t\t\t\t\t\tchecked: false,\n\t\t\t\t\t\tchildren: category.children.map((level2Category: any) => ({\n\t\t\t\t\t\t\ttext: level2Category.name,\n\t\t\t\t\t\t\tvalue: level2Category._id,\n\t\t\t\t\t\t\tchecked: false,\n\t\t\t\t\t\t\tparentId: category._id,\n\t\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\t})),\n\t\t\t\t\t}))\n\t\t\t\t),\n\t\t\t\ttake(1)\n\t\t\t)\n\t\t\t.subscribe((data) => {\n\t\t\t\tthis.updateCategoriesList(data);\n\t\t\t\tif (this.data) {\n\t\t\t\t\tif (this.data.selectedCategories.length) {\n\t\t\t\t\t\tthis.initDialogValues(this.data.selectedCategories);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tget categories$(): Observable<any> {\n\t\treturn this.categoriesSubject.asObservable();\n\t}\n\n\tpublic updateCategoriesList(categories: any[]): void {\n\t\tthis.categoriesSubject.next(categories);\n\t}\n\n\tpublic save(): void {\n\t\tlet placeholder: any[] = [];\n\n\t\tconst categories: SelectCategoryModel[] = this.categoriesSubject.getValue().reduce((acc, val) => {\n\t\t\tval.children.forEach((item: any) => {\n\t\t\t\tif (item.checked) {\n\t\t\t\t\tacc.push({\n\t\t\t\t\t\tvalue: item.value,\n\t\t\t\t\t\ttext: item.text,\n\t\t\t\t\t});\n\n\t\t\t\t\tif (placeholder.length < 2) {\n\t\t\t\t\t\tplaceholder.push(item.text);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn acc;\n\t\t}, []);\n\t\tif (this.data.required) {\n\t\t\tcategories.length ? this.dialogRef.close({ categories, placeholder }) : null;\n\t\t} else {\n\t\t\tthis.dialogRef.close({ categories, placeholder });\n\t\t}\n\t}\n\n\tpublic onChangeSelectedId(categoryId: string): void {\n\t\tif (this.isMultipleMode) {\n\t\t\tthis.updateCategoriesSource([categoryId], this.categoriesSubject.getValue());\n\t\t} else {\n\t\t\tthis.updateCategoriesSingleMode(categoryId, this.categoriesSubject.getValue());\n\t\t}\n\t}\n\n\tprivate updateCategoriesSingleMode(id: string, categories: any[]): void {\n\t\tconst necessaryCategory = this.findCategoryById(id, categories);\n\t\tif (necessaryCategory) {\n\t\t\tif (necessaryCategory.checked) {\n\t\t\t\tthis.resetCategories();\n\t\t\t} else {\n\t\t\t\tfor (let parent of categories) {\n\t\t\t\t\tparent.children = parent.children.map((child: any) => {\n\t\t\t\t\t\tif (child.visible !== undefined) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...child,\n\t\t\t\t\t\t\t\tvisible: child.value === id,\n\t\t\t\t\t\t\t\tchecked: child.value === id ? !child.checked : child.checked,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.updateCategoriesList(categories);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate findCategoryById(id: string, categories: any[]): any {\n\t\tfor (let parent of categories) {\n\t\t\tconst necessaryChild = parent.children.find((child: any) => child.value === id);\n\n\t\t\tif (id === parent.value) {\n\t\t\t\treturn parent;\n\t\t\t}\n\n\t\t\tif (necessaryChild) {\n\t\t\t\treturn necessaryChild;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate resetCategories(): void {\n\t\tconst categories = this.categoriesSubject.getValue().map((parent) => {\n\t\t\treturn {\n\t\t\t\t...parent,\n\t\t\t\tchildren: parent.children.map((child: any) => {\n\t\t\t\t\tif (child.visible !== undefined) {\n\t\t\t\t\t\treturn { ...child, visible: true, checked: false };\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t}),\n\t\t\t};\n\t\t});\n\n\t\tthis.updateCategoriesList(categories);\n\t}\n\n\tprivate updateCategoriesSource(IDs: string[], categories: any[]): void {\n\t\tfor (let parent of categories) {\n\t\t\tif (IDs.some((id) => id === parent.value)) {\n\t\t\t\tparent.checked = !parent.checked;\n\n\t\t\t\tparent.children = parent.children.map((child: any) => {\n\t\t\t\t\tchild.checked = parent.checked;\n\t\t\t\t\treturn child;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tparent.children = parent.children.map((child: any) => {\n\t\t\t\t\tif (IDs.some((id) => id === child.value)) {\n\t\t\t\t\t\tchild.checked = !child.checked;\n\t\t\t\t\t\tparent.checked = parent.children.every((child: any) => child.checked);\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis.updateCategoriesList(categories);\n\t}\n\n\tprivate initDialogValues(data: string[]): void {\n\t\tif (this.isMultipleMode && data) {\n\t\t\tthis.updateCategoriesSource(data, this.categoriesSubject.getValue());\n\t\t} else if (!this.isMultipleMode && data.length) {\n\t\t\tthis.initCategoriesSingleMode(data[0]);\n\t\t}\n\t}\n\n\tprivate initCategoriesSingleMode(category: string): void {\n\t\tthis.categoriesSubject.next(\n\t\t\tthis.categoriesSubject.getValue().map((parent) => {\n\t\t\t\treturn {\n\t\t\t\t\t...parent,\n\t\t\t\t\tchildren: parent.children.map((child: any) => {\n\t\t\t\t\t\tif (child.visible !== undefined) {\n\t\t\t\t\t\t\treturn { ...child, visible: child.value === category, checked: child.value === category };\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn child;\n\t\t\t\t\t}),\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\t}\n\n}\n","<div class=\"modal-wrapper\">\n\t<div mat-dialog-actions>\n\t\t<div mat-dialog-close class=\"close-btn\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\n\t\t\t\t<path\n\t\t\t\t\td=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9\n     296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38\n     412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75\n     0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5\n     45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0\n     45.25l-105.4 105.4L310.6 361.4z\" />\n\t\t\t</svg>\n\t\t</div>\n\t</div>\n\n\t<div mat-dialog-content>\n\t\t<div mat-dialog-title class=\"title\">Select the product you deal with</div>\n\t\t<div class=\"tab-demo\">\n\t\t\t<mat-tab-group [(selectedIndex)]=\"demo1TabIndex\">\n\t\t\t\t<div *ngFor=\"let category of categories$ | async; let i = index\" class=\"tabs-wrapper\">\n\t\t\t\t\t<mat-tab [label]=\"category.text\">\n\t\t\t\t\t\t<b2b-categories-modal-list\n\t\t\t\t\t\t\t[categoriesList]=\"category.children\"\n\t\t\t\t\t\t\t[isParentCategoryChecked]=\"category.checked\"\n\t\t\t\t\t\t\t[isMultipleMode]=\"isMultipleMode\"\n\t\t\t\t\t\t\t(selectedId)=\"onChangeSelectedId($event)\">\n\t\t\t\t\t\t</b2b-categories-modal-list>\n\t\t\t\t\t</mat-tab>\n\t\t\t\t</div>\n\t\t\t</mat-tab-group>\n\t\t</div>\n\t\t<div class=\"modal-footer\">\n\t\t\t<div class=\"footer-text\">Follow at least 1 product to continue</div>\n\t\t\t<button (click)=\"save()\" b2bNgxButton [theme]=\"B2bNgxButtonThemeEnum.BACKGROUND_BLUE\">Save</button>\n\t\t</div>\n\t</div>\n</div>\n","import {ChangeDetectionStrategy, Component, EventEmitter, forwardRef, Input, OnInit, Output} from \"@angular/core\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {CategoriesPopupComponent} from \"../categories-popup-component/categories-popup.component\";\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR, ValidationErrors} from \"@angular/forms\";\nimport {BehaviorSubject, filter, Observable} from \"rxjs\";\nimport {CategoriesService} from \"../../../../../src/app/client/services/categories/categories.service\";\nimport {first} from \"rxjs/operators\";\nimport {B2bNgxSelectThemeEnum} from \"@b2b/ngx-select\";\n\n@Component({\n\tselector: \"b2b-categories-dialog\",\n\ttemplateUrl: \"./categories-dialog.component.html\",\n\tstyleUrls: [\"./categories-dialog.component.scss\"],\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: forwardRef(() => CategoriesDialogComponent),\n\t\t\tmulti: true\n\t\t}\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CategoriesDialogComponent implements ControlValueAccessor {\n  @Output() categoryName = new EventEmitter<string>();\n\t@Input() required?: boolean;\n\t@Input() multiple?: boolean;\n\t@Input() theme: B2bNgxSelectThemeEnum = B2bNgxSelectThemeEnum.BACKGROUND_TRANSPARENT;\n\t@Input() disableClose?: boolean;\n\t@Input() placeholder: string = 'Product categories';\n\t@Input() touched?: boolean;\n\t@Input() controlIsValid: boolean;\n\t@Input() errors: ValidationErrors;\n\n\tprivate categoriesPlaceholderSource: BehaviorSubject<string> = new BehaviorSubject<string>('');\n\tprivate lastValue: string[] = [];\n\n\tconstructor(\n\t\tprivate dialog: MatDialog,\n\t\tprivate categoriesService: CategoriesService,\n\t) {\n\t}\n\n  public get categoriesPlaceholder$(): Observable<string> {\n\t\treturn this.categoriesPlaceholderSource.asObservable();\n\t}\n\n\tpublic writeValue(value: any): void {\n\t\tif (value === null || !value) {\n\t\t\tthis.categoriesPlaceholderSource.next(this.placeholder);\n\t\t\tthis.lastValue = [];\n\t\t} else if (typeof value === 'string') {\n\t\t\tthis.updateCategoriesPlaceholder([value]);\n\t\t\tthis.lastValue = [value];\n\t\t} else if (value.length) {\n\t\t\tthis.updateCategoriesPlaceholder(value[0]);\n\t\t\tthis.lastValue = value;\n\t\t} else if (!value.length || !this.categoriesPlaceholderSource.getValue()) {\n\t\t\tthis.categoriesPlaceholderSource.next(this.placeholder);\n\t\t}\n\t}\n\n\tpublic onChange?: (value: any) => void;\n\tpublic onTouched?: () => void;\n\n\tpublic registerOnChange(fn: (value: any) => void): void {\n\t\tthis.onChange = fn;\n\t}\n\n\tpublic registerOnTouched(fn: () => void): void {\n\t\tthis.onTouched = fn;\n\t}\n\n\tpublic openCategoriesDialog(): void {\n\t\tthis.dialog.open(CategoriesPopupComponent, {\n\t\t\tdisableClose: this.disableClose,\n\t\t\tdata: {\n\t\t\t\tselectedCategories: this.lastValue,\n\t\t\t\trequired: this.required,\n\t\t\t\tmultiple: this.multiple,\n\t\t\t}\n\t\t})\n\t\t\t.afterClosed()\n\t\t\t.subscribe(categoriesList => {\n\t\t\t\tif (categoriesList.categories.length) {\n\t\t\t\t\tthis.categoriesPlaceholderSource.next(`${categoriesList.placeholder.join(\", \")}...`);\n\t\t\t\t\tthis.lastValue = categoriesList.categories.map((category: any) => category.value);\n\t\t\t\t\tthis.onChange(categoriesList.categories.map((category: any) => category.value));\n\t\t\t\t} else {\n\t\t\t\t\tthis.categoriesPlaceholderSource.next(this.placeholder);\n\t\t\t\t\tthis.onChange([]);\n\t\t\t\t\tthis.lastValue = [];\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate updateCategoriesPlaceholder(value: string | any[]): void {\n\t\tif (typeof value === 'string') {\n\t\t\tthis.categoriesService.getCategoryNameById(value).pipe(filter(data => !!data), first()).subscribe(categoryName => {\n\t\t\t\tthis.categoriesPlaceholderSource.next(categoryName);\n        this.categoryName.emit(categoryName);\n\t\t\t})\n\t\t} else if (Array.isArray(value)) {\n\t\t\tthis.categoriesService.getCategoryNameById(value[0]).pipe(filter(data => !!data), first()).subscribe(categoryName => {\n\t\t\t\tthis.categoriesPlaceholderSource.next(categoryName);\n        this.categoryName.emit(categoryName);\n\t\t\t})\n\t\t}\n\t}\n}\n","<b2b-ngx-select\n\t(click)=\"openCategoriesDialog()\"\n\t[isOpen]=\"false\"\n\t[placeholder]=\"categoriesPlaceholder$ | async\"\n\t[theme]=\"theme\"\n\t[touched]=\"touched\"\n\t[errors]=\"errors\">\n\t<ng-content></ng-content>\n</b2b-ngx-select>\n","/*\n * Public API Surface of categories-modal\n */\n\nexport * from './lib/categories-dialog.module';\nexport * from './lib/layout/categories-dialog.component';\n","export enum dropdownLabels {\n\tRESTORE = \"Restore\",\n\tARCHIVE = \"Archive\",\n\tDELETE = \"Delete\",\n\tEDIT = \"Edit\",\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output } from \"@angular/core\";\nimport { fromEvent } from \"rxjs\";\nimport { UntilDestroy, untilDestroyed } from \"@ngneat/until-destroy\";\nimport { filter, skip } from \"rxjs/operators\";\nimport { dropdownLabels } from \"../dropdown-labels.enum\";\n\n@UntilDestroy()\n@Component({\n\tselector: \"b2b-ngx-dropdown\",\n\ttemplateUrl: \"./ngx-dropdown.component.html\",\n\tstyleUrls: [\"./ngx-dropdown.component.scss\"],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class B2bNgxDropdownComponent {\n\t@Input() options: any[];\n\t@Input() requiredOptionToCheck: Array<any>;\n\t@Input() className: string;\n\t@Input() optionToReturn: any;\n\t@Output() toggleOptionClick: EventEmitter<{}>;\n\tpublic isMenuShow: boolean;\n\n\tconstructor(private readonly changeDetection: ChangeDetectorRef) {\n\t\tthis.isMenuShow = false;\n\t\tthis.toggleOptionClick = new EventEmitter<{}>();\n\t}\n\n\tpublic callOptionFunc(event: MouseEvent, option: { onClick: (arg0: any, arg1: any[]) => void; }) {\n\t\tthis.isMenuShow = false;\n\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\n\t\toption.onClick(this.optionToReturn || option, this.requiredOptionToCheck);\n\t}\n\n\tpublic get menuClassName() {\n\t\tconst defaultStyles = ``;\n\n\t\treturn `${this.className} ${defaultStyles}`;\n\t}\n\n\tpublic subscribeOnClickOutside(container: { contains: (arg0: EventTarget) => any; }) {\n\t\tconst subscription = fromEvent(document, \"click\")\n\t\t\t.pipe(\n\t\t\t\tskip(1),\n\t\t\t\tuntilDestroyed(this),\n\t\t\t\tfilter((clicked) => !container.contains(clicked.target))\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.isMenuShow = false;\n\t\t\t\tthis.changeDetection.detectChanges();\n\t\t\t\tsubscription.unsubscribe();\n\t\t\t});\n\t}\n\n\tpublic showMenu(event: MouseEvent, container: any) {\n\t\tthis.isMenuShow = !this.isMenuShow;\n\n\t\tevent.stopImmediatePropagation();\n\t\tevent.preventDefault();\n\n\t\tif (this.isMenuShow) {\n\t\t\tthis.subscribeOnClickOutside(container);\n\t\t}\n\n\t\treturn;\n\t}\n}\n","<div class=\"ngx-dropdown-container\" #container>\n\t<div (click)=\"showMenu($event, container)\">\n\t\t<ng-content></ng-content>\n\t</div>\n\n\t<ul *ngIf=\"isMenuShow\" class=\"ngx-dropdown\">\n\t\t<li *ngFor=\"let option of options\">\n      <button b2bNgxButton class=\"ngx-dropdown-button\" (click)=\"callOptionFunc($event, option)\">\n        <img b2bNgxIcon class=\"ngx-dropdown-button-icon\" [name]=\"option.icon\" />\n        <span [class]=\"option.className + ' ngx-dropdown-text'\">{{ option.label }}</span>\n      </button>\n\t\t</li>\n\t</ul>\n</div>\n","import { NgModule } from '@angular/core';\nimport { B2bNgxDropdownComponent } from './layout/ngx-dropdown.component';\nimport {CommonModule, NgForOf, NgIf} from \"@angular/common\";\nimport {B2bNgxButtonModule} from \"@b2b/ngx-button\";\nimport {B2bNgxImageModule} from \"@b2b/ngx-image\";\nimport {B2bNgxIconModule} from \"@b2b/ngx-icon\";\n\n\n\n@NgModule({\n  declarations: [\n    B2bNgxDropdownComponent\n  ],\n  imports: [\n    CommonModule,\n    B2bNgxButtonModule,\n    B2bNgxIconModule\n  ],\n  exports: [\n    B2bNgxDropdownComponent\n  ]\n})\nexport class B2bNgxDropdownModule { }\n","export * from './lib/layout/ngx-dropdown.component';\nexport * from './lib/ngx-dropdown.module';\nexport * from './lib/dropdown-labels.enum';\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\n\n@Component({\n\tselector: \"b2b-ngx-pagination\",\n\ttemplateUrl: \"./ngx-pagination.component.html\",\n\tstyleUrls: [\"./ngx-pagination.component.scss\"],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class B2bNgxPaginationComponent {\n\t@Input() length: number;\n\t@Input() perPage: number;\n\t@Output() togglePageNumber: EventEmitter<number>;\n\t@Input() currentPage?: number = 1;\n\t// public currentPage: number;\n\n\tconstructor() {\n\t\tthis.togglePageNumber = new EventEmitter<number>();\n\t\tthis.currentPage = 1;\n\t\tthis.togglePage(1);\n\t}\n\tpublic get options() {\n\t\tif (!this.length || !this.perPage) {\n\t\t\treturn [];\n\t\t}\n\t\tconst count = this.length / this.perPage;\n\t\tconst emptyArray = new Array(Math.ceil(count)).fill(null);\n\t\treturn emptyArray.map((item, index) => ({\n\t\t\tlabel: index + 1,\n\t\t\tvalue: index + 1,\n\t\t}));\n\t}\n\n\tpublic togglePage(number: number) {\n\t\tif (number === this.currentPage) {\n\t\t\treturn;\n\t\t}\n\t\tthis.currentPage = number;\n\t\tthis.togglePageNumber.emit(number);\n\t}\n\n\tpublic togglePrevPage() {\n\t\tif (this.currentPage === 1) {\n\t\t\treturn;\n\t\t}\n\t\tthis.currentPage = this.currentPage - 1;\n\t\tthis.togglePageNumber.emit(this.currentPage);\n\t}\n\n\tpublic toggleNextPage() {\n\t\tif (this.currentPage === this.options.length) {\n\t\t\treturn;\n\t\t}\n\t\tthis.currentPage = this.currentPage + 1;\n\t\tthis.togglePageNumber.emit(this.currentPage);\n\t}\n}\n","<ul class=\"ngx-pagination\">\n\t<li\n\t\t*ngFor=\"let option of options\"\n\t\tclass=\"ngx-pagination-item\"\n\t\t[class.active]=\"currentPage === option.label\"\n\t\t(click)=\"togglePage(option.value)\">\n\t\t{{ option.label }}\n\t</li>\n</ul>\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { B2bNgxPaginationComponent } from \"./layout/ngx-pagination.component\";\n\n@NgModule({\n\timports: [CommonModule],\n\tdeclarations: [B2bNgxPaginationComponent],\n\texports: [B2bNgxPaginationComponent],\n})\nexport class B2bNgxPaginationModule {}\n","export * from './lib/ngx-pagination.module';\nexport * from './lib/layout/ngx-pagination.component';\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { B2bNgxSelectComponent } from \"./layout/ngx-select.component\";\nimport { NgSelectModule } from \"@ng-select/ng-select\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\n\n@NgModule({\n\timports: [CommonModule, NgSelectModule, ReactiveFormsModule],\n\tdeclarations: [B2bNgxSelectComponent],\n\texports: [B2bNgxSelectComponent],\n})\nexport class B2bNgxSelectModule {}\n","import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tEventEmitter,\n\tforwardRef,\n\tInput,\n\tOnChanges,\n\tOnInit,\n\tOutput,\n\tSimpleChanges,\n} from \"@angular/core\";\nimport {ControlValueAccessor, FormControl, NG_VALIDATORS, NG_VALUE_ACCESSOR, ValidationErrors} from \"@angular/forms\";\n// import { FormControl } from \"@ngneat/reactive-forms\";\n// import { UntilDestroy, untilDestroyed } from \"@ngneat/until-destroy\";\nimport { idGenerator } from \"@b2b/id-generator\";\n\n// @UntilDestroy()\n@Component({\n\tselector: \"b2b-ngx-toggle\",\n\ttemplateUrl: \"./ngx-toggle.component.html\",\n\tstyleUrls: [\"./ngx-toggle.component.scss\"],\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: forwardRef(() => B2bNgxToggleComponent),\n\t\t\tmulti: true,\n\t\t},\n\t\t{\n\t\t\tprovide: NG_VALIDATORS,\n\t\t\tuseExisting: forwardRef(() => B2bNgxToggleComponent),\n\t\t\tmulti: true,\n\t\t},\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class B2bNgxToggleComponent implements ControlValueAccessor, OnInit, OnChanges {\n\t@Input() public placeholder: string = '';\n\n\t@Input() errors: ValidationErrors = {};\n\n\t@Input() customLabel: string = '';\n\n\t@Input() emptyLabel: boolean = false;\n\n\t// TODO: remove this input and create input for custom styles for input instead\n\t@Input() subcategories: boolean = false;\n\n\t@Input() toggled: boolean = false;\n\n\t@Output() change: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n\tpublic readonly type: string;\n\n\tpublic readonly formControl: FormControl<boolean | null>;\n\tpublic readonly id: string;\n\n\tprivate onChange: (value: boolean | null) => void;\n\tprivate onTouched: () => void;\n\n\tconstructor(private readonly _changeDetectorRef: ChangeDetectorRef) {\n\t\tthis.type = \"checkbox\";\n\n\t\tthis.onChange = () => null;\n\t\tthis.onTouched = () => null;\n\n\t\tthis.formControl = new FormControl<boolean>(false);\n\t\tthis.id = idGenerator();\n\t}\n\n\tpublic get error(): string {\n\t\tif (!this.errors) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tconst firstErrorKey = Object.keys(this.errors)[0];\n\n\t\treturn this.errors[firstErrorKey] as string;\n\t}\n\n\tpublic ngOnInit(): void {\n\t\tthis.subscribeOnValueChanges();\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\tif (changes['errors']) {\n\t\t\tthis.formControl.setErrors(changes['errors'].currentValue);\n\t\t}\n\t}\n\n\tpublic validate(): ValidationErrors | null {\n\t\treturn this.formControl.errors;\n\t}\n\n\tprivate subscribeOnValueChanges(): void {\n\t\tthis.formControl.valueChanges.pipe().subscribe((value) => {\n\t\t\tthis.onChange(value);\n\t\t});\n\t}\n\n\tpublic registerOnChange(fn: (value: boolean | null) => void): void {\n\t\tthis.onChange = fn;\n\t}\n\n\tpublic registerOnTouched(fn: () => void): void {\n\t\tthis.onTouched = fn;\n\t}\n\n\tpublic writeValue(value: boolean): void {\n\t\tthis.formControl.setValue(value, { emitEvent: false });\n\t\tthis.toggled = value;\n\t\tthis._changeDetectorRef.detectChanges();\n\t}\n\n\tpublic setDisabledState(isDisabled: boolean): void {\n\t\tif (isDisabled) {\n\t\t\tthis.formControl.disable();\n\t\t} else {\n\t\t\tthis.formControl.enable();\n\t\t}\n\t}\n\n\tpublic emitToggleChange(): void {\n\t\tthis.toggled = !this.toggled;\n\t\tthis.change.emit();\n\t}\n}\n","<label class=\"ngx-toggle\"\n[class.subcategories]=\"subcategories\"\n>\n\t<ng-container *ngIf=\"!emptyLabel\">\n\t\t<span class=\"ngx-toggle-label-visible\" *ngIf=\"!customLabel && formControl.value\">Visible</span>\n\t\t<span class=\"ngx-toggle-label-hidden\" *ngIf=\"!customLabel && !formControl.value\">Hidden</span>\n\t\t<span class=\"ngx-toggle-label-hidden\" *ngIf=\"customLabel\">{{ customLabel }}</span>\n\t</ng-container>\n\t<input\n\t\t[formControl]=\"formControl\"\n\t\tclass=\"ngx-toggle-input\"\n\t\t(click)=\"emitToggleChange()\"\n\t\ttype=\"checkbox\"\n\t\t[(ngModel)]=\"toggled\" />\n\t\t<span class=\"ngx-toggle-custom-input\"></span>\n</label>\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { B2bNgxToggleComponent } from \"./layout/ngx-toggle.component\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\n\n@NgModule({\n\timports: [CommonModule, ReactiveFormsModule],\n\tdeclarations: [B2bNgxToggleComponent],\n\texports: [B2bNgxToggleComponent],\n})\nexport class B2bNgxToggleModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'lib-shared',\n  template: `\n    <p>\n      shared works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class SharedComponent {\n\n}\n","import { NgModule } from '@angular/core';\nimport { SharedComponent } from './shared.component';\n\n\n\n@NgModule({\n  declarations: [\n    SharedComponent\n  ],\n  imports: [\n  ],\n  exports: [\n    SharedComponent\n  ]\n})\nexport class SharedModule { }\n","import { RouterModule, Routes } from \"@angular/router\";\nimport { NgModule } from \"@angular/core\";\nimport { AdminMarketplaceComponent } from \"./admin-marketplace.component\";\nimport { AdminSupplierProductListComponent } from \"./components/admin-supplier-product-list/admin-supplier-product-list.component\";\n\nconst routes: Routes = [\n\t{\n\t\tpath: \"\",\n\t\tcomponent: AdminMarketplaceComponent,\n\t},\n\t{\n\t\tpath: \"supplier/:id\",\n\t\tcomponent: AdminSupplierProductListComponent,\n\t},\n];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule],\n})\nexport class AdminMarketplaceRoutingModule {}\n","import {Component, OnInit} from \"@angular/core\";\nimport {UntilDestroy, untilDestroyed} from \"@ngneat/until-destroy\";\nimport {BehaviorSubject, Observable} from \"rxjs\";\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\n\nenum VisibleListEnum {\n\tDEFAULT,\n\tPRODUCTS,\n\tCOMPANIES\n}\n\n@UntilDestroy()\n@Component({\n\tselector: \"b2b-admin-marketplace\",\n\ttemplateUrl: \"./admin-marketplace.component.html\",\n\tstyleUrls: [\"./admin-marketplace.component.scss\"],\n})\nexport class AdminMarketplaceComponent implements OnInit {\n\tpublic form: FormGroup = this.fb.group({\n\t\tactiveSelection: 'categories',\n\t});\n\tpublic VisibleListEnum = VisibleListEnum;\n\tpublic dropdownOptions = [\n\t\t{\n\t\t\tlabel: 'Find by product category',\n\t\t\tid: 'categories',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Find by company name',\n\t\t\tid: 'products'\n\t\t}\n\t];\n\tprivate activeSelectionSource: BehaviorSubject<VisibleListEnum> = new BehaviorSubject<VisibleListEnum>(VisibleListEnum.DEFAULT);\n\t\tconstructor(private fb: FormBuilder) {\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.activeSelectionSource.next(VisibleListEnum.PRODUCTS);\n\t\t\tthis.form.get('activeSelection').valueChanges.subscribe((listType: any) => {\n\t\t\t\tswitch (listType) {\n\t\t\t\t\tcase 'products':\n\t\t\t\t\t\tthis.activeSelectionSource.next(VisibleListEnum.COMPANIES)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'categories':\n\t\t\t\t\t\tthis.activeSelectionSource.next(VisibleListEnum.PRODUCTS);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tpublic get activeSelection$(): Observable<VisibleListEnum> {\n\t\t\treturn this.activeSelectionSource.asObservable();\n\t\t}\n}\n","<form [formGroup]=\"form\">\n\t<b2b-ngx-select formControlName=\"activeSelection\" [options]=\"dropdownOptions\" placeholder=\"Select option\" bindValue=\"id\" bindLabel=\"label\">\n\t\tSelect option\n\t</b2b-ngx-select>\n</form>\n\n<b2b-admin-product-list *ngIf=\"(activeSelection$ | async) === VisibleListEnum.PRODUCTS\"></b2b-admin-product-list>\n<b2b-admin-companies-list *ngIf=\"(activeSelection$ | async) === VisibleListEnum.COMPANIES\"></b2b-admin-companies-list>\n","import { NgModule } from \"@angular/core\";\nimport { AdminMarketplaceComponent } from \"./admin-marketplace.component\";\nimport { AdminMarketplaceRoutingModule } from \"./admin-marketplace-routing.module\";\nimport { B2bNgxPaginationModule } from \"@b2b/ngx-pagination\";\nimport { CommonModule } from \"@angular/common\";\nimport { B2bNgxImageModule } from \"@b2b/ngx-image\";\nimport { B2bNgxDropdownModule } from \"@b2b/ngx-dropdown\";\nimport { B2bNgxButtonModule } from \"@b2b/ngx-button\";\nimport { B2bNgxIconModule } from \"@b2b/ngx-icon\";\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { B2bNgxInputModule } from \"@b2b/ngx-input\";\nimport { AdminSupplierProductListComponent } from \"./components/admin-supplier-product-list/admin-supplier-product-list.component\";\nimport {B2bNgxSelectModule} from \"@b2b/ngx-select\";\nimport { AdminProductListComponent } from './components/admin-product-list/admin-product-list.component';\nimport { AdminCompaniesListComponent } from './components/admin-companies-list/admin-companies-list.component';\nimport {SharedModule} from \"@b2b/shared\";\nimport {CategoriesDialogModule} from \"@b2b/categories-modal\";\n\n@NgModule({\n\tdeclarations: [AdminMarketplaceComponent, AdminSupplierProductListComponent, AdminProductListComponent, AdminCompaniesListComponent],\n    imports: [\n        AdminMarketplaceRoutingModule,\n        B2bNgxPaginationModule,\n        CommonModule,\n        B2bNgxImageModule,\n        B2bNgxDropdownModule,\n        B2bNgxButtonModule,\n        B2bNgxIconModule,\n        MatDialogModule,\n        SharedModule,\n        ReactiveFormsModule,\n        B2bNgxInputModule,\n        B2bNgxSelectModule,\n        CategoriesDialogModule,\n    ],\n})\nexport class AdminMarketplaceModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {BehaviorSubject, Observable, tap} from \"rxjs\";\nimport {switchMap} from \"rxjs/operators\";\nimport {ClientMarketplaceService} from \"../../../../../client/pages/client-marketplace/client-marketplace.service\";\nimport {PaginationParamsModel} from \"../../../../../core/models/pagination-params.model\";\nimport {B2bNgxInputThemeEnum} from \"@b2b/ngx-input\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\n\n@Component({\n\tselector: 'b2b-admin-companies-list',\n\ttemplateUrl: './admin-companies-list.component.html',\n\tstyleUrls: ['./admin-companies-list.component.scss']\n})\nexport class AdminCompaniesListComponent implements OnInit {\n\tpublic PRODUCTS_LIMIT = this.marketService.PRODUCTS_LIMIT;\n\tpublic b2bNgxInputThemeEnum = B2bNgxInputThemeEnum;\n\tpublic form: FormGroup = this.fb.group({\n\t\tq: '',\n\t});\n\n\tprivate paginationParams: PaginationParamsModel = {offset: 0, limit: this.PRODUCTS_LIMIT}\n\tprivate companyListSource: BehaviorSubject<any[]> = new BehaviorSubject<any[]>([]);\n\tprivate companyListLengthSource: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n\n\tconstructor(private fb: FormBuilder,\n\t\t\t\t\t\t\tprivate marketService: ClientMarketplaceService,\n\t\t\t\t\t\t\tprivate router: Router,\n\t\t\t\t\t\t\tprivate route: ActivatedRoute) {\n\t}\n\n\tpublic get companyList$(): Observable<any[]> {\n\t\treturn this.companyListSource.asObservable()\n\t}\n\n\tpublic get companyListLength$(): Observable<number> {\n\t\treturn this.companyListLengthSource.asObservable()\n\t}\n\n\tngOnInit(): void {\n\t\tthis.form\n\t\t\t.get(\"q\")\n\t\t\t.valueChanges.pipe(\n\t\t\tswitchMap((value) => this.marketService.getCompanyByName(value, this.paginationParams))\n\t\t)\n\t\t\t.subscribe((value: { companies: any[]; totalCount: number; }) => {\n\t\t\t\tthis.companyListSource.next(value.companies);\n\t\t\t\tthis.companyListLengthSource.next(value.totalCount);\n\t\t\t});\n\t}\n\n\tpublic redirectToProductDetails(product: any): void {\n\t\tthis.router.navigate([\"/b2bmarket\", \"products\", product._id]);\n\t}\n\n\n\ttoggleCompaniesPage(pageNumber: number) {\n\t\tthis.paginationParams = {...this.paginationParams, offset: (pageNumber - 1) * this.PRODUCTS_LIMIT};\n\t\tthis.marketService.getCompanyByName(this.form.get('q').value, this.paginationParams).subscribe(data => {\n\t\t\tthis.companyListSource.next(data.companies);\n\t\t});\n\t}\n\n\tgoToSupplierListing(userId: string): void {\n\t\tthis.router.navigate(['supplier', userId], {\n\t\t\trelativeTo: this.route\n\t\t})\n\t}\n}\n","<form [formGroup]=\"form\">\n\t<input type=\"text\"\n\t\t\t\t formControlName=\"q\"\n\t\t\t\t b2bNgxInput\n\t\t\t\t [theme]=\"b2bNgxInputThemeEnum.BACKGROUND_WHITE\"\n\t\t\t\t placeholder=\"Enter name of company\">\n</form>\n\n<ul class=\"market-products\">\n\t<li *ngFor=\"let company of companyList$ | async\" class=\"product\" (click)=\"goToSupplierListing(company.user)\">\n\t\t<div class=\"info\">\n\t\t\t<div class=\"info-header\">\n\t\t\t\t<div class=\"product-title\">{{ company.companyName }}</div>\n\t\t\t\t<div class=\"product-views\">\n\t\t\t\t\t<div class=\"d-flex flex-column mr-4\">\n\t\t\t\t\t\t{{company.countProducts}}\n\t\t\t\t\t\t<img b2bNgxIcon name=\"box\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"d-flex flex-column\">\n\t\t\t\t\t\t{{company.countChats}}\n\t\t\t\t\t\t<img b2bNgxIcon name=\"chat\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</li>\n</ul>\n\n\n<b2b-ngx-pagination\n\t[length]=\"companyListLength$ | async\"\n\t[perPage]=\"PRODUCTS_LIMIT\"\n\t(togglePageNumber)=\"toggleCompaniesPage($event)\"></b2b-ngx-pagination>\n","import {Component, OnInit} from '@angular/core';\nimport {CategoriesService} from \"../../../../../client/services/categories/categories.service\";\nimport {ClientMarketplaceService} from \"../../../../../client/pages/client-marketplace/client-marketplace.service\";\nimport {PaginationParamsModel} from \"../../../../../core/models/pagination-params.model\";\nimport {Observable} from \"rxjs\";\nimport {Router} from \"@angular/router\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport { ConfirmationDialogComponent} from \"../../../../../client/shared/components/confirmation-dialog/confirmation-dialog.component\";\nimport {B2bNgxButtonThemeEnum} from \"@b2b/ngx-button\";\nimport {filter} from \"rxjs/operators\";\nimport {HotToastService} from \"@ngneat/hot-toast\";\nimport {UntilDestroy, untilDestroyed} from \"@ngneat/until-destroy\";\nimport {UserService} from \"../../../../../client/pages/client-profile/services/user/user.service\";\nimport {io} from \"socket.io-client\";\nimport {environment} from \"../../../../../../environments/environment\";\nimport {MixpanelService} from \"../../../../../core/services/mixpanel/mixpanel.service\";\nimport {Category} from \"../../../../../core/models/category.model\";\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\nimport {getName} from \"country-list\";\n\n@UntilDestroy()\n@Component({\n\tselector: 'b2b-admin-product-list',\n\ttemplateUrl: './admin-product-list.component.html',\n\tstyleUrls: ['./admin-product-list.component.scss']\n})\nexport class AdminProductListComponent implements OnInit {\n\tpublic readonly PRODUCTS_LIMIT = this.marketService.PRODUCTS_LIMIT;\n\tpublic products$: Observable<any> = this.marketService.marketplaceProducts$;\n\tpublic productsLength$: Observable<number> = this.marketService.marketplaceProductsLength$;\n\tpublic form: FormGroup = this.fb.group({\n\t\t'categories[]': [[]],\n\t});\n\tpublic menuOptions = this.getMenuOptions();\n\tprivate filteredQueryObj: PaginationParamsModel = {limit: this.PRODUCTS_LIMIT, offset: 0};\n\tprivate socket: any;\n\n\tconstructor(private fb: FormBuilder,\n\t\t\t\t\t\t\tprivate categoriesService: CategoriesService,\n\t\t\t\t\t\t\tprivate marketService: ClientMarketplaceService,\n\t\t\t\t\t\t\tprivate router: Router,\n\t\t\t\t\t\t\tprivate dialog: MatDialog,\n\t\t\t\t\t\t\tprivate hotToastService: HotToastService,\n\t\t\t\t\t\t\tprivate userService: UserService,\n\t\t\t\t\t\t\tprivate readonly mixpanelService: MixpanelService) {\n\t}\n\n\tngOnInit(): void {\n\t\tthis.categoriesService.getCategories$();\n\t\tthis.marketService.updateProductsByAdmin(this.filteredQueryObj)\n\n\t\tthis.form.get('categories[]').valueChanges.subscribe((categories: Category[]) => {\n\t\t\tthis.marketService.updateProductsByAdmin(this.filteredQueryObj, {'categories[]': categories})\n\t\t});\n\t}\n\n\tpublic redirectToProductDetails(product: any): void {\n\t\tthis.router.navigate([\"/b2bmarket\", \"products\", product._id]);\n\t}\n\n\n\tprivate getMenuOptions() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: \"Delete\",\n\t\t\t\ticon: \"delete-red\",\n\t\t\t\tonClick: (marketplaceItem: { category: { name: any; }[]; company: { country: any; }[]; amount: { count: string; unit: { name: string; }; }; updatedAt: any; _id: string; }) => {\n\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t.open(ConfirmationDialogComponent, {\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\ttitle: \"Delete product\",\n\t\t\t\t\t\t\t\tmessage: \"Are you sure you want to delete this product?\",\n\t\t\t\t\t\t\t\tconfirmButtonText: \"Delete\",\n\t\t\t\t\t\t\t\tconfirmButtonTheme: B2bNgxButtonThemeEnum.BACKGROUND_RED,\n\t\t\t\t\t\t\t\tcancelButtonText: \"Cancel\",\n\t\t\t\t\t\t\t\tcancelButtonTheme: B2bNgxButtonThemeEnum.OUTLINE_BLACK,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t.pipe(filter((data) => !!data))\n\t\t\t\t\t\t.subscribe(() => {\n\t\t\t\t\t\t\tthis.mixpanelService.track('Admin deleted users the product', {\n\t\t\t\t\t\t\t\t'Product Category': marketplaceItem.category[0]?.name,\n\t\t\t\t\t\t\t\t'Supplier\\'s Country': marketplaceItem.company[0]?.country,\n\t\t\t\t\t\t\t\t'Product Count': marketplaceItem.amount.count + ' ' + marketplaceItem.amount.unit.name,\n\t\t\t\t\t\t\t\t'Posting Date': marketplaceItem.updatedAt\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.deleteProductByAdmin(marketplaceItem._id);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Archive\",\n\t\t\t\ticon: 'archive-red',\n\t\t\t\tonClick: (marketplaceItem: { _id: string; category: { name: any; }[]; company: { country: any; }[]; amount: { count: string; unit: { name: string; }; }; updatedAt: any; }) => {\n\t\t\t\t\tthis.archiveProductByAdmin(marketplaceItem._id);\n\t\t\t\t\tthis.mixpanelService.track('Admin archived users the product', {\n\t\t\t\t\t\t'Product Category': marketplaceItem.category[0]?.name,\n\t\t\t\t\t\t'Supplier\\'s Country': marketplaceItem.company[0]?.country,\n\t\t\t\t\t\t'Product Count': marketplaceItem.amount.count + ' ' + marketplaceItem.amount.unit.name,\n\t\t\t\t\t\t'Posting Date': marketplaceItem.updatedAt\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Report supplier\",\n\t\t\t\ticon: 'contact-user',\n\t\t\t\tonClick: (marketplaceItem: { user: string; }) => this.reportSupplier(marketplaceItem.user),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"approve by admin\",\n\t\t\t\ticon: \"check\",\n\t\t\t\tonClick: (offer: { _id: string; category: { name: any; }[]; company: { country: any; }[]; amount: { count: string; unit: { name: string; }; }; updatedAt: any; }) => {\n\t\t\t\t\tthis.marketService\n\t\t\t\t\t\t.approveProductByAdmin(offer._id)\n\t\t\t\t\t\t.pipe(untilDestroyed(this))\n\t\t\t\t\t\t.subscribe(() => {\n\t\t\t\t\t\t\tthis.mixpanelService.track('Admin approved user product', {\n\t\t\t\t\t\t\t\t'Product Category': offer.category[0]?.name,\n\t\t\t\t\t\t\t\t'Supplier\\'s Country': offer.company[0]?.country,\n\t\t\t\t\t\t\t\t'Product Count': offer.amount.count + ' ' + offer.amount.unit.name,\n\t\t\t\t\t\t\t\t'Posting Date': offer.updatedAt\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.hotToastService.success(\"approved\");\n\t\t\t\t\t\t\tthis.marketService.updateProductsByAdmin(this.filteredQueryObj)\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"decline by admin\",\n\t\t\t\ticon: \"cross\",\n\t\t\t\tonClick: (offer: { _id: string; category: { name: any; }[]; company: { country: any; }[]; amount: { count: string; unit: { name: string; }; }; updatedAt: any; }) => {\n\t\t\t\t\tthis.marketService\n\t\t\t\t\t\t.declineProductByAdmin(offer._id)\n\t\t\t\t\t\t.pipe(untilDestroyed(this))\n\t\t\t\t\t\t.subscribe(() => {\n\t\t\t\t\t\t\tthis.mixpanelService.track('Product declined', {\n\t\t\t\t\t\t\t\t'Product Category': offer.category[0]?.name,\n\t\t\t\t\t\t\t\t'Supplier\\'s Country': getName(offer.company[0]?.country),\n\t\t\t\t\t\t\t\t'Product Count': offer.amount.count + ' ' + offer.amount.unit.name,\n\t\t\t\t\t\t\t\t'Product declined': offer.updatedAt\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.hotToastService.success(\"declined\");\n\t\t\t\t\t\t\tthis.marketService.updateProductsByAdmin(this.filteredQueryObj);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n\n\tprivate deleteProductByAdmin(id: string): void {\n\t\tthis.marketService\n\t\t\t.deleteProductByAdmin(id)\n\t\t\t.pipe(\n\t\t\t\tuntilDestroyed(this),\n\t\t\t\tthis.hotToastService.observe({\n\t\t\t\t\tloading: \"Deleting...\",\n\t\t\t\t\tsuccess: \"Deleted successfully\",\n\t\t\t\t\terror: \"Error while deleting\",\n\t\t\t\t})\n\t\t\t)\n\t\t\t.subscribe();\n\t}\n\n\tprivate archiveProductByAdmin(id: string): void {\n\t\tthis.marketService\n\t\t\t.archiveProductByAdmin(id)\n\t\t\t.pipe(\n\t\t\t\tuntilDestroyed(this),\n\t\t\t\tthis.hotToastService.observe({\n\t\t\t\t\tloading: \"Archiving...\",\n\t\t\t\t\tsuccess: \"Archived successfully\",\n\t\t\t\t\terror: \"Error while archiving\",\n\t\t\t\t})\n\t\t\t)\n\t\t\t.subscribe();\n\t}\n\n\tprivate reportSupplier(userId: string): void {\n\t\tthis.openConnection(this.userService.getToken());\n\t\tthis.socket.emit(\"start_users_chat\", {\n\t\t\tuserId,\n\t\t\ttypeRoom: \"users\",\n\t\t});\n\t\t-\n\t\t\tthis.socket.on(\"users_chat_info\", (data: { _id: any; }) => {\n\t\t\t\tthis.router.navigate(['profile/your-workspace/b2bmarket/chat/', data._id])\n\t\t\t});\n\t}\n\n\tprivate openConnection(token: string) {\n\t\tthis.socket = io(environment.apiUrl, {\n\t\t\tpath: \"/chat\",\n\t\t\tauth: {\n\t\t\t\ttoken\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic togglePage(page: number): void {\n\t\tthis.marketService.updateProductsByAdmin({limit: this.PRODUCTS_LIMIT, offset: (page - 1) * this.PRODUCTS_LIMIT});\n\t}\n}\n","<form [formGroup]=\"form\">\n\t<b2b-categories-dialog formControlName=\"categories[]\"></b2b-categories-dialog>\n</form>\n\n<ul class=\"market-products\">\n\t<li *ngFor=\"let product of products$ | async\" class=\"product\" (click)=\"redirectToProductDetails(product)\">\n\t\t<div class=\"info\">\n\t\t\t<div class=\"info-header\">\n\t\t\t\t<div class=\"product-title\">{{ product.title }}</div>\n\t\t\t\t<div class=\"product-status\">\n\t\t\t\t\t<span *ngIf=\"!product.productApproved && !product.productRejected\">Verification</span>\n\t\t\t\t\t<span *ngIf=\"product.productApproved\">Approved</span>\n\t\t\t\t\t<span *ngIf=\"product.productRejected\">Rejected</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"product-views\">\n\t\t\t\t\t{{product.views}}\n\t\t\t\t\t<img b2bNgxIcon name=\"eye\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"dropdown\">\n\t\t\t<b2b-ngx-dropdown [options]=\"menuOptions\" [optionToReturn]=\"product\">\n\t\t\t\t<button b2bNgxButton class=\"flex items-center\">\n\t\t\t\t\t<img b2bNgxIcon name=\"more\"/>\n\t\t\t\t</button>\n\t\t\t</b2b-ngx-dropdown>\n\t\t</div>\n\t</li>\n</ul>\n\n<b2b-ngx-pagination [length]=\"productsLength$ | async\" [perPage]=\"PRODUCTS_LIMIT\" (togglePageNumber)=\"togglePage($event)\"></b2b-ngx-pagination>\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { ClientMarketplaceService } from \"../../../../../client/pages/client-marketplace/client-marketplace.service\";\nimport { PaginationParamsModel } from \"../../../../../core/models/pagination-params.model\";\nimport { filter, Observable } from \"rxjs\";\nimport {ConfirmationDialogComponent} from \"../../../../../client/shared/components/confirmation-dialog/confirmation-dialog.component\";\nimport { B2bNgxButtonThemeEnum } from \"@b2b/ngx-button\";\nimport { untilDestroyed } from \"@ngneat/until-destroy\";\nimport { HotToastService } from \"@ngneat/hot-toast\";\nimport { MatDialog } from \"@angular/material/dialog\";\n\n@Component({\n\tselector: \"b2b-admin-supplier-product-list\",\n\ttemplateUrl: \"./admin-supplier-product-list.component.html\",\n\tstyleUrls: [\"./admin-supplier-product-list.component.scss\"],\n})\nexport class AdminSupplierProductListComponent implements OnInit {\n\tpublic marketplaceProducts$ = this.clientMarketplaceService.marketplaceProducts$;\n\tpublic productsLimit: number = this.clientMarketplaceService.PRODUCTS_LIMIT;\n\tpublic productsTotalLength$: Observable<any> = this.clientMarketplaceService.marketplaceProductsLength$;\n\tpublic menuOptions = this.getMenuOptions();\n\tprivate filteredQueryObj: PaginationParamsModel = { limit: this.productsLimit, offset: 0 };\n\n\tconstructor(\n\t\tprivate route: ActivatedRoute,\n\t\tprivate clientMarketplaceService: ClientMarketplaceService,\n\t\tprivate router: Router,\n\t\tprivate hotToastService: HotToastService,\n\t\tprivate dialog: MatDialog\n\t) {}\n\n\tngOnInit(): void {\n\t\tthis.clientMarketplaceService.updateProductsByAdmin(\n\t\t\t{ limit: 10, offset: 0 },\n\t\t\t{ supplierId: this.route.snapshot.params[\"id\"] }\n\t\t);\n\t}\n\n\tpublic togglePage(pageNumber: number): void {\n\t\tthis.filteredQueryObj = { ...this.filteredQueryObj, offset: (pageNumber - 1) * this.productsLimit };\n\t\tthis.clientMarketplaceService.updateProductsByAdmin(this.filteredQueryObj);\n\t}\n\n\tpublic redirectToProductDetails(product: any): void {\n\t\tconst queryParams = this.route.snapshot.queryParams;\n\t\tthis.router.navigate([\"/marketplace\", \"product\", product._id], {\n\t\t\tqueryParams: {\n\t\t\t\tadmin: true,\n\t\t\t\t...queryParams,\n\t\t\t},\n\t\t});\n\t}\n\tprivate getMenuOptions() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: \"Delete\",\n\t\t\t\ticon: \"delete-red\",\n\t\t\t\tonClick: (marketplaceItem: { id: string; }) => {\n\t\t\t\t\tthis.dialog\n\t\t\t\t\t\t.open(ConfirmationDialogComponent, {\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\ttitle: \"Delete product\",\n\t\t\t\t\t\t\t\tmessage: \"Are you sure you want to delete this product?\",\n\t\t\t\t\t\t\t\tconfirmButtonText: \"Delete\",\n\t\t\t\t\t\t\t\tconfirmButtonTheme: B2bNgxButtonThemeEnum.BACKGROUND_RED,\n\t\t\t\t\t\t\t\tcancelButtonText: \"Cancel\",\n\t\t\t\t\t\t\t\tcancelButtonTheme: B2bNgxButtonThemeEnum.OUTLINE_BLACK,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.afterClosed()\n\t\t\t\t\t\t.pipe(filter((data) => !!data))\n\t\t\t\t\t\t.subscribe(() => {\n\t\t\t\t\t\t\tthis.deleteProductByAdmin(marketplaceItem.id);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"approve by admin\",\n\t\t\t\ticon: \"check\",\n\t\t\t\tonClick: (marketplaceItem: { _id: string; }) => {\n\t\t\t\t\tthis.clientMarketplaceService\n\t\t\t\t\t\t.approveProductByAdmin(marketplaceItem._id)\n\t\t\t\t\t\t.pipe(\n\t\t\t\t\t\t\tuntilDestroyed(this),\n\t\t\t\t\t\t\tthis.hotToastService.observe({\n\t\t\t\t\t\t\t\tloading: \"Approving...\",\n\t\t\t\t\t\t\t\tsuccess: \"Approved successfully\",\n\t\t\t\t\t\t\t\terror: \"Approving error\",\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.subscribe();\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"decline by admin\",\n\t\t\t\ticon: \"cross\",\n\t\t\t\tonClick: (marketplaceItem: { _id: string; }) => {\n\t\t\t\t\tthis.clientMarketplaceService\n\t\t\t\t\t\t.declineProductByAdmin(marketplaceItem._id)\n\t\t\t\t\t\t.pipe(\n\t\t\t\t\t\t\tuntilDestroyed(this),\n\t\t\t\t\t\t\tthis.hotToastService.observe({\n\t\t\t\t\t\t\t\tloading: \"Declining...\",\n\t\t\t\t\t\t\t\tsuccess: \"Declined successfully\",\n\t\t\t\t\t\t\t\terror: \"Declining error\",\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.subscribe();\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n\n\tprivate deleteProductByAdmin(id: string): void {\n\t\tthis.clientMarketplaceService\n\t\t\t.deleteProductByAdmin(id)\n\t\t\t.pipe(\n\t\t\t\tuntilDestroyed(this),\n\t\t\t\tthis.hotToastService.observe({\n\t\t\t\t\tloading: \"Deleting...\",\n\t\t\t\t\tsuccess: \"Deleted successfully\",\n\t\t\t\t\terror: \"Error while deleting\",\n\t\t\t\t})\n\t\t\t)\n\t\t\t.subscribe();\n\t}\n}\n","<ul class=\"market-products\">\n\t<li *ngFor=\"let product of marketplaceProducts$ | async\" class=\"product\" (click)=\"redirectToProductDetails(product)\">\n\t\t<div class=\"photo\">\n\t\t\t<img b2bNgxImage [name]=\"product?.photos?.[0]?.lg\" class=\"product-photo\" />\n\t\t</div>\n\t\t<div class=\"info\">\n\t\t\t<div class=\"info-header\">\n\t\t\t\t<div class=\"product-title\">{{ product.title }}</div>\n\t\t\t\t<div class=\"product-views-circle\">\n\t\t\t\t\t<div class=\"product-views-amount\">{{ product.views }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div *ngIf=\"!product.productApproved && !product.productRejected\" class=\"product-status\">Need verification</div>\n\t\t\t<div *ngIf=\"product.productApproved\" class=\"product-status\">Approved by admin</div>\n\t\t\t<div *ngIf=\"product.productRejected\" class=\"product-status\">Rejected by admin</div>\n\t\t</div>\n\t\t<div class=\"dropdown\">\n\t\t\t<b2b-ngx-dropdown [options]=\"menuOptions\" [optionToReturn]=\"product\">\n\t\t\t\t<button b2bNgxButton class=\"flex items-center\">\n\t\t\t\t\t<img b2bNgxIcon name=\"more\" />\n\t\t\t\t</button>\n\t\t\t</b2b-ngx-dropdown>\n\t\t</div>\n\t</li>\n</ul>\n\n<b2b-ngx-pagination\n\t[length]=\"productsTotalLength$ | async\"\n\t[perPage]=\"productsLimit\"\n\t(togglePageNumber)=\"togglePage($event)\"></b2b-ngx-pagination>\n","import { Injectable } from \"@angular/core\";\nimport {BehaviorSubject, filter, Observable, of, share} from \"rxjs\";\nimport { ApiService } from \"../../../core/services/api/api.service\";\nimport {first, map} from \"rxjs/operators\";\nimport { PaginationParamsModel } from \"../../../core/models/pagination-params.model\";\nimport { ProductDetailsModel } from \"./models/product-details.model\";\nimport { MarketProductModel } from \"./models/market-product.model\";\nimport {HttpParams} from \"@angular/common/http\";\nimport {NgxSkeletonLoaderConfig} from \"ngx-skeleton-loader/lib/ngx-skeleton-loader-config.types\";\nimport {environment} from \"../../../../environments/environment\";\n\n@Injectable({\n\tprovidedIn: \"root\",\n})\nexport class ClientMarketplaceService {\n\tpublic readonly PRODUCTS_LIMIT = 30;\n\n\tpublic shippingMethods: string[] = [\"EXW\", \"FCA\", \"FAS\", \"FOB\", \"CFR/CIF\", \"DPU\", \"DAP\", \"DDP\"];\n\tpublic paymentMethods: string[] = [\"T/T\", \"L/C\", \"CAD\", \"Other\"];\n  \tpublic marketFilters$: BehaviorSubject<any> = new BehaviorSubject<any>([]);\n\n\tprivate marketplaceProductsSource: BehaviorSubject<MarketProductModel[]> = new BehaviorSubject<MarketProductModel[]>([]);\n\tprivate marketplaceProductsLengthSource: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n\n\tprivate manageProductsSource: BehaviorSubject<MarketProductModel[]> = new BehaviorSubject<MarketProductModel[]>([]);\n\tprivate manageProductsLengthSource: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n\n\t// private archivedProductsSource: BehaviorSubject<MarketProductModel[]> = new BehaviorSubject<MarketProductModel[]>([]);\n\t// private archivedProductsLengthSource: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n\n\tprivate chatsSource: BehaviorSubject<any[]> = new BehaviorSubject<any[]>([]);\n\tprivate chatsLengthSource: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n\n\tprivate supplierListingSource: BehaviorSubject<MarketProductModel[]> = new BehaviorSubject<MarketProductModel[]>([]);\n\tprivate supplierListingLengthSource: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n\n\tprivate loadingSource: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n\tprivate marketplaceProductViewSource: BehaviorSubject<'list' | 'grid'> = new BehaviorSubject<'list' | 'grid'>('grid');\n\tpublic marketplaceProductView$: Observable<'list' | 'grid'> = this.marketplaceProductViewSource.asObservable();\n\n\tconstructor(private apiService: ApiService) {\n\t}\n\n\tpublic get marketplaceProducts$(): Observable<any> {\n\t\treturn this.marketplaceProductsSource.asObservable();\n\t}\n\n\tpublic get marketplaceProductsLength$(): Observable<number> {\n\t\treturn this.marketplaceProductsLengthSource.asObservable();\n\t}\n\n\tpublic get manageProducts$(): Observable<any> {\n\t\treturn this.manageProductsSource.asObservable();\n\t}\n\n\tpublic get manageProductsLength$(): Observable<number> {\n\t\treturn this.manageProductsLengthSource.asObservable();\n\t}\n\n\t// public get archivedProducts$(): Observable<any> {\n\t// \treturn this.archivedProductsSource.asObservable();\n\t// }\n\t//\n\t// public get archivedProductsLength$(): Observable<number> {\n\t// \treturn this.archivedProductsLengthSource.asObservable();\n\t// }\n\n\tpublic get supplierListing$(): Observable<MarketProductModel[]> {\n\t\treturn this.supplierListingSource.asObservable();\n\t}\n\n\tpublic get supplierListingLength$(): Observable<number> {\n\t\treturn this.supplierListingLengthSource.asObservable();\n\t}\n\n\tpublic get chats$(): Observable<any[]> {\n\t\treturn this.chatsSource.asObservable();\n\t}\n\n\tpublic get chatsLength$(): Observable<number> {\n\t\treturn this.chatsLengthSource.asObservable();\n\t}\n\n\tpublic get unreadMessagesCount$(): Observable<any> {\n\t\treturn this.apiService.get(\"my/unreadProductMessagesCount\");\n\t}\n\n\tpublic get loading$(): Observable<boolean> {\n\t\treturn this.loadingSource.asObservable();\n\t}\n\n\tpublic getMarketplaceProducts(filters?: any, offset: number = 0): Observable<any> {\n\t\tthis.startLoading();\n\t\treturn this.apiService.get(\n\t\t\t`products${filters}limit=${this.PRODUCTS_LIMIT}&offset=${offset}`\n\t\t\t// \t{\n\t\t\t// \tparams: { hideSold: true, limit: this.PRODUCTS_LIMIT, offset, ...filters },\n\t\t\t// }\n\t\t);\n\t}\n\n\tpublic updateMarketplaceProductsOnSearch(data: any): void {\n\t\tthis.completeLoading();\n    // TODO: remove this condition before deploy\n\t\tthis.marketplaceProductsLengthSource.next(environment.apiUrl.includes('api-dev') ? data.result.totalCount: data.totalCount);\n\t\tthis.marketplaceProductsSource.next(environment.apiUrl.includes('api-dev') ? data.result.products : data.products);\n\t}\n\n\tpublic updateMarketplaceProducts(filters?: any, offset: number = 0): void {\n\t\tthis.getMarketplaceProducts(filters, offset)\n\t\t\t.pipe(\n\t\t\t\tfilter((data) => !!data),\n\t\t\t\tfirst()\n\t\t\t)\n\t\t\t.subscribe(({filters, result: {products, totalCount}}) => {\n\t\t\t\tthis.completeLoading();\n        // TODO: remove this condition before deploy\n\t\t\t\tthis.marketplaceProductsLengthSource.next(environment.apiUrl.includes('api-dev') ? totalCount : totalCount);\n\t\t\t\tthis.marketplaceProductsSource.next(environment.apiUrl.includes('api-dev') ? products : products);\n        this.processFilters(filters);\n\t\t\t});\n\t}\n\n\tpublic updateSupplierListing(id: string, categories: string[] = [], offset: number = 0, limit?: number): void {\n\t\tthis.apiService\n\t\t\t.get(\"products\", {\n\t\t\t\tparams: {\n\t\t\t\t\tsupplier: id,\n\t\t\t\t\tcategories,\n\t\t\t\t\tlimit: limit ?? this.PRODUCTS_LIMIT,\n\t\t\t\t\toffset\n\t\t\t\t},\n\t\t\t})\n\t\t\t.pipe(\n\t\t\t\tfilter((data) => !!data),\n\t\t\t\tfirst()\n\t\t\t)\n\t\t\t.subscribe((data: any) => {\n\t\t\t\tthis.supplierListingLengthSource.next(data.totalCount);\n\t\t\t\tthis.supplierListingSource.next(data.products);\n\t\t\t});\n\t}\n\n\tpublic updateChats(offset: number = 0): void {\n\t\tthis.startLoading();\n\t\tthis.apiService\n\t\t\t.get(\"my/chats\", {\n\t\t\t\tparams: {typeRoom: \"users,product\", offset, limit: this.PRODUCTS_LIMIT},\n\t\t\t})\n\t\t\t.pipe(\n\t\t\t\tfilter((data) => !!data),\n\t\t\t\tfirst()\n\t\t\t)\n\t\t\t.subscribe((data: any) => {\n\t\t\t\tthis.completeLoading();\n\t\t\t\tthis.chatsSource.next(data.chats);\n\t\t\t\tthis.chatsLengthSource.next(data.totalCount);\n\t\t\t});\n\t}\n\n\tpublic createProduct(product: any): Observable<any> {\n\t\treturn this.apiService.post(\"product/create\", product);\n\t}\n\n\tpublic updateProduct(id: string, product: any): Observable<any> {\n\t\treturn this.apiService.put(`product/${id}/update`, product);\n\t}\n\n\tpublic deleteProduct(id: string): Observable<any> {\n\t\treturn this.apiService.delete(`product/${id}/delete`);\n\t}\n\n\tpublic getProductById(id: string): Observable<ProductDetailsModel> {\n\t\treturn this.apiService\n\t\t\t.get<ProductDetailsModel>(`product/${id}`)\n\t\t\t.pipe(filter(data => !!data), share());\n\t}\n\n\tpublic archiveProduct(id: string): Observable<any> {\n\t\treturn this.apiService.put(`product/${id}/archive`, {});\n\t}\n\n\tpublic restoreProduct(id: string): Observable<any> {\n\t\treturn this.apiService.put(`product/${id}/activate`, {});\n\t}\n\n\tpublic approveProductByAdmin(id: string): Observable<any> {\n\t\treturn this.apiService.post<{ id: string }>(\"product/product-approval\", {id});\n\t}\n\n\tpublic declineProductByAdmin(id: string): Observable<any> {\n\t\treturn this.apiService.post<{ id: string }>(\"product/product-rejection\", {id});\n\t}\n\n\tpublic updateProductByAdmin(id: string, product: any): Observable<any> {\n\t\treturn this.apiService.patch(`product/${id}/update-product-admin`, product);\n\t}\n\n\tpublic deleteProductByAdmin(id: string): Observable<any> {\n\t\treturn this.apiService.delete(`product/${id}/delete-product-admin`);\n\t}\n\n\tpublic archiveProductByAdmin(id: string): Observable<any> {\n\t\treturn this.apiService.put(`product/${id}/archive-admin`, {});\n\t}\n\n\tpublic updateProductsByAdmin(queryObj: PaginationParamsModel, otherParams?: any): void {\n\t\tthis.startLoading();\n\t\tthis.getProductsByAdmin(queryObj, otherParams)\n\t\t\t.pipe(first())\n\t\t\t.subscribe((res) => {\n\t\t\t\tthis.completeLoading();\n\t\t\t\tthis.marketplaceProductsSource.next(res.products);\n\t\t\t\tthis.marketplaceProductsLengthSource.next(res.totalCount);\n\t\t\t});\n\t}\n\n\tpublic updateSupplierProducts(supplierId: string, paginationParams: PaginationParamsModel): void {\n\t\tthis.startLoading();\n\t\tthis.getSupplierProducts(supplierId, paginationParams)\n\t\t\t.pipe(first())\n\t\t\t.subscribe((res) => {\n\t\t\t\tthis.completeLoading();\n\t\t\t\tthis.supplierListingSource.next(res.result.products);\n\t\t\t\tthis.supplierListingLengthSource.next(res.result.totalCount);\n\t\t\t});\n\t}\n\n\tpublic getUserMarketProducts(): Observable<any> {\n\t\treturn this.apiService.get('products/my')\n\t\t\t.pipe(\n\t\t\t\tfilter((data: any) => !!data),\n\t\t\t\tmap(({products}) => products))\n\t}\n\n\tpublic updateManageProducts(offset: number = 0, queryParam?: string): void {\n\t\tthis.startLoading();\n\t\tlet url = `products/my?limit=${this.PRODUCTS_LIMIT}&offset=${offset}&`;\n\t\tif(queryParam) {\n\t\t\turl += `${queryParam}=true`\n\t\t}\n\n\t\tthis.apiService\n\t\t\t.get(url).pipe(\n\t\t\t\tfilter((data) => !!data),\n\t\t\t\tfirst())\n\t\t\t.subscribe((data: any) => {\n\t\t\t\tthis.completeLoading();\n\t\t\t\tthis.manageProductsLengthSource.next(data.totalCount);\n\t\t\t\tthis.manageProductsSource.next(data.products);\n\t\t\t\tif (data.products.length === 0 && data.totalCount > 0 && offset - this.PRODUCTS_LIMIT >= 0) {\n\t\t\t\t\tthis.updateManageProducts(offset - this.PRODUCTS_LIMIT);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t// public updateArchivedProducts(offset: number = 0): void {\n\t// \tthis.startLoading();\n\t// \tthis.apiService\n\t// \t\t.get(`products/my?hide=true&limit=${this.PRODUCTS_LIMIT}&offset=` + offset)\n\t// \t\t.pipe(\n\t// \t\t\tfilter((data) => !!data),\n\t// \t\t\tfirst()\n\t// \t\t)\n\t// \t\t.subscribe((data: any) => {\n\t// \t\t\tthis.completeLoading();\n\t// \t\t\tthis.archivedProductsSource.next(data.products);\n\t// \t\t\tthis.archivedProductsLengthSource.next(data.totalCount);\n\t//\n\t// \t\t\tif (data.products.length === 0 && data.totalCount > 0 && offset - this.PRODUCTS_LIMIT >= 0) {\n\t// \t\t\t\tthis.updateArchivedProducts(offset - this.PRODUCTS_LIMIT);\n\t// \t\t\t}\n\t// \t\t});\n\t// }\n\n\tpublic getChatsByProductId(id: string): Observable<any[]> {\n\t\treturn this.apiService.get(`product/${id}/chats`);\n\t}\n\n\tpublic completeLoading(): void {\n\t\tthis.loadingSource.next(false);\n\t}\n\n\tpublic startLoading(): void {\n\t\tthis.loadingSource.next(true);\n\t}\n\n\tpublic getMarketplaceSkeletonOptions(): Partial<NgxSkeletonLoaderConfig> {\n    return {\n      count: 5,\n      animation: 'progress',\n      theme: {\n        height: '160px',\n      }\n    }\n\t}\n\n\tpublic getCompanyByName(name: string, paginationParams: PaginationParamsModel): Observable<{companies: any[], totalCount: number}> {\n\t\treturn this.apiService.get(\"products/get-company\", {params: {...paginationParams, q: name}});\n\t}\n\n\tpublic updateMarketplaceProductView(view: 'grid' | 'list'): void {\n\t\tthis.marketplaceProductViewSource.next(view);\n\t}\n\n\tprivate getSupplierProducts(supplierId: string, {offset, limit}: PaginationParamsModel): Observable<any> {\n\t\treturn this.apiService.get(`products?supplier=${supplierId}&limit=${limit}&offset=${offset}`);\n\t}\n\n\tprivate getProductsByAdmin(queryObj: PaginationParamsModel, otherParams?: any): Observable<any> {\n\t\treturn this.apiService.get(\"products/get-products-admin\", {\n\t\t\tparams: {offset: queryObj.offset, limit: queryObj.limit, ...otherParams},\n\t\t});\n\t}\n\n  private processFilters(filters: any): any {\n    if (filters.rootCategories) {\n      filters.rootCategories = {\n        name: 'Sectors',\n        hiddenLabel: 'rootCategory',\n        isOpen: true,\n        selectedOption:\n          filters.rootCategories[0].checked ?\n            new BehaviorSubject(filters.rootCategories) : new BehaviorSubject<any>(null),\n        options: filters.rootCategories\n      }\n    }\n    if (filters.categories) {\n      filters.categories = {\n        name: 'Categories',\n        hiddenLabel: 'categories',\n        isOpen: filters.rootCategories.options.length === 1,\n        isMultiSelect: true,\n        selectedOption: filters.categories[0].checked ?\n\t\t\t\t\tnew BehaviorSubject(filters.categories) : new BehaviorSubject<any>(null),\n        options: filters.categories\n      }\n    }\n    if (filters.suppliersType) {\n      filters.suppliersType = {\n        name: 'Company type',\n        hiddenLabel: 'type',\n        isOpen: filters.rootCategories.options.length === 1,\n        selectedOption:\n          filters.suppliersType[0].checked ?\n            new BehaviorSubject(filters.suppliersType) : new BehaviorSubject<any>(null),\n        options: filters.suppliersType\n      }\n    }\n    if (filters.country) {\n      filters.country = {\n        name: 'Country',\n        hiddenLabel: 'country[]',\n        isOpen: filters.rootCategories.options.length === 1,\n        selectedOption:\n          filters.country[0].checked ?\n            new BehaviorSubject(filters.country) : new BehaviorSubject<any>(null),\n        options: filters.country\n      }\n    }\n    this.marketFilters$.next([filters.rootCategories, filters.categories, filters.suppliersType, filters.country])\n  }\n}\n","import { Component, Inject } from \"@angular/core\";\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material/dialog\";\nimport { B2bNgxButtonThemeEnum } from \"@b2b/ngx-button\";\n\n@Component({\n\tselector: \"b2b-confirmation-dialog\",\n\ttemplateUrl: \"./confirmation-dialog.component.html\",\n\tstyleUrls: [\"./confirmation-dialog.component.scss\"],\n})\nexport class ConfirmationDialogComponent {\n\tpublic b2bNgxButtonThemeEnum = B2bNgxButtonThemeEnum;\n\tpublic confirmButtonTheme = this.data.confirmButtonTheme as B2bNgxButtonThemeEnum;\n\tpublic cancelButtonTheme = this.data.cancelButtonTheme as B2bNgxButtonThemeEnum;\n\n\tconstructor(\n\t\tprivate dialogRef: MatDialogRef<ConfirmationDialogComponent>,\n\t\t@Inject(MAT_DIALOG_DATA)\n\t\tpublic data: {\n\t\t\ttitle?: string;\n\t\t\tmessage?: string;\n\t\t\tconfirmButtonText: string;\n\t\t\tconfirmButtonTheme: B2bNgxButtonThemeEnum;\n\t\t\tcancelButtonText?: string;\n\t\t\tcancelButtonTheme?: B2bNgxButtonThemeEnum;\n\t\t}\n\t) {}\n\n\tcloseDialog(res: boolean): void {\n\t\tthis.dialogRef.close(res);\n\t}\n}\n","<div class=\"confirmation-dialog\">\n  <div *ngIf=\"data.title\" class=\"header\">\n    <h2>{{ data.title }}</h2>\n  </div>\n  <hr *ngIf=\"data.title\" color=\"#f5f5f5\"/>\n  <div *ngIf=\"data.message\" class=\"body\">{{ data.message }}</div>\n  <hr *ngIf=\"data.message\" color=\"#f5f5f5\"/>\n  <div class=\"footer\">\n    <button class=\"btn\" b2bNgxButton (click)=\"closeDialog(true)\">\n      {{ data.confirmButtonText }}\n    </button>\n    <button class=\"btn\" b2bNgxButton (click)=\"closeDialog(false)\">\n      {{ data.cancelButtonText }}\n    </button>\n  </div>\n</div>\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        randomFillSync(mask, 0, 4);\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        [kByteLength]: byteLength,\n        fin: options.fin,\n        generateMask: this._generateMask,\n        mask: options.mask,\n        maskBuffer: this._maskBuffer,\n        opcode,\n        readOnly,\n        rsv1\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(data, {\n          [kByteLength]: byteLength,\n          fin: options.fin,\n          generateMask: this._generateMask,\n          mask: options.mask,\n          maskBuffer: this._maskBuffer,\n          opcode,\n          readOnly,\n          rsv1: false\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const params = this._queue[i];\n          const callback = params[params.length - 1];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst https = require('https');\nconst net = require('net');\nconst tls = require('tls');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!key || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  req.end();\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\n\nvar fs = require('fs');\nvar Url = require('url');\nvar spawn = require('child_process').spawn;\n\n/**\n * Module exports.\n */\n\nmodule.exports = XMLHttpRequest;\n\n// backwards-compat\nXMLHttpRequest.XMLHttpRequest = XMLHttpRequest;\n\n/**\n * `XMLHttpRequest` constructor.\n *\n * Supported options for the `opts` object are:\n *\n *  - `agent`: An http.Agent instance; http.globalAgent may be used; if 'undefined', agent usage is disabled\n *\n * @param {Object} opts optional \"options\" object\n */\n\nfunction XMLHttpRequest(opts) {\n  \"use strict\";\n\n  opts = opts || {};\n\n  /**\n   * Private variables\n   */\n  var self = this;\n  var http = require('http');\n  var https = require('https');\n\n  // Holds http.js objects\n  var request;\n  var response;\n\n  // Request settings\n  var settings = {};\n\n  // Disable header blacklist.\n  // Not part of XHR specs.\n  var disableHeaderCheck = false;\n\n  // Set some default headers\n  var defaultHeaders = {\n    \"User-Agent\": \"node-XMLHttpRequest\",\n    \"Accept\": \"*/*\"\n  };\n\n  var headers = Object.assign({}, defaultHeaders);\n\n  // These headers are not user setable.\n  // The following are allowed but banned in the spec:\n  // * user-agent\n  var forbiddenRequestHeaders = [\n    \"accept-charset\",\n    \"accept-encoding\",\n    \"access-control-request-headers\",\n    \"access-control-request-method\",\n    \"connection\",\n    \"content-length\",\n    \"content-transfer-encoding\",\n    \"cookie\",\n    \"cookie2\",\n    \"date\",\n    \"expect\",\n    \"host\",\n    \"keep-alive\",\n    \"origin\",\n    \"referer\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\",\n    \"via\"\n  ];\n\n  // These request methods are not allowed\n  var forbiddenRequestMethods = [\n    \"TRACE\",\n    \"TRACK\",\n    \"CONNECT\"\n  ];\n\n  // Send flag\n  var sendFlag = false;\n  // Error flag, used when errors occur or abort is called\n  var errorFlag = false;\n  var abortedFlag = false;\n\n  // Event listeners\n  var listeners = {};\n\n  /**\n   * Constants\n   */\n\n  this.UNSENT = 0;\n  this.OPENED = 1;\n  this.HEADERS_RECEIVED = 2;\n  this.LOADING = 3;\n  this.DONE = 4;\n\n  /**\n   * Public vars\n   */\n\n  // Current state\n  this.readyState = this.UNSENT;\n\n  // default ready state change handler in case one is not set or is set late\n  this.onreadystatechange = null;\n\n  // Result & response\n  this.responseText = \"\";\n  this.responseXML = \"\";\n  this.status = null;\n  this.statusText = null;\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check if the specified header is allowed.\n   *\n   * @param string header Header to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpHeader = function(header) {\n    return disableHeaderCheck || (header && forbiddenRequestHeaders.indexOf(header.toLowerCase()) === -1);\n  };\n\n  /**\n   * Check if the specified method is allowed.\n   *\n   * @param string method Request method to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpMethod = function(method) {\n    return (method && forbiddenRequestMethods.indexOf(method) === -1);\n  };\n\n  /**\n   * Public methods\n   */\n\n  /**\n   * Open the connection. Currently supports local server requests.\n   *\n   * @param string method Connection method (eg GET, POST)\n   * @param string url URL for the connection.\n   * @param boolean async Asynchronous connection. Default is true.\n   * @param string user Username for basic authentication (optional)\n   * @param string password Password for basic authentication (optional)\n   */\n  this.open = function(method, url, async, user, password) {\n    this.abort();\n    errorFlag = false;\n    abortedFlag = false;\n\n    // Check for valid request method\n    if (!isAllowedHttpMethod(method)) {\n      throw new Error(\"SecurityError: Request method not allowed\");\n    }\n\n    settings = {\n      \"method\": method,\n      \"url\": url.toString(),\n      \"async\": (typeof async !== \"boolean\" ? true : async),\n      \"user\": user || null,\n      \"password\": password || null\n    };\n\n    setState(this.OPENED);\n  };\n\n  /**\n   * Disables or enables isAllowedHttpHeader() check the request. Enabled by default.\n   * This does not conform to the W3C spec.\n   *\n   * @param boolean state Enable or disable header checking.\n   */\n  this.setDisableHeaderCheck = function(state) {\n    disableHeaderCheck = state;\n  };\n\n  /**\n   * Sets a header for the request.\n   *\n   * @param string header Header name\n   * @param string value Header value\n   * @return boolean Header added\n   */\n  this.setRequestHeader = function(header, value) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\");\n    }\n    if (!isAllowedHttpHeader(header)) {\n      console.warn('Refused to set unsafe header \"' + header + '\"');\n      return false;\n    }\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send flag is true\");\n    }\n    headers[header] = value;\n    return true;\n  };\n\n  /**\n   * Gets a header from the server response.\n   *\n   * @param string header Name of header to get.\n   * @return string Text of the header or null if it doesn't exist.\n   */\n  this.getResponseHeader = function(header) {\n    if (typeof header === \"string\"\n      && this.readyState > this.OPENED\n      && response.headers[header.toLowerCase()]\n      && !errorFlag\n    ) {\n      return response.headers[header.toLowerCase()];\n    }\n\n    return null;\n  };\n\n  /**\n   * Gets all the response headers.\n   *\n   * @return string A string with all response headers separated by CR+LF\n   */\n  this.getAllResponseHeaders = function() {\n    if (this.readyState < this.HEADERS_RECEIVED || errorFlag) {\n      return \"\";\n    }\n    var result = \"\";\n\n    for (var i in response.headers) {\n      // Cookie headers are excluded\n      if (i !== \"set-cookie\" && i !== \"set-cookie2\") {\n        result += i + \": \" + response.headers[i] + \"\\r\\n\";\n      }\n    }\n    return result.substr(0, result.length - 2);\n  };\n\n  /**\n   * Gets a request header\n   *\n   * @param string name Name of header to get\n   * @return string Returns the request header or empty string if not set\n   */\n  this.getRequestHeader = function(name) {\n    // @TODO Make this case insensitive\n    if (typeof name === \"string\" && headers[name]) {\n      return headers[name];\n    }\n\n    return \"\";\n  };\n\n  /**\n   * Sends the request to the server.\n   *\n   * @param string data Optional data to send as request body.\n   */\n  this.send = function(data) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: connection must be opened before send() is called\");\n    }\n\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send has already been called\");\n    }\n\n    var ssl = false, local = false;\n    var url = Url.parse(settings.url);\n    var host;\n    // Determine the server\n    switch (url.protocol) {\n      case 'https:':\n        ssl = true;\n        // SSL & non-SSL both need host, no break here.\n      case 'http:':\n        host = url.hostname;\n        break;\n\n      case 'file:':\n        local = true;\n        break;\n\n      case undefined:\n      case '':\n        host = \"localhost\";\n        break;\n\n      default:\n        throw new Error(\"Protocol not supported.\");\n    }\n\n    // Load files off the local filesystem (file://)\n    if (local) {\n      if (settings.method !== \"GET\") {\n        throw new Error(\"XMLHttpRequest: Only GET method is supported\");\n      }\n\n      if (settings.async) {\n        fs.readFile(unescape(url.pathname), 'utf8', function(error, data) {\n          if (error) {\n            self.handleError(error, error.errno || -1);\n          } else {\n            self.status = 200;\n            self.responseText = data;\n            setState(self.DONE);\n          }\n        });\n      } else {\n        try {\n          this.responseText = fs.readFileSync(unescape(url.pathname), 'utf8');\n          this.status = 200;\n          setState(self.DONE);\n        } catch(e) {\n          this.handleError(e, e.errno || -1);\n        }\n      }\n\n      return;\n    }\n\n    // Default to port 80. If accessing localhost on another port be sure\n    // to use http://localhost:port/path\n    var port = url.port || (ssl ? 443 : 80);\n    // Add query string if one is used\n    var uri = url.pathname + (url.search ? url.search : '');\n\n    // Set the Host header or the server may reject the request\n    headers[\"Host\"] = host;\n    if (!((ssl && port === 443) || port === 80)) {\n      headers[\"Host\"] += ':' + url.port;\n    }\n\n    // Set Basic Auth if necessary\n    if (settings.user) {\n      if (typeof settings.password == \"undefined\") {\n        settings.password = \"\";\n      }\n      var authBuf = new Buffer(settings.user + \":\" + settings.password);\n      headers[\"Authorization\"] = \"Basic \" + authBuf.toString(\"base64\");\n    }\n\n    // Set content length header\n    if (settings.method === \"GET\" || settings.method === \"HEAD\") {\n      data = null;\n    } else if (data) {\n      headers[\"Content-Length\"] = Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data);\n\n      if (!headers[\"Content-Type\"]) {\n        headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n    } else if (settings.method === \"POST\") {\n      // For a post with no data set Content-Length: 0.\n      // This is required by buggy servers that don't meet the specs.\n      headers[\"Content-Length\"] = 0;\n    }\n\n    var agent = opts.agent || false;\n    var options = {\n      host: host,\n      port: port,\n      path: uri,\n      method: settings.method,\n      headers: headers,\n      agent: agent\n    };\n\n    if (ssl) {\n      options.pfx = opts.pfx;\n      options.key = opts.key;\n      options.passphrase = opts.passphrase;\n      options.cert = opts.cert;\n      options.ca = opts.ca;\n      options.ciphers = opts.ciphers;\n      options.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n    }\n\n    // Reset error flag\n    errorFlag = false;\n    // Handle async requests\n    if (settings.async) {\n      // Use the proper protocol\n      var doRequest = ssl ? https.request : http.request;\n\n      // Request is being sent, set send flag\n      sendFlag = true;\n\n      // As per spec, this is called here for historical reasons.\n      self.dispatchEvent(\"readystatechange\");\n\n      // Handler for the response\n      var responseHandler = function(resp) {\n        // Set response var to the response we got back\n        // This is so it remains accessable outside this scope\n        response = resp;\n        // Check for redirect\n        // @TODO Prevent looped redirects\n        if (response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n          // Change URL to the redirect location\n          settings.url = response.headers.location;\n          var url = Url.parse(settings.url);\n          // Set host var in case it's used later\n          host = url.hostname;\n          // Options for the new request\n          var newOptions = {\n            hostname: url.hostname,\n            port: url.port,\n            path: url.path,\n            method: response.statusCode === 303 ? 'GET' : settings.method,\n            headers: headers\n          };\n\n          if (ssl) {\n            newOptions.pfx = opts.pfx;\n            newOptions.key = opts.key;\n            newOptions.passphrase = opts.passphrase;\n            newOptions.cert = opts.cert;\n            newOptions.ca = opts.ca;\n            newOptions.ciphers = opts.ciphers;\n            newOptions.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n          }\n\n          // Issue the new request\n          request = doRequest(newOptions, responseHandler).on('error', errorHandler);\n          request.end();\n          // @TODO Check if an XHR event needs to be fired here\n          return;\n        }\n\n        if (response && response.setEncoding) {\n          response.setEncoding(\"utf8\");\n        }\n\n        setState(self.HEADERS_RECEIVED);\n        self.status = response.statusCode;\n\n        response.on('data', function(chunk) {\n          // Make sure there's some data\n          if (chunk) {\n            self.responseText += chunk;\n          }\n          // Don't emit state changes if the connection has been aborted.\n          if (sendFlag) {\n            setState(self.LOADING);\n          }\n        });\n\n        response.on('end', function() {\n          if (sendFlag) {\n            // The sendFlag needs to be set before setState is called.  Otherwise if we are chaining callbacks\n            // there can be a timing issue (the callback is called and a new call is made before the flag is reset).\n            sendFlag = false;\n            // Discard the 'end' event if the connection has been aborted\n            setState(self.DONE);\n          }\n        });\n\n        response.on('error', function(error) {\n          self.handleError(error);\n        });\n      }\n\n      // Error handler for the request\n      var errorHandler = function(error) {\n        self.handleError(error);\n      }\n\n      // Create the request\n      request = doRequest(options, responseHandler).on('error', errorHandler);\n\n      if (opts.autoUnref) {\n        request.on('socket', (socket) => {\n          socket.unref();\n        });\n      }\n\n      // Node 0.4 and later won't accept empty data. Make sure it's needed.\n      if (data) {\n        request.write(data);\n      }\n\n      request.end();\n\n      self.dispatchEvent(\"loadstart\");\n    } else { // Synchronous\n      // Create a temporary file for communication with the other Node process\n      var contentFile = \".node-xmlhttprequest-content-\" + process.pid;\n      var syncFile = \".node-xmlhttprequest-sync-\" + process.pid;\n      fs.writeFileSync(syncFile, \"\", \"utf8\");\n      // The async request the other Node process executes\n      var execString = \"var http = require('http'), https = require('https'), fs = require('fs');\"\n        + \"var doRequest = http\" + (ssl ? \"s\" : \"\") + \".request;\"\n        + \"var options = \" + JSON.stringify(options) + \";\"\n        + \"var responseText = '';\"\n        + \"var req = doRequest(options, function(response) {\"\n        + \"response.setEncoding('utf8');\"\n        + \"response.on('data', function(chunk) {\"\n        + \"  responseText += chunk;\"\n        + \"});\"\n        + \"response.on('end', function() {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"response.on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"}).on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + (data ? \"req.write('\" + JSON.stringify(data).slice(1,-1).replace(/'/g, \"\\\\'\") + \"');\":\"\")\n        + \"req.end();\";\n      // Start the other Node Process, executing this string\n      var syncProc = spawn(process.argv[0], [\"-e\", execString]);\n      var statusText;\n      while(fs.existsSync(syncFile)) {\n        // Wait while the sync file is empty\n      }\n      self.responseText = fs.readFileSync(contentFile, 'utf8');\n      // Kill the child process once the file has data\n      syncProc.stdin.end();\n      // Remove the temporary file\n      fs.unlinkSync(contentFile);\n      if (self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)) {\n        // If the file returned an error, handle it\n        var errorObj = self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/, \"\");\n        self.handleError(errorObj, 503);\n      } else {\n        // If the file returned okay, parse its data and move to the DONE state\n        self.status = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/, \"$1\");\n        self.responseText = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/, \"$1\");\n        setState(self.DONE);\n      }\n    }\n  };\n\n  /**\n   * Called when an error is encountered to deal with it.\n   * @param  status  {number}    HTTP status code to use rather than the default (0) for XHR errors.\n   */\n  this.handleError = function(error, status) {\n    this.status = status || 0;\n    this.statusText = error;\n    this.responseText = error.stack;\n    errorFlag = true;\n    setState(this.DONE);\n  };\n\n  /**\n   * Aborts a request.\n   */\n  this.abort = function() {\n    if (request) {\n      request.abort();\n      request = null;\n    }\n\n    headers = Object.assign({}, defaultHeaders);\n    this.responseText = \"\";\n    this.responseXML = \"\";\n\n    errorFlag = abortedFlag = true\n    if (this.readyState !== this.UNSENT\n        && (this.readyState !== this.OPENED || sendFlag)\n        && this.readyState !== this.DONE) {\n      sendFlag = false;\n      setState(this.DONE);\n    }\n    this.readyState = this.UNSENT;\n  };\n\n  /**\n   * Adds an event listener. Preferred method of binding to events.\n   */\n  this.addEventListener = function(event, callback) {\n    if (!(event in listeners)) {\n      listeners[event] = [];\n    }\n    // Currently allows duplicate callbacks. Should it?\n    listeners[event].push(callback);\n  };\n\n  /**\n   * Remove an event callback that has already been bound.\n   * Only works on the matching funciton, cannot be a copy.\n   */\n  this.removeEventListener = function(event, callback) {\n    if (event in listeners) {\n      // Filter will return a new array with the callback removed\n      listeners[event] = listeners[event].filter(function(ev) {\n        return ev !== callback;\n      });\n    }\n  };\n\n  /**\n   * Dispatch any events, including both \"on\" methods and events attached using addEventListener.\n   */\n  this.dispatchEvent = function(event) {\n    if (typeof self[\"on\" + event] === \"function\") {\n      if (this.readyState === this.DONE)\n        setImmediate(function() { self[\"on\" + event]() })\n      else\n        self[\"on\" + event]()\n    }\n    if (event in listeners) {\n      for (let i = 0, len = listeners[event].length; i < len; i++) {\n        if (this.readyState === this.DONE)\n          setImmediate(function() { listeners[event][i].call(self) })\n        else\n          listeners[event][i].call(self)\n      }\n    }\n  };\n\n  /**\n   * Changes readyState and calls onreadystatechange.\n   *\n   * @param int state New state\n   */\n  var setState = function(state) {\n    if ((self.readyState === state) || (self.readyState === self.UNSENT && abortedFlag))\n      return\n\n    self.readyState = state;\n\n    if (settings.async || self.readyState < self.OPENED || self.readyState === self.DONE) {\n      self.dispatchEvent(\"readystatechange\");\n    }\n\n    if (self.readyState === self.DONE) {\n      let fire\n\n      if (abortedFlag)\n        fire = \"abort\"\n      else if (errorFlag)\n        fire = \"error\"\n      else\n        fire = \"load\"\n\n      self.dispatchEvent(fire)\n\n      // @TODO figure out InspectorInstrumentation::didLoadXHR(cookie)\n      self.dispatchEvent(\"loadend\");\n    }\n  };\n};\n","import * as i7 from '@angular/cdk/a11y';\nimport { FocusKeyManager, A11yModule } from '@angular/cdk/a11y';\nimport * as i5 from '@angular/cdk/observers';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport * as i2 from '@angular/cdk/portal';\nimport { CdkPortal, TemplatePortal, CdkPortalOutlet, PortalModule } from '@angular/cdk/portal';\nimport * as i1$2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Directive, Inject, Optional, TemplateRef, Component, ChangeDetectionStrategy, ViewEncapsulation, ContentChild, ViewChild, Input, forwardRef, EventEmitter, Output, ContentChildren, QueryList, Attribute, NgModule } from '@angular/core';\nimport * as i4 from '@angular/material/core';\nimport { mixinDisabled, mixinColor, mixinDisableRipple, mixinTabIndex, MAT_RIPPLE_GLOBAL_OPTIONS, RippleRenderer, MatCommonModule, MatRippleModule } from '@angular/material/core';\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\nimport { take, startWith, distinctUntilChanged, takeUntil, switchMap, skip, filter } from 'rxjs/operators';\nimport { Subject, Subscription, fromEvent, of, merge, EMPTY, Observable, timer } from 'rxjs';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport * as i1 from '@angular/cdk/bidi';\nimport { coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';\nimport { hasModifierKey, SPACE, ENTER } from '@angular/cdk/keycodes';\nimport * as i3 from '@angular/cdk/platform';\nimport { normalizePassiveListenerOptions } from '@angular/cdk/platform';\nimport * as i1$1 from '@angular/cdk/scrolling';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token for the MatInkBar's Positioner. */\nconst _MAT_INK_BAR_POSITIONER = new InjectionToken('MatInkBarPositioner', {\n    providedIn: 'root',\n    factory: _MAT_INK_BAR_POSITIONER_FACTORY,\n});\n/**\n * The default positioner function for the MatInkBar.\n * @docs-private\n */\nfunction _MAT_INK_BAR_POSITIONER_FACTORY() {\n    const method = (element) => ({\n        left: element ? (element.offsetLeft || 0) + 'px' : '0',\n        width: element ? (element.offsetWidth || 0) + 'px' : '0',\n    });\n    return method;\n}\n/**\n * The ink-bar is used to display and animate the line underneath the current active tab label.\n * @docs-private\n */\nclass MatInkBar {\n    constructor(_elementRef, _ngZone, _inkBarPositioner, _animationMode) {\n        this._elementRef = _elementRef;\n        this._ngZone = _ngZone;\n        this._inkBarPositioner = _inkBarPositioner;\n        this._animationMode = _animationMode;\n    }\n    /**\n     * Calculates the styles from the provided element in order to align the ink-bar to that element.\n     * Shows the ink bar if previously set as hidden.\n     * @param element\n     */\n    alignToElement(element) {\n        this.show();\n        // `onStable` might not run for a while if the zone has already stabilized.\n        // Wrap the call in `NgZone.run` to ensure that it runs relatively soon.\n        this._ngZone.run(() => {\n            this._ngZone.onStable.pipe(take(1)).subscribe(() => {\n                const positions = this._inkBarPositioner(element);\n                const inkBar = this._elementRef.nativeElement;\n                inkBar.style.left = positions.left;\n                inkBar.style.width = positions.width;\n            });\n        });\n    }\n    /** Shows the ink bar. */\n    show() {\n        this._elementRef.nativeElement.style.visibility = 'visible';\n    }\n    /** Hides the ink bar. */\n    hide() {\n        this._elementRef.nativeElement.style.visibility = 'hidden';\n    }\n}\nMatInkBar.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatInkBar, deps: [{ token: i0.ElementRef }, { token: i0.NgZone }, { token: _MAT_INK_BAR_POSITIONER }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive });\nMatInkBar.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatInkBar, selector: \"mat-ink-bar\", host: { properties: { \"class._mat-animation-noopable\": \"_animationMode === 'NoopAnimations'\" }, classAttribute: \"mat-ink-bar\" }, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatInkBar, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'mat-ink-bar',\n                    host: {\n                        'class': 'mat-ink-bar',\n                        '[class._mat-animation-noopable]': `_animationMode === 'NoopAnimations'`,\n                    },\n                }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i0.NgZone }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [_MAT_INK_BAR_POSITIONER]\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `MatTabContent`. It serves as\n * alternative token to the actual `MatTabContent` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst MAT_TAB_CONTENT = new InjectionToken('MatTabContent');\n/** Decorates the `ng-template` tags and reads out the template from it. */\nclass MatTabContent {\n    constructor(/** Content for the tab. */ template) {\n        this.template = template;\n    }\n}\nMatTabContent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabContent, deps: [{ token: i0.TemplateRef }], target: i0.FactoryTarget.Directive });\nMatTabContent.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabContent, selector: \"[matTabContent]\", providers: [{ provide: MAT_TAB_CONTENT, useExisting: MatTabContent }], ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabContent, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matTabContent]',\n                    providers: [{ provide: MAT_TAB_CONTENT, useExisting: MatTabContent }],\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `MatTabLabel`. It serves as\n * alternative token to the actual `MatTabLabel` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst MAT_TAB_LABEL = new InjectionToken('MatTabLabel');\n/**\n * Used to provide a tab label to a tab without causing a circular dependency.\n * @docs-private\n */\nconst MAT_TAB = new InjectionToken('MAT_TAB');\n/** Used to flag tab labels for use with the portal directive */\nclass MatTabLabel extends CdkPortal {\n    constructor(templateRef, viewContainerRef, _closestTab) {\n        super(templateRef, viewContainerRef);\n        this._closestTab = _closestTab;\n    }\n}\nMatTabLabel.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabLabel, deps: [{ token: i0.TemplateRef }, { token: i0.ViewContainerRef }, { token: MAT_TAB, optional: true }], target: i0.FactoryTarget.Directive });\nMatTabLabel.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabLabel, selector: \"[mat-tab-label], [matTabLabel]\", providers: [{ provide: MAT_TAB_LABEL, useExisting: MatTabLabel }], usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabLabel, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-tab-label], [matTabLabel]',\n                    providers: [{ provide: MAT_TAB_LABEL, useExisting: MatTabLabel }],\n                }]\n        }], ctorParameters: function () {\n        return [{ type: i0.TemplateRef }, { type: i0.ViewContainerRef }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [MAT_TAB]\n                    }, {\n                        type: Optional\n                    }] }];\n    } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// Boilerplate for applying mixins to MatTab.\n/** @docs-private */\nconst _MatTabBase = mixinDisabled(class {\n});\n/**\n * Used to provide a tab group to a tab without causing a circular dependency.\n * @docs-private\n */\nconst MAT_TAB_GROUP = new InjectionToken('MAT_TAB_GROUP');\nclass MatTab extends _MatTabBase {\n    constructor(_viewContainerRef, _closestTabGroup) {\n        super();\n        this._viewContainerRef = _viewContainerRef;\n        this._closestTabGroup = _closestTabGroup;\n        /** Plain text label for the tab, used when there is no template label. */\n        this.textLabel = '';\n        /** Portal that will be the hosted content of the tab */\n        this._contentPortal = null;\n        /** Emits whenever the internal state of the tab changes. */\n        this._stateChanges = new Subject();\n        /**\n         * The relatively indexed position where 0 represents the center, negative is left, and positive\n         * represents the right.\n         */\n        this.position = null;\n        /**\n         * The initial relatively index origin of the tab if it was created and selected after there\n         * was already a selected tab. Provides context of what position the tab should originate from.\n         */\n        this.origin = null;\n        /**\n         * Whether the tab is currently active.\n         */\n        this.isActive = false;\n    }\n    /** Content for the tab label given by `<ng-template mat-tab-label>`. */\n    get templateLabel() {\n        return this._templateLabel;\n    }\n    set templateLabel(value) {\n        this._setTemplateLabelInput(value);\n    }\n    /** @docs-private */\n    get content() {\n        return this._contentPortal;\n    }\n    ngOnChanges(changes) {\n        if (changes.hasOwnProperty('textLabel') || changes.hasOwnProperty('disabled')) {\n            this._stateChanges.next();\n        }\n    }\n    ngOnDestroy() {\n        this._stateChanges.complete();\n    }\n    ngOnInit() {\n        this._contentPortal = new TemplatePortal(this._explicitContent || this._implicitContent, this._viewContainerRef);\n    }\n    /**\n     * This has been extracted to a util because of TS 4 and VE.\n     * View Engine doesn't support property rename inheritance.\n     * TS 4.0 doesn't allow properties to override accessors or vice-versa.\n     * @docs-private\n     */\n    _setTemplateLabelInput(value) {\n        // Only update the label if the query managed to find one. This works around an issue where a\n        // user may have manually set `templateLabel` during creation mode, which would then get\n        // clobbered by `undefined` when the query resolves. Also note that we check that the closest\n        // tab matches the current one so that we don't pick up labels from nested tabs.\n        if (value && value._closestTab === this) {\n            this._templateLabel = value;\n        }\n    }\n}\nMatTab.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTab, deps: [{ token: i0.ViewContainerRef }, { token: MAT_TAB_GROUP, optional: true }], target: i0.FactoryTarget.Component });\nMatTab.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTab, selector: \"mat-tab\", inputs: { disabled: \"disabled\", textLabel: [\"label\", \"textLabel\"], ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], labelClass: \"labelClass\", bodyClass: \"bodyClass\" }, providers: [{ provide: MAT_TAB, useExisting: MatTab }], queries: [{ propertyName: \"templateLabel\", first: true, predicate: MAT_TAB_LABEL, descendants: true }, { propertyName: \"_explicitContent\", first: true, predicate: MAT_TAB_CONTENT, descendants: true, read: TemplateRef, static: true }], viewQueries: [{ propertyName: \"_implicitContent\", first: true, predicate: TemplateRef, descendants: true, static: true }], exportAs: [\"matTab\"], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<!-- Create a template for the content of the <mat-tab> so that we can grab a reference to this\\n    TemplateRef and use it in a Portal to render the tab content in the appropriate place in the\\n    tab-group. -->\\n<ng-template><ng-content></ng-content></ng-template>\\n\", changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTab, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab', inputs: ['disabled'], changeDetection: ChangeDetectionStrategy.Default, encapsulation: ViewEncapsulation.None, exportAs: 'matTab', providers: [{ provide: MAT_TAB, useExisting: MatTab }], template: \"<!-- Create a template for the content of the <mat-tab> so that we can grab a reference to this\\n    TemplateRef and use it in a Portal to render the tab content in the appropriate place in the\\n    tab-group. -->\\n<ng-template><ng-content></ng-content></ng-template>\\n\" }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ViewContainerRef }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [MAT_TAB_GROUP]\n                    }, {\n                        type: Optional\n                    }] }];\n    }, propDecorators: { templateLabel: [{\n                type: ContentChild,\n                args: [MAT_TAB_LABEL]\n            }], _explicitContent: [{\n                type: ContentChild,\n                args: [MAT_TAB_CONTENT, { read: TemplateRef, static: true }]\n            }], _implicitContent: [{\n                type: ViewChild,\n                args: [TemplateRef, { static: true }]\n            }], textLabel: [{\n                type: Input,\n                args: ['label']\n            }], ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], labelClass: [{\n                type: Input\n            }], bodyClass: [{\n                type: Input\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Animations used by the Material tabs.\n * @docs-private\n */\nconst matTabsAnimations = {\n    /** Animation translates a tab along the X axis. */\n    translateTab: trigger('translateTab', [\n        // Transitions to `none` instead of 0, because some browsers might blur the content.\n        state('center, void, left-origin-center, right-origin-center', style({ transform: 'none' })),\n        // If the tab is either on the left or right, we additionally add a `min-height` of 1px\n        // in order to ensure that the element has a height before its state changes. This is\n        // necessary because Chrome does seem to skip the transition in RTL mode if the element does\n        // not have a static height and is not rendered. See related issue: #9465\n        state('left', style({\n            transform: 'translate3d(-100%, 0, 0)',\n            minHeight: '1px',\n            // Normally this is redundant since we detach the content from the DOM, but if the user\n            // opted into keeping the content in the DOM, we have to hide it so it isn't focusable.\n            visibility: 'hidden',\n        })),\n        state('right', style({\n            transform: 'translate3d(100%, 0, 0)',\n            minHeight: '1px',\n            visibility: 'hidden',\n        })),\n        transition('* => left, * => right, left => center, right => center', animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)')),\n        transition('void => left-origin-center', [\n            style({ transform: 'translate3d(-100%, 0, 0)', visibility: 'hidden' }),\n            animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)'),\n        ]),\n        transition('void => right-origin-center', [\n            style({ transform: 'translate3d(100%, 0, 0)', visibility: 'hidden' }),\n            animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)'),\n        ]),\n    ]),\n};\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * The portal host directive for the contents of the tab.\n * @docs-private\n */\nclass MatTabBodyPortal extends CdkPortalOutlet {\n    constructor(componentFactoryResolver, viewContainerRef, _host, _document) {\n        super(componentFactoryResolver, viewContainerRef, _document);\n        this._host = _host;\n        /** Subscription to events for when the tab body begins centering. */\n        this._centeringSub = Subscription.EMPTY;\n        /** Subscription to events for when the tab body finishes leaving from center position. */\n        this._leavingSub = Subscription.EMPTY;\n    }\n    /** Set initial visibility or set up subscription for changing visibility. */\n    ngOnInit() {\n        super.ngOnInit();\n        this._centeringSub = this._host._beforeCentering\n            .pipe(startWith(this._host._isCenterPosition(this._host._position)))\n            .subscribe((isCentering) => {\n            if (isCentering && !this.hasAttached()) {\n                this.attach(this._host._content);\n            }\n        });\n        this._leavingSub = this._host._afterLeavingCenter.subscribe(() => {\n            if (!this._host.preserveContent) {\n                this.detach();\n            }\n        });\n    }\n    /** Clean up centering subscription. */\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this._centeringSub.unsubscribe();\n        this._leavingSub.unsubscribe();\n    }\n}\nMatTabBodyPortal.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabBodyPortal, deps: [{ token: i0.ComponentFactoryResolver }, { token: i0.ViewContainerRef }, { token: forwardRef(() => MatTabBody) }, { token: DOCUMENT }], target: i0.FactoryTarget.Directive });\nMatTabBodyPortal.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabBodyPortal, selector: \"[matTabBodyHost]\", usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabBodyPortal, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matTabBodyHost]',\n                }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ComponentFactoryResolver }, { type: i0.ViewContainerRef }, { type: MatTabBody, decorators: [{\n                        type: Inject,\n                        args: [forwardRef(() => MatTabBody)]\n                    }] }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }];\n    } });\n/**\n * Base class with all of the `MatTabBody` functionality.\n * @docs-private\n */\nclass _MatTabBodyBase {\n    constructor(_elementRef, _dir, changeDetectorRef) {\n        this._elementRef = _elementRef;\n        this._dir = _dir;\n        /** Subscription to the directionality change observable. */\n        this._dirChangeSubscription = Subscription.EMPTY;\n        /** Emits when an animation on the tab is complete. */\n        this._translateTabComplete = new Subject();\n        /** Event emitted when the tab begins to animate towards the center as the active tab. */\n        this._onCentering = new EventEmitter();\n        /** Event emitted before the centering of the tab begins. */\n        this._beforeCentering = new EventEmitter();\n        /** Event emitted before the centering of the tab begins. */\n        this._afterLeavingCenter = new EventEmitter();\n        /** Event emitted when the tab completes its animation towards the center. */\n        this._onCentered = new EventEmitter(true);\n        // Note that the default value will always be overwritten by `MatTabBody`, but we need one\n        // anyway to prevent the animations module from throwing an error if the body is used on its own.\n        /** Duration for the tab's animation. */\n        this.animationDuration = '500ms';\n        /** Whether the tab's content should be kept in the DOM while it's off-screen. */\n        this.preserveContent = false;\n        if (_dir) {\n            this._dirChangeSubscription = _dir.change.subscribe((dir) => {\n                this._computePositionAnimationState(dir);\n                changeDetectorRef.markForCheck();\n            });\n        }\n        // Ensure that we get unique animation events, because the `.done` callback can get\n        // invoked twice in some browsers. See https://github.com/angular/angular/issues/24084.\n        this._translateTabComplete\n            .pipe(distinctUntilChanged((x, y) => {\n            return x.fromState === y.fromState && x.toState === y.toState;\n        }))\n            .subscribe(event => {\n            // If the transition to the center is complete, emit an event.\n            if (this._isCenterPosition(event.toState) && this._isCenterPosition(this._position)) {\n                this._onCentered.emit();\n            }\n            if (this._isCenterPosition(event.fromState) && !this._isCenterPosition(this._position)) {\n                this._afterLeavingCenter.emit();\n            }\n        });\n    }\n    /** The shifted index position of the tab body, where zero represents the active center tab. */\n    set position(position) {\n        this._positionIndex = position;\n        this._computePositionAnimationState();\n    }\n    /**\n     * After initialized, check if the content is centered and has an origin. If so, set the\n     * special position states that transition the tab from the left or right before centering.\n     */\n    ngOnInit() {\n        if (this._position == 'center' && this.origin != null) {\n            this._position = this._computePositionFromOrigin(this.origin);\n        }\n    }\n    ngOnDestroy() {\n        this._dirChangeSubscription.unsubscribe();\n        this._translateTabComplete.complete();\n    }\n    _onTranslateTabStarted(event) {\n        const isCentering = this._isCenterPosition(event.toState);\n        this._beforeCentering.emit(isCentering);\n        if (isCentering) {\n            this._onCentering.emit(this._elementRef.nativeElement.clientHeight);\n        }\n    }\n    /** The text direction of the containing app. */\n    _getLayoutDirection() {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Whether the provided position state is considered center, regardless of origin. */\n    _isCenterPosition(position) {\n        return (position == 'center' || position == 'left-origin-center' || position == 'right-origin-center');\n    }\n    /** Computes the position state that will be used for the tab-body animation trigger. */\n    _computePositionAnimationState(dir = this._getLayoutDirection()) {\n        if (this._positionIndex < 0) {\n            this._position = dir == 'ltr' ? 'left' : 'right';\n        }\n        else if (this._positionIndex > 0) {\n            this._position = dir == 'ltr' ? 'right' : 'left';\n        }\n        else {\n            this._position = 'center';\n        }\n    }\n    /**\n     * Computes the position state based on the specified origin position. This is used if the\n     * tab is becoming visible immediately after creation.\n     */\n    _computePositionFromOrigin(origin) {\n        const dir = this._getLayoutDirection();\n        if ((dir == 'ltr' && origin <= 0) || (dir == 'rtl' && origin > 0)) {\n            return 'left-origin-center';\n        }\n        return 'right-origin-center';\n    }\n}\n_MatTabBodyBase.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabBodyBase, deps: [{ token: i0.ElementRef }, { token: i1.Directionality, optional: true }, { token: i0.ChangeDetectorRef }], target: i0.FactoryTarget.Directive });\n_MatTabBodyBase.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: _MatTabBodyBase, inputs: { _content: [\"content\", \"_content\"], origin: \"origin\", animationDuration: \"animationDuration\", preserveContent: \"preserveContent\", position: \"position\" }, outputs: { _onCentering: \"_onCentering\", _beforeCentering: \"_beforeCentering\", _afterLeavingCenter: \"_afterLeavingCenter\", _onCentered: \"_onCentered\" }, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabBodyBase, decorators: [{\n            type: Directive\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i1.Directionality, decorators: [{\n                        type: Optional\n                    }] }, { type: i0.ChangeDetectorRef }];\n    }, propDecorators: { _onCentering: [{\n                type: Output\n            }], _beforeCentering: [{\n                type: Output\n            }], _afterLeavingCenter: [{\n                type: Output\n            }], _onCentered: [{\n                type: Output\n            }], _content: [{\n                type: Input,\n                args: ['content']\n            }], origin: [{\n                type: Input\n            }], animationDuration: [{\n                type: Input\n            }], preserveContent: [{\n                type: Input\n            }], position: [{\n                type: Input\n            }] } });\n/**\n * Wrapper for the contents of a tab.\n * @docs-private\n */\nclass MatTabBody extends _MatTabBodyBase {\n    constructor(elementRef, dir, changeDetectorRef) {\n        super(elementRef, dir, changeDetectorRef);\n    }\n}\nMatTabBody.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabBody, deps: [{ token: i0.ElementRef }, { token: i1.Directionality, optional: true }, { token: i0.ChangeDetectorRef }], target: i0.FactoryTarget.Component });\nMatTabBody.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabBody, selector: \"mat-tab-body\", host: { classAttribute: \"mat-tab-body\" }, viewQueries: [{ propertyName: \"_portalHost\", first: true, predicate: CdkPortalOutlet, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"mat-tab-body-content\\\" #content\\n     [@translateTab]=\\\"{\\n        value: _position,\\n        params: {animationDuration: animationDuration}\\n     }\\\"\\n     (@translateTab.start)=\\\"_onTranslateTabStarted($event)\\\"\\n     (@translateTab.done)=\\\"_translateTabComplete.next($event)\\\"\\n     cdkScrollable>\\n  <ng-template matTabBodyHost></ng-template>\\n</div>\\n\", styles: [\".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*=\\\"visibility: hidden\\\"]{display:none}\"], dependencies: [{ kind: \"directive\", type: MatTabBodyPortal, selector: \"[matTabBodyHost]\" }], animations: [matTabsAnimations.translateTab], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabBody, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab-body', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, animations: [matTabsAnimations.translateTab], host: {\n                        'class': 'mat-tab-body',\n                    }, template: \"<div class=\\\"mat-tab-body-content\\\" #content\\n     [@translateTab]=\\\"{\\n        value: _position,\\n        params: {animationDuration: animationDuration}\\n     }\\\"\\n     (@translateTab.start)=\\\"_onTranslateTabStarted($event)\\\"\\n     (@translateTab.done)=\\\"_translateTabComplete.next($event)\\\"\\n     cdkScrollable>\\n  <ng-template matTabBodyHost></ng-template>\\n</div>\\n\", styles: [\".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*=\\\"visibility: hidden\\\"]{display:none}\"] }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i1.Directionality, decorators: [{\n                        type: Optional\n                    }] }, { type: i0.ChangeDetectorRef }];\n    }, propDecorators: { _portalHost: [{\n                type: ViewChild,\n                args: [CdkPortalOutlet]\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token that can be used to provide the default options the tabs module. */\nconst MAT_TABS_CONFIG = new InjectionToken('MAT_TABS_CONFIG');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// Boilerplate for applying mixins to MatTabLabelWrapper.\n/** @docs-private */\nconst _MatTabLabelWrapperBase = mixinDisabled(class {\n});\n/**\n * Used in the `mat-tab-group` view to display tab labels.\n * @docs-private\n */\nclass MatTabLabelWrapper extends _MatTabLabelWrapperBase {\n    constructor(elementRef) {\n        super();\n        this.elementRef = elementRef;\n    }\n    /** Sets focus on the wrapper element */\n    focus() {\n        this.elementRef.nativeElement.focus();\n    }\n    getOffsetLeft() {\n        return this.elementRef.nativeElement.offsetLeft;\n    }\n    getOffsetWidth() {\n        return this.elementRef.nativeElement.offsetWidth;\n    }\n}\nMatTabLabelWrapper.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabLabelWrapper, deps: [{ token: i0.ElementRef }], target: i0.FactoryTarget.Directive });\nMatTabLabelWrapper.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabLabelWrapper, selector: \"[matTabLabelWrapper]\", inputs: { disabled: \"disabled\" }, host: { properties: { \"class.mat-tab-disabled\": \"disabled\", \"attr.aria-disabled\": \"!!disabled\" } }, usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabLabelWrapper, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matTabLabelWrapper]',\n                    inputs: ['disabled'],\n                    host: {\n                        '[class.mat-tab-disabled]': 'disabled',\n                        '[attr.aria-disabled]': '!!disabled',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Config used to bind passive event listeners */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({\n    passive: true,\n});\n/**\n * The distance in pixels that will be overshot when scrolling a tab label into view. This helps\n * provide a small affordance to the label next to it.\n */\nconst EXAGGERATED_OVERSCROLL = 60;\n/**\n * Amount of milliseconds to wait before starting to scroll the header automatically.\n * Set a little conservatively in order to handle fake events dispatched on touch devices.\n */\nconst HEADER_SCROLL_DELAY = 650;\n/**\n * Interval in milliseconds at which to scroll the header\n * while the user is holding their pointer.\n */\nconst HEADER_SCROLL_INTERVAL = 100;\n/**\n * Base class for a tab header that supported pagination.\n * @docs-private\n */\nclass MatPaginatedTabHeader {\n    constructor(_elementRef, _changeDetectorRef, _viewportRuler, _dir, _ngZone, _platform, _animationMode) {\n        this._elementRef = _elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._viewportRuler = _viewportRuler;\n        this._dir = _dir;\n        this._ngZone = _ngZone;\n        this._platform = _platform;\n        this._animationMode = _animationMode;\n        /** The distance in pixels that the tab labels should be translated to the left. */\n        this._scrollDistance = 0;\n        /** Whether the header should scroll to the selected index after the view has been checked. */\n        this._selectedIndexChanged = false;\n        /** Emits when the component is destroyed. */\n        this._destroyed = new Subject();\n        /** Whether the controls for pagination should be displayed */\n        this._showPaginationControls = false;\n        /** Whether the tab list can be scrolled more towards the end of the tab label list. */\n        this._disableScrollAfter = true;\n        /** Whether the tab list can be scrolled more towards the beginning of the tab label list. */\n        this._disableScrollBefore = true;\n        /** Stream that will stop the automated scrolling. */\n        this._stopScrolling = new Subject();\n        this._disablePagination = false;\n        this._selectedIndex = 0;\n        /** Event emitted when the option is selected. */\n        this.selectFocusedIndex = new EventEmitter();\n        /** Event emitted when a label is focused. */\n        this.indexFocused = new EventEmitter();\n        // Bind the `mouseleave` event on the outside since it doesn't change anything in the view.\n        _ngZone.runOutsideAngular(() => {\n            fromEvent(_elementRef.nativeElement, 'mouseleave')\n                .pipe(takeUntil(this._destroyed))\n                .subscribe(() => {\n                this._stopInterval();\n            });\n        });\n    }\n    /**\n     * Whether pagination should be disabled. This can be used to avoid unnecessary\n     * layout recalculations if it's known that pagination won't be required.\n     */\n    get disablePagination() {\n        return this._disablePagination;\n    }\n    set disablePagination(value) {\n        this._disablePagination = coerceBooleanProperty(value);\n    }\n    /** The index of the active tab. */\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(value) {\n        value = coerceNumberProperty(value);\n        if (this._selectedIndex != value) {\n            this._selectedIndexChanged = true;\n            this._selectedIndex = value;\n            if (this._keyManager) {\n                this._keyManager.updateActiveItem(value);\n            }\n        }\n    }\n    ngAfterViewInit() {\n        // We need to handle these events manually, because we want to bind passive event listeners.\n        fromEvent(this._previousPaginator.nativeElement, 'touchstart', passiveEventListenerOptions)\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => {\n            this._handlePaginatorPress('before');\n        });\n        fromEvent(this._nextPaginator.nativeElement, 'touchstart', passiveEventListenerOptions)\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => {\n            this._handlePaginatorPress('after');\n        });\n    }\n    ngAfterContentInit() {\n        const dirChange = this._dir ? this._dir.change : of('ltr');\n        const resize = this._viewportRuler.change(150);\n        const realign = () => {\n            this.updatePagination();\n            this._alignInkBarToSelectedTab();\n        };\n        this._keyManager = new FocusKeyManager(this._items)\n            .withHorizontalOrientation(this._getLayoutDirection())\n            .withHomeAndEnd()\n            .withWrap();\n        this._keyManager.updateActiveItem(this._selectedIndex);\n        // Defer the first call in order to allow for slower browsers to lay out the elements.\n        // This helps in cases where the user lands directly on a page with paginated tabs.\n        // Note that we use `onStable` instead of `requestAnimationFrame`, because the latter\n        // can hold up tests that are in a background tab.\n        this._ngZone.onStable.pipe(take(1)).subscribe(realign);\n        // On dir change or window resize, realign the ink bar and update the orientation of\n        // the key manager if the direction has changed.\n        merge(dirChange, resize, this._items.changes, this._itemsResized())\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => {\n            // We need to defer this to give the browser some time to recalculate\n            // the element dimensions. The call has to be wrapped in `NgZone.run`,\n            // because the viewport change handler runs outside of Angular.\n            this._ngZone.run(() => {\n                Promise.resolve().then(() => {\n                    // Clamp the scroll distance, because it can change with the number of tabs.\n                    this._scrollDistance = Math.max(0, Math.min(this._getMaxScrollDistance(), this._scrollDistance));\n                    realign();\n                });\n            });\n            this._keyManager.withHorizontalOrientation(this._getLayoutDirection());\n        });\n        // If there is a change in the focus key manager we need to emit the `indexFocused`\n        // event in order to provide a public event that notifies about focus changes. Also we realign\n        // the tabs container by scrolling the new focused tab into the visible section.\n        this._keyManager.change.pipe(takeUntil(this._destroyed)).subscribe(newFocusIndex => {\n            this.indexFocused.emit(newFocusIndex);\n            this._setTabFocus(newFocusIndex);\n        });\n    }\n    /** Sends any changes that could affect the layout of the items. */\n    _itemsResized() {\n        if (typeof ResizeObserver !== 'function') {\n            return EMPTY;\n        }\n        return this._items.changes.pipe(startWith(this._items), switchMap((tabItems) => new Observable((observer) => this._ngZone.runOutsideAngular(() => {\n            const resizeObserver = new ResizeObserver(entries => observer.next(entries));\n            tabItems.forEach(item => resizeObserver.observe(item.elementRef.nativeElement));\n            return () => {\n                resizeObserver.disconnect();\n            };\n        }))), \n        // Skip the first emit since the resize observer emits when an item\n        // is observed for new items when the tab is already inserted\n        skip(1), \n        // Skip emissions where all the elements are invisible since we don't want\n        // the header to try and re-render with invalid measurements. See #25574.\n        filter(entries => entries.some(e => e.contentRect.width > 0 && e.contentRect.height > 0)));\n    }\n    ngAfterContentChecked() {\n        // If the number of tab labels have changed, check if scrolling should be enabled\n        if (this._tabLabelCount != this._items.length) {\n            this.updatePagination();\n            this._tabLabelCount = this._items.length;\n            this._changeDetectorRef.markForCheck();\n        }\n        // If the selected index has changed, scroll to the label and check if the scrolling controls\n        // should be disabled.\n        if (this._selectedIndexChanged) {\n            this._scrollToLabel(this._selectedIndex);\n            this._checkScrollingControls();\n            this._alignInkBarToSelectedTab();\n            this._selectedIndexChanged = false;\n            this._changeDetectorRef.markForCheck();\n        }\n        // If the scroll distance has been changed (tab selected, focused, scroll controls activated),\n        // then translate the header to reflect this.\n        if (this._scrollDistanceChanged) {\n            this._updateTabScrollPosition();\n            this._scrollDistanceChanged = false;\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    ngOnDestroy() {\n        this._destroyed.next();\n        this._destroyed.complete();\n        this._stopScrolling.complete();\n    }\n    /** Handles keyboard events on the header. */\n    _handleKeydown(event) {\n        // We don't handle any key bindings with a modifier key.\n        if (hasModifierKey(event)) {\n            return;\n        }\n        switch (event.keyCode) {\n            case ENTER:\n            case SPACE:\n                if (this.focusIndex !== this.selectedIndex) {\n                    this.selectFocusedIndex.emit(this.focusIndex);\n                    this._itemSelected(event);\n                }\n                break;\n            default:\n                this._keyManager.onKeydown(event);\n        }\n    }\n    /**\n     * Callback for when the MutationObserver detects that the content has changed.\n     */\n    _onContentChanges() {\n        const textContent = this._elementRef.nativeElement.textContent;\n        // We need to diff the text content of the header, because the MutationObserver callback\n        // will fire even if the text content didn't change which is inefficient and is prone\n        // to infinite loops if a poorly constructed expression is passed in (see #14249).\n        if (textContent !== this._currentTextContent) {\n            this._currentTextContent = textContent || '';\n            // The content observer runs outside the `NgZone` by default, which\n            // means that we need to bring the callback back in ourselves.\n            this._ngZone.run(() => {\n                this.updatePagination();\n                this._alignInkBarToSelectedTab();\n                this._changeDetectorRef.markForCheck();\n            });\n        }\n    }\n    /**\n     * Updates the view whether pagination should be enabled or not.\n     *\n     * WARNING: Calling this method can be very costly in terms of performance. It should be called\n     * as infrequently as possible from outside of the Tabs component as it causes a reflow of the\n     * page.\n     */\n    updatePagination() {\n        this._checkPaginationEnabled();\n        this._checkScrollingControls();\n        this._updateTabScrollPosition();\n    }\n    /** Tracks which element has focus; used for keyboard navigation */\n    get focusIndex() {\n        return this._keyManager ? this._keyManager.activeItemIndex : 0;\n    }\n    /** When the focus index is set, we must manually send focus to the correct label */\n    set focusIndex(value) {\n        if (!this._isValidIndex(value) || this.focusIndex === value || !this._keyManager) {\n            return;\n        }\n        this._keyManager.setActiveItem(value);\n    }\n    /**\n     * Determines if an index is valid.  If the tabs are not ready yet, we assume that the user is\n     * providing a valid index and return true.\n     */\n    _isValidIndex(index) {\n        if (!this._items) {\n            return true;\n        }\n        const tab = this._items ? this._items.toArray()[index] : null;\n        return !!tab && !tab.disabled;\n    }\n    /**\n     * Sets focus on the HTML element for the label wrapper and scrolls it into the view if\n     * scrolling is enabled.\n     */\n    _setTabFocus(tabIndex) {\n        if (this._showPaginationControls) {\n            this._scrollToLabel(tabIndex);\n        }\n        if (this._items && this._items.length) {\n            this._items.toArray()[tabIndex].focus();\n            // Do not let the browser manage scrolling to focus the element, this will be handled\n            // by using translation. In LTR, the scroll left should be 0. In RTL, the scroll width\n            // should be the full width minus the offset width.\n            const containerEl = this._tabListContainer.nativeElement;\n            const dir = this._getLayoutDirection();\n            if (dir == 'ltr') {\n                containerEl.scrollLeft = 0;\n            }\n            else {\n                containerEl.scrollLeft = containerEl.scrollWidth - containerEl.offsetWidth;\n            }\n        }\n    }\n    /** The layout direction of the containing app. */\n    _getLayoutDirection() {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Performs the CSS transformation on the tab list that will cause the list to scroll. */\n    _updateTabScrollPosition() {\n        if (this.disablePagination) {\n            return;\n        }\n        const scrollDistance = this.scrollDistance;\n        const translateX = this._getLayoutDirection() === 'ltr' ? -scrollDistance : scrollDistance;\n        // Don't use `translate3d` here because we don't want to create a new layer. A new layer\n        // seems to cause flickering and overflow in Internet Explorer. For example, the ink bar\n        // and ripples will exceed the boundaries of the visible tab bar.\n        // See: https://github.com/angular/components/issues/10276\n        // We round the `transform` here, because transforms with sub-pixel precision cause some\n        // browsers to blur the content of the element.\n        this._tabList.nativeElement.style.transform = `translateX(${Math.round(translateX)}px)`;\n        // Setting the `transform` on IE will change the scroll offset of the parent, causing the\n        // position to be thrown off in some cases. We have to reset it ourselves to ensure that\n        // it doesn't get thrown off. Note that we scope it only to IE and Edge, because messing\n        // with the scroll position throws off Chrome 71+ in RTL mode (see #14689).\n        if (this._platform.TRIDENT || this._platform.EDGE) {\n            this._tabListContainer.nativeElement.scrollLeft = 0;\n        }\n    }\n    /** Sets the distance in pixels that the tab header should be transformed in the X-axis. */\n    get scrollDistance() {\n        return this._scrollDistance;\n    }\n    set scrollDistance(value) {\n        this._scrollTo(value);\n    }\n    /**\n     * Moves the tab list in the 'before' or 'after' direction (towards the beginning of the list or\n     * the end of the list, respectively). The distance to scroll is computed to be a third of the\n     * length of the tab list view window.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _scrollHeader(direction) {\n        const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n        // Move the scroll distance one-third the length of the tab list's viewport.\n        const scrollAmount = ((direction == 'before' ? -1 : 1) * viewLength) / 3;\n        return this._scrollTo(this._scrollDistance + scrollAmount);\n    }\n    /** Handles click events on the pagination arrows. */\n    _handlePaginatorClick(direction) {\n        this._stopInterval();\n        this._scrollHeader(direction);\n    }\n    /**\n     * Moves the tab list such that the desired tab label (marked by index) is moved into view.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _scrollToLabel(labelIndex) {\n        if (this.disablePagination) {\n            return;\n        }\n        const selectedLabel = this._items ? this._items.toArray()[labelIndex] : null;\n        if (!selectedLabel) {\n            return;\n        }\n        // The view length is the visible width of the tab labels.\n        const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n        const { offsetLeft, offsetWidth } = selectedLabel.elementRef.nativeElement;\n        let labelBeforePos, labelAfterPos;\n        if (this._getLayoutDirection() == 'ltr') {\n            labelBeforePos = offsetLeft;\n            labelAfterPos = labelBeforePos + offsetWidth;\n        }\n        else {\n            labelAfterPos = this._tabListInner.nativeElement.offsetWidth - offsetLeft;\n            labelBeforePos = labelAfterPos - offsetWidth;\n        }\n        const beforeVisiblePos = this.scrollDistance;\n        const afterVisiblePos = this.scrollDistance + viewLength;\n        if (labelBeforePos < beforeVisiblePos) {\n            // Scroll header to move label to the before direction\n            this.scrollDistance -= beforeVisiblePos - labelBeforePos + EXAGGERATED_OVERSCROLL;\n        }\n        else if (labelAfterPos > afterVisiblePos) {\n            // Scroll header to move label to the after direction\n            this.scrollDistance += labelAfterPos - afterVisiblePos + EXAGGERATED_OVERSCROLL;\n        }\n    }\n    /**\n     * Evaluate whether the pagination controls should be displayed. If the scroll width of the\n     * tab list is wider than the size of the header container, then the pagination controls should\n     * be shown.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _checkPaginationEnabled() {\n        if (this.disablePagination) {\n            this._showPaginationControls = false;\n        }\n        else {\n            const isEnabled = this._tabListInner.nativeElement.scrollWidth > this._elementRef.nativeElement.offsetWidth;\n            if (!isEnabled) {\n                this.scrollDistance = 0;\n            }\n            if (isEnabled !== this._showPaginationControls) {\n                this._changeDetectorRef.markForCheck();\n            }\n            this._showPaginationControls = isEnabled;\n        }\n    }\n    /**\n     * Evaluate whether the before and after controls should be enabled or disabled.\n     * If the header is at the beginning of the list (scroll distance is equal to 0) then disable the\n     * before button. If the header is at the end of the list (scroll distance is equal to the\n     * maximum distance we can scroll), then disable the after button.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _checkScrollingControls() {\n        if (this.disablePagination) {\n            this._disableScrollAfter = this._disableScrollBefore = true;\n        }\n        else {\n            // Check if the pagination arrows should be activated.\n            this._disableScrollBefore = this.scrollDistance == 0;\n            this._disableScrollAfter = this.scrollDistance == this._getMaxScrollDistance();\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    /**\n     * Determines what is the maximum length in pixels that can be set for the scroll distance. This\n     * is equal to the difference in width between the tab list container and tab header container.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _getMaxScrollDistance() {\n        const lengthOfTabList = this._tabListInner.nativeElement.scrollWidth;\n        const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n        return lengthOfTabList - viewLength || 0;\n    }\n    /** Tells the ink-bar to align itself to the current label wrapper */\n    _alignInkBarToSelectedTab() {\n        const selectedItem = this._items && this._items.length ? this._items.toArray()[this.selectedIndex] : null;\n        const selectedLabelWrapper = selectedItem ? selectedItem.elementRef.nativeElement : null;\n        if (selectedLabelWrapper) {\n            this._inkBar.alignToElement(selectedLabelWrapper);\n        }\n        else {\n            this._inkBar.hide();\n        }\n    }\n    /** Stops the currently-running paginator interval.  */\n    _stopInterval() {\n        this._stopScrolling.next();\n    }\n    /**\n     * Handles the user pressing down on one of the paginators.\n     * Starts scrolling the header after a certain amount of time.\n     * @param direction In which direction the paginator should be scrolled.\n     */\n    _handlePaginatorPress(direction, mouseEvent) {\n        // Don't start auto scrolling for right mouse button clicks. Note that we shouldn't have to\n        // null check the `button`, but we do it so we don't break tests that use fake events.\n        if (mouseEvent && mouseEvent.button != null && mouseEvent.button !== 0) {\n            return;\n        }\n        // Avoid overlapping timers.\n        this._stopInterval();\n        // Start a timer after the delay and keep firing based on the interval.\n        timer(HEADER_SCROLL_DELAY, HEADER_SCROLL_INTERVAL)\n            // Keep the timer going until something tells it to stop or the component is destroyed.\n            .pipe(takeUntil(merge(this._stopScrolling, this._destroyed)))\n            .subscribe(() => {\n            const { maxScrollDistance, distance } = this._scrollHeader(direction);\n            // Stop the timer if we've reached the start or the end.\n            if (distance === 0 || distance >= maxScrollDistance) {\n                this._stopInterval();\n            }\n        });\n    }\n    /**\n     * Scrolls the header to a given position.\n     * @param position Position to which to scroll.\n     * @returns Information on the current scroll distance and the maximum.\n     */\n    _scrollTo(position) {\n        if (this.disablePagination) {\n            return { maxScrollDistance: 0, distance: 0 };\n        }\n        const maxScrollDistance = this._getMaxScrollDistance();\n        this._scrollDistance = Math.max(0, Math.min(maxScrollDistance, position));\n        // Mark that the scroll distance has changed so that after the view is checked, the CSS\n        // transformation can move the header.\n        this._scrollDistanceChanged = true;\n        this._checkScrollingControls();\n        return { maxScrollDistance, distance: this._scrollDistance };\n    }\n}\nMatPaginatedTabHeader.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatPaginatedTabHeader, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1$1.ViewportRuler }, { token: i1.Directionality, optional: true }, { token: i0.NgZone }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive });\nMatPaginatedTabHeader.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatPaginatedTabHeader, inputs: { disablePagination: \"disablePagination\" }, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatPaginatedTabHeader, decorators: [{\n            type: Directive\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1$1.ViewportRuler }, { type: i1.Directionality, decorators: [{\n                        type: Optional\n                    }] }, { type: i0.NgZone }, { type: i3.Platform }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { disablePagination: [{\n                type: Input\n            }] } });\n\n/**\n * Base class with all of the `MatTabHeader` functionality.\n * @docs-private\n */\nclass _MatTabHeaderBase extends MatPaginatedTabHeader {\n    constructor(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode) {\n        super(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode);\n        this._disableRipple = false;\n    }\n    /** Whether the ripple effect is disabled or not. */\n    get disableRipple() {\n        return this._disableRipple;\n    }\n    set disableRipple(value) {\n        this._disableRipple = coerceBooleanProperty(value);\n    }\n    _itemSelected(event) {\n        event.preventDefault();\n    }\n}\n_MatTabHeaderBase.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabHeaderBase, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1$1.ViewportRuler }, { token: i1.Directionality, optional: true }, { token: i0.NgZone }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive });\n_MatTabHeaderBase.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: _MatTabHeaderBase, inputs: { disableRipple: \"disableRipple\" }, usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabHeaderBase, decorators: [{\n            type: Directive\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1$1.ViewportRuler }, { type: i1.Directionality, decorators: [{\n                        type: Optional\n                    }] }, { type: i0.NgZone }, { type: i3.Platform }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { disableRipple: [{\n                type: Input\n            }] } });\n/**\n * The header of the tab group which displays a list of all the tabs in the tab group. Includes\n * an ink bar that follows the currently selected tab. When the tabs list's width exceeds the\n * width of the header container, then arrows will be displayed to allow the user to scroll\n * left and right across the header.\n * @docs-private\n */\nclass MatTabHeader extends _MatTabHeaderBase {\n    constructor(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode) {\n        super(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode);\n    }\n}\nMatTabHeader.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabHeader, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1$1.ViewportRuler }, { token: i1.Directionality, optional: true }, { token: i0.NgZone }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Component });\nMatTabHeader.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabHeader, selector: \"mat-tab-header\", inputs: { selectedIndex: \"selectedIndex\" }, outputs: { selectFocusedIndex: \"selectFocusedIndex\", indexFocused: \"indexFocused\" }, host: { properties: { \"class.mat-tab-header-pagination-controls-enabled\": \"_showPaginationControls\", \"class.mat-tab-header-rtl\": \"_getLayoutDirection() == 'rtl'\" }, classAttribute: \"mat-tab-header\" }, queries: [{ propertyName: \"_items\", predicate: MatTabLabelWrapper }], viewQueries: [{ propertyName: \"_inkBar\", first: true, predicate: MatInkBar, descendants: true, static: true }, { propertyName: \"_tabListContainer\", first: true, predicate: [\"tabListContainer\"], descendants: true, static: true }, { propertyName: \"_tabList\", first: true, predicate: [\"tabList\"], descendants: true, static: true }, { propertyName: \"_tabListInner\", first: true, predicate: [\"tabListInner\"], descendants: true, static: true }, { propertyName: \"_nextPaginator\", first: true, predicate: [\"nextPaginator\"], descendants: true }, { propertyName: \"_previousPaginator\", first: true, predicate: [\"previousPaginator\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4\\\"\\n     #previousPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     tabindex=\\\"-1\\\"\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     [disabled]=\\\"_disableScrollBefore || null\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\\n<div class=\\\"mat-tab-label-container\\\" #tabListContainer (keydown)=\\\"_handleKeydown($event)\\\">\\n  <div\\n    #tabList\\n    class=\\\"mat-tab-list\\\"\\n    [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n    role=\\\"tablist\\\"\\n    (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-tab-labels\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n    <mat-ink-bar></mat-ink-bar>\\n  </div>\\n</div>\\n\\n<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4\\\"\\n     #nextPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     [disabled]=\\\"_disableScrollAfter || null\\\"\\n     tabindex=\\\"-1\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\", styles: [\".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\"], dependencies: [{ kind: \"directive\", type: i4.MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: i5.CdkObserveContent, selector: \"[cdkObserveContent]\", inputs: [\"cdkObserveContentDisabled\", \"debounce\"], outputs: [\"cdkObserveContent\"], exportAs: [\"cdkObserveContent\"] }, { kind: \"directive\", type: MatInkBar, selector: \"mat-ink-bar\" }], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabHeader, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab-header', inputs: ['selectedIndex'], outputs: ['selectFocusedIndex', 'indexFocused'], encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, host: {\n                        'class': 'mat-tab-header',\n                        '[class.mat-tab-header-pagination-controls-enabled]': '_showPaginationControls',\n                        '[class.mat-tab-header-rtl]': \"_getLayoutDirection() == 'rtl'\",\n                    }, template: \"<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4\\\"\\n     #previousPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     tabindex=\\\"-1\\\"\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     [disabled]=\\\"_disableScrollBefore || null\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\\n<div class=\\\"mat-tab-label-container\\\" #tabListContainer (keydown)=\\\"_handleKeydown($event)\\\">\\n  <div\\n    #tabList\\n    class=\\\"mat-tab-list\\\"\\n    [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n    role=\\\"tablist\\\"\\n    (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-tab-labels\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n    <mat-ink-bar></mat-ink-bar>\\n  </div>\\n</div>\\n\\n<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4\\\"\\n     #nextPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     [disabled]=\\\"_disableScrollAfter || null\\\"\\n     tabindex=\\\"-1\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\", styles: [\".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\"] }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1$1.ViewportRuler }, { type: i1.Directionality, decorators: [{\n                        type: Optional\n                    }] }, { type: i0.NgZone }, { type: i3.Platform }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { _items: [{\n                type: ContentChildren,\n                args: [MatTabLabelWrapper, { descendants: false }]\n            }], _inkBar: [{\n                type: ViewChild,\n                args: [MatInkBar, { static: true }]\n            }], _tabListContainer: [{\n                type: ViewChild,\n                args: ['tabListContainer', { static: true }]\n            }], _tabList: [{\n                type: ViewChild,\n                args: ['tabList', { static: true }]\n            }], _tabListInner: [{\n                type: ViewChild,\n                args: ['tabListInner', { static: true }]\n            }], _nextPaginator: [{\n                type: ViewChild,\n                args: ['nextPaginator']\n            }], _previousPaginator: [{\n                type: ViewChild,\n                args: ['previousPaginator']\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Used to generate unique ID's for each tab component */\nlet nextId = 0;\n/** A simple change event emitted on focus or selection changes. */\nclass MatTabChangeEvent {\n}\n// Boilerplate for applying mixins to MatTabGroup.\n/** @docs-private */\nconst _MatTabGroupMixinBase = mixinColor(mixinDisableRipple(class {\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n    }\n}), 'primary');\n/**\n * Base class with all of the `MatTabGroupBase` functionality.\n * @docs-private\n */\nclass _MatTabGroupBase extends _MatTabGroupMixinBase {\n    constructor(elementRef, _changeDetectorRef, defaultConfig, _animationMode) {\n        var _a;\n        super(elementRef);\n        this._changeDetectorRef = _changeDetectorRef;\n        this._animationMode = _animationMode;\n        /** All of the tabs that belong to the group. */\n        this._tabs = new QueryList();\n        /** The tab index that should be selected after the content has been checked. */\n        this._indexToSelect = 0;\n        /** Index of the tab that was focused last. */\n        this._lastFocusedTabIndex = null;\n        /** Snapshot of the height of the tab body wrapper before another tab is activated. */\n        this._tabBodyWrapperHeight = 0;\n        /** Subscription to tabs being added/removed. */\n        this._tabsSubscription = Subscription.EMPTY;\n        /** Subscription to changes in the tab labels. */\n        this._tabLabelSubscription = Subscription.EMPTY;\n        this._dynamicHeight = false;\n        this._selectedIndex = null;\n        /** Position of the tab header. */\n        this.headerPosition = 'above';\n        this._disablePagination = false;\n        this._preserveContent = false;\n        /** Output to enable support for two-way binding on `[(selectedIndex)]` */\n        this.selectedIndexChange = new EventEmitter();\n        /** Event emitted when focus has changed within a tab group. */\n        this.focusChange = new EventEmitter();\n        /** Event emitted when the body animation has completed */\n        this.animationDone = new EventEmitter();\n        /** Event emitted when the tab selection has changed. */\n        this.selectedTabChange = new EventEmitter(true);\n        this._groupId = nextId++;\n        this.animationDuration =\n            defaultConfig && defaultConfig.animationDuration ? defaultConfig.animationDuration : '500ms';\n        this.disablePagination =\n            defaultConfig && defaultConfig.disablePagination != null\n                ? defaultConfig.disablePagination\n                : false;\n        this.dynamicHeight =\n            defaultConfig && defaultConfig.dynamicHeight != null ? defaultConfig.dynamicHeight : false;\n        this.contentTabIndex = (_a = defaultConfig === null || defaultConfig === void 0 ? void 0 : defaultConfig.contentTabIndex) !== null && _a !== void 0 ? _a : null;\n        this.preserveContent = !!(defaultConfig === null || defaultConfig === void 0 ? void 0 : defaultConfig.preserveContent);\n    }\n    /** Whether the tab group should grow to the size of the active tab. */\n    get dynamicHeight() {\n        return this._dynamicHeight;\n    }\n    set dynamicHeight(value) {\n        this._dynamicHeight = coerceBooleanProperty(value);\n    }\n    /** The index of the active tab. */\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(value) {\n        this._indexToSelect = coerceNumberProperty(value, null);\n    }\n    /** Duration for the tab animation. Will be normalized to milliseconds if no units are set. */\n    get animationDuration() {\n        return this._animationDuration;\n    }\n    set animationDuration(value) {\n        this._animationDuration = /^\\d+$/.test(value + '') ? value + 'ms' : value;\n    }\n    /**\n     * `tabindex` to be set on the inner element that wraps the tab content. Can be used for improved\n     * accessibility when the tab does not have focusable elements or if it has scrollable content.\n     * The `tabindex` will be removed automatically for inactive tabs.\n     * Read more at https://www.w3.org/TR/wai-aria-practices/examples/tabs/tabs-2/tabs.html\n     */\n    get contentTabIndex() {\n        return this._contentTabIndex;\n    }\n    set contentTabIndex(value) {\n        this._contentTabIndex = coerceNumberProperty(value, null);\n    }\n    /**\n     * Whether pagination should be disabled. This can be used to avoid unnecessary\n     * layout recalculations if it's known that pagination won't be required.\n     */\n    get disablePagination() {\n        return this._disablePagination;\n    }\n    set disablePagination(value) {\n        this._disablePagination = coerceBooleanProperty(value);\n    }\n    /**\n     * By default tabs remove their content from the DOM while it's off-screen.\n     * Setting this to `true` will keep it in the DOM which will prevent elements\n     * like iframes and videos from reloading next time it comes back into the view.\n     */\n    get preserveContent() {\n        return this._preserveContent;\n    }\n    set preserveContent(value) {\n        this._preserveContent = coerceBooleanProperty(value);\n    }\n    /** Background color of the tab group. */\n    get backgroundColor() {\n        return this._backgroundColor;\n    }\n    set backgroundColor(value) {\n        const nativeElement = this._elementRef.nativeElement;\n        nativeElement.classList.remove(`mat-background-${this.backgroundColor}`);\n        if (value) {\n            nativeElement.classList.add(`mat-background-${value}`);\n        }\n        this._backgroundColor = value;\n    }\n    /**\n     * After the content is checked, this component knows what tabs have been defined\n     * and what the selected index should be. This is where we can know exactly what position\n     * each tab should be in according to the new selected index, and additionally we know how\n     * a new selected tab should transition in (from the left or right).\n     */\n    ngAfterContentChecked() {\n        // Don't clamp the `indexToSelect` immediately in the setter because it can happen that\n        // the amount of tabs changes before the actual change detection runs.\n        const indexToSelect = (this._indexToSelect = this._clampTabIndex(this._indexToSelect));\n        // If there is a change in selected index, emit a change event. Should not trigger if\n        // the selected index has not yet been initialized.\n        if (this._selectedIndex != indexToSelect) {\n            const isFirstRun = this._selectedIndex == null;\n            if (!isFirstRun) {\n                this.selectedTabChange.emit(this._createChangeEvent(indexToSelect));\n                // Preserve the height so page doesn't scroll up during tab change.\n                // Fixes https://stackblitz.com/edit/mat-tabs-scroll-page-top-on-tab-change\n                const wrapper = this._tabBodyWrapper.nativeElement;\n                wrapper.style.minHeight = wrapper.clientHeight + 'px';\n            }\n            // Changing these values after change detection has run\n            // since the checked content may contain references to them.\n            Promise.resolve().then(() => {\n                this._tabs.forEach((tab, index) => (tab.isActive = index === indexToSelect));\n                if (!isFirstRun) {\n                    this.selectedIndexChange.emit(indexToSelect);\n                    // Clear the min-height, this was needed during tab change to avoid\n                    // unnecessary scrolling.\n                    this._tabBodyWrapper.nativeElement.style.minHeight = '';\n                }\n            });\n        }\n        // Setup the position for each tab and optionally setup an origin on the next selected tab.\n        this._tabs.forEach((tab, index) => {\n            tab.position = index - indexToSelect;\n            // If there is already a selected tab, then set up an origin for the next selected tab\n            // if it doesn't have one already.\n            if (this._selectedIndex != null && tab.position == 0 && !tab.origin) {\n                tab.origin = indexToSelect - this._selectedIndex;\n            }\n        });\n        if (this._selectedIndex !== indexToSelect) {\n            this._selectedIndex = indexToSelect;\n            this._lastFocusedTabIndex = null;\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    ngAfterContentInit() {\n        this._subscribeToAllTabChanges();\n        this._subscribeToTabLabels();\n        // Subscribe to changes in the amount of tabs, in order to be\n        // able to re-render the content as new tabs are added or removed.\n        this._tabsSubscription = this._tabs.changes.subscribe(() => {\n            const indexToSelect = this._clampTabIndex(this._indexToSelect);\n            // Maintain the previously-selected tab if a new tab is added or removed and there is no\n            // explicit change that selects a different tab.\n            if (indexToSelect === this._selectedIndex) {\n                const tabs = this._tabs.toArray();\n                let selectedTab;\n                for (let i = 0; i < tabs.length; i++) {\n                    if (tabs[i].isActive) {\n                        // Assign both to the `_indexToSelect` and `_selectedIndex` so we don't fire a changed\n                        // event, otherwise the consumer may end up in an infinite loop in some edge cases like\n                        // adding a tab within the `selectedIndexChange` event.\n                        this._indexToSelect = this._selectedIndex = i;\n                        this._lastFocusedTabIndex = null;\n                        selectedTab = tabs[i];\n                        break;\n                    }\n                }\n                // If we haven't found an active tab and a tab exists at the selected index, it means\n                // that the active tab was swapped out. Since this won't be picked up by the rendering\n                // loop in `ngAfterContentChecked`, we need to sync it up manually.\n                if (!selectedTab && tabs[indexToSelect]) {\n                    Promise.resolve().then(() => {\n                        tabs[indexToSelect].isActive = true;\n                        this.selectedTabChange.emit(this._createChangeEvent(indexToSelect));\n                    });\n                }\n            }\n            this._changeDetectorRef.markForCheck();\n        });\n    }\n    /** Listens to changes in all of the tabs. */\n    _subscribeToAllTabChanges() {\n        // Since we use a query with `descendants: true` to pick up the tabs, we may end up catching\n        // some that are inside of nested tab groups. We filter them out manually by checking that\n        // the closest group to the tab is the current one.\n        this._allTabs.changes.pipe(startWith(this._allTabs)).subscribe((tabs) => {\n            this._tabs.reset(tabs.filter(tab => {\n                return tab._closestTabGroup === this || !tab._closestTabGroup;\n            }));\n            this._tabs.notifyOnChanges();\n        });\n    }\n    ngOnDestroy() {\n        this._tabs.destroy();\n        this._tabsSubscription.unsubscribe();\n        this._tabLabelSubscription.unsubscribe();\n    }\n    /** Re-aligns the ink bar to the selected tab element. */\n    realignInkBar() {\n        if (this._tabHeader) {\n            this._tabHeader._alignInkBarToSelectedTab();\n        }\n    }\n    /**\n     * Recalculates the tab group's pagination dimensions.\n     *\n     * WARNING: Calling this method can be very costly in terms of performance. It should be called\n     * as infrequently as possible from outside of the Tabs component as it causes a reflow of the\n     * page.\n     */\n    updatePagination() {\n        if (this._tabHeader) {\n            this._tabHeader.updatePagination();\n        }\n    }\n    /**\n     * Sets focus to a particular tab.\n     * @param index Index of the tab to be focused.\n     */\n    focusTab(index) {\n        const header = this._tabHeader;\n        if (header) {\n            header.focusIndex = index;\n        }\n    }\n    _focusChanged(index) {\n        this._lastFocusedTabIndex = index;\n        this.focusChange.emit(this._createChangeEvent(index));\n    }\n    _createChangeEvent(index) {\n        const event = new MatTabChangeEvent();\n        event.index = index;\n        if (this._tabs && this._tabs.length) {\n            event.tab = this._tabs.toArray()[index];\n        }\n        return event;\n    }\n    /**\n     * Subscribes to changes in the tab labels. This is needed, because the @Input for the label is\n     * on the MatTab component, whereas the data binding is inside the MatTabGroup. In order for the\n     * binding to be updated, we need to subscribe to changes in it and trigger change detection\n     * manually.\n     */\n    _subscribeToTabLabels() {\n        if (this._tabLabelSubscription) {\n            this._tabLabelSubscription.unsubscribe();\n        }\n        this._tabLabelSubscription = merge(...this._tabs.map(tab => tab._stateChanges)).subscribe(() => this._changeDetectorRef.markForCheck());\n    }\n    /** Clamps the given index to the bounds of 0 and the tabs length. */\n    _clampTabIndex(index) {\n        // Note the `|| 0`, which ensures that values like NaN can't get through\n        // and which would otherwise throw the component into an infinite loop\n        // (since Math.max(NaN, 0) === NaN).\n        return Math.min(this._tabs.length - 1, Math.max(index || 0, 0));\n    }\n    /** Returns a unique id for each tab label element */\n    _getTabLabelId(i) {\n        return `mat-tab-label-${this._groupId}-${i}`;\n    }\n    /** Returns a unique id for each tab content element */\n    _getTabContentId(i) {\n        return `mat-tab-content-${this._groupId}-${i}`;\n    }\n    /**\n     * Sets the height of the body wrapper to the height of the activating tab if dynamic\n     * height property is true.\n     */\n    _setTabBodyWrapperHeight(tabHeight) {\n        if (!this._dynamicHeight || !this._tabBodyWrapperHeight) {\n            return;\n        }\n        const wrapper = this._tabBodyWrapper.nativeElement;\n        wrapper.style.height = this._tabBodyWrapperHeight + 'px';\n        // This conditional forces the browser to paint the height so that\n        // the animation to the new height can have an origin.\n        if (this._tabBodyWrapper.nativeElement.offsetHeight) {\n            wrapper.style.height = tabHeight + 'px';\n        }\n    }\n    /** Removes the height of the tab body wrapper. */\n    _removeTabBodyWrapperHeight() {\n        const wrapper = this._tabBodyWrapper.nativeElement;\n        this._tabBodyWrapperHeight = wrapper.clientHeight;\n        wrapper.style.height = '';\n        this.animationDone.emit();\n    }\n    /** Handle click events, setting new selected index if appropriate. */\n    _handleClick(tab, tabHeader, index) {\n        if (!tab.disabled) {\n            this.selectedIndex = tabHeader.focusIndex = index;\n        }\n    }\n    /** Retrieves the tabindex for the tab. */\n    _getTabIndex(tab, index) {\n        var _a;\n        if (tab.disabled) {\n            return null;\n        }\n        const targetIndex = (_a = this._lastFocusedTabIndex) !== null && _a !== void 0 ? _a : this.selectedIndex;\n        return index === targetIndex ? 0 : -1;\n    }\n    /** Callback for when the focused state of a tab has changed. */\n    _tabFocusChanged(focusOrigin, index) {\n        // Mouse/touch focus happens during the `mousedown`/`touchstart` phase which\n        // can cause the tab to be moved out from under the pointer, interrupting the\n        // click sequence (see #21898). We don't need to scroll the tab into view for\n        // such cases anyway, because it will be done when the tab becomes selected.\n        if (focusOrigin && focusOrigin !== 'mouse' && focusOrigin !== 'touch') {\n            this._tabHeader.focusIndex = index;\n        }\n    }\n}\n_MatTabGroupBase.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabGroupBase, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: MAT_TABS_CONFIG, optional: true }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive });\n_MatTabGroupBase.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: _MatTabGroupBase, inputs: { dynamicHeight: \"dynamicHeight\", selectedIndex: \"selectedIndex\", headerPosition: \"headerPosition\", animationDuration: \"animationDuration\", contentTabIndex: \"contentTabIndex\", disablePagination: \"disablePagination\", preserveContent: \"preserveContent\", backgroundColor: \"backgroundColor\" }, outputs: { selectedIndexChange: \"selectedIndexChange\", focusChange: \"focusChange\", animationDone: \"animationDone\", selectedTabChange: \"selectedTabChange\" }, usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabGroupBase, decorators: [{\n            type: Directive\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [MAT_TABS_CONFIG]\n                    }, {\n                        type: Optional\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { dynamicHeight: [{\n                type: Input\n            }], selectedIndex: [{\n                type: Input\n            }], headerPosition: [{\n                type: Input\n            }], animationDuration: [{\n                type: Input\n            }], contentTabIndex: [{\n                type: Input\n            }], disablePagination: [{\n                type: Input\n            }], preserveContent: [{\n                type: Input\n            }], backgroundColor: [{\n                type: Input\n            }], selectedIndexChange: [{\n                type: Output\n            }], focusChange: [{\n                type: Output\n            }], animationDone: [{\n                type: Output\n            }], selectedTabChange: [{\n                type: Output\n            }] } });\n/**\n * Material design tab-group component. Supports basic tab pairs (label + content) and includes\n * animated ink-bar, keyboard navigation, and screen reader.\n * See: https://material.io/design/components/tabs.html\n */\nclass MatTabGroup extends _MatTabGroupBase {\n    constructor(elementRef, changeDetectorRef, defaultConfig, animationMode) {\n        super(elementRef, changeDetectorRef, defaultConfig, animationMode);\n    }\n}\nMatTabGroup.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabGroup, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: MAT_TABS_CONFIG, optional: true }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Component });\nMatTabGroup.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabGroup, selector: \"mat-tab-group\", inputs: { color: \"color\", disableRipple: \"disableRipple\" }, host: { properties: { \"class.mat-tab-group-dynamic-height\": \"dynamicHeight\", \"class.mat-tab-group-inverted-header\": \"headerPosition === \\\"below\\\"\" }, classAttribute: \"mat-tab-group\" }, providers: [\n        {\n            provide: MAT_TAB_GROUP,\n            useExisting: MatTabGroup,\n        },\n    ], queries: [{ propertyName: \"_allTabs\", predicate: MatTab, descendants: true }], viewQueries: [{ propertyName: \"_tabBodyWrapper\", first: true, predicate: [\"tabBodyWrapper\"], descendants: true }, { propertyName: \"_tabHeader\", first: true, predicate: [\"tabHeader\"], descendants: true }], exportAs: [\"matTabGroup\"], usesInheritance: true, ngImport: i0, template: \"<mat-tab-header #tabHeader\\n               [selectedIndex]=\\\"selectedIndex || 0\\\"\\n               [disableRipple]=\\\"disableRipple\\\"\\n               [disablePagination]=\\\"disablePagination\\\"\\n               (indexFocused)=\\\"_focusChanged($event)\\\"\\n               (selectFocusedIndex)=\\\"selectedIndex = $event\\\">\\n  <div class=\\\"mat-tab-label mat-focus-indicator\\\" role=\\\"tab\\\" matTabLabelWrapper mat-ripple\\n       cdkMonitorElementFocus\\n       *ngFor=\\\"let tab of _tabs; let i = index\\\"\\n       [id]=\\\"_getTabLabelId(i)\\\"\\n       [attr.tabIndex]=\\\"_getTabIndex(tab, i)\\\"\\n       [attr.aria-posinset]=\\\"i + 1\\\"\\n       [attr.aria-setsize]=\\\"_tabs.length\\\"\\n       [attr.aria-controls]=\\\"_getTabContentId(i)\\\"\\n       [attr.aria-selected]=\\\"selectedIndex === i\\\"\\n       [attr.aria-label]=\\\"tab.ariaLabel || null\\\"\\n       [attr.aria-labelledby]=\\\"(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null\\\"\\n       [class.mat-tab-label-active]=\\\"selectedIndex === i\\\"\\n       [ngClass]=\\\"tab.labelClass\\\"\\n       [disabled]=\\\"tab.disabled\\\"\\n       [matRippleDisabled]=\\\"tab.disabled || disableRipple\\\"\\n       (click)=\\\"_handleClick(tab, tabHeader, i)\\\"\\n       (cdkFocusChange)=\\\"_tabFocusChanged($event, i)\\\">\\n\\n\\n    <div class=\\\"mat-tab-label-content\\\">\\n      <!-- If there is a label template, use it. -->\\n      <ng-template [ngIf]=\\\"tab.templateLabel\\\" [ngIfElse]=\\\"tabTextLabel\\\">\\n        <ng-template [cdkPortalOutlet]=\\\"tab.templateLabel\\\"></ng-template>\\n      </ng-template>\\n\\n      <!-- If there is not a label template, fall back to the text label. -->\\n      <ng-template #tabTextLabel>{{tab.textLabel}}</ng-template>\\n    </div>\\n  </div>\\n</mat-tab-header>\\n\\n<div\\n  class=\\\"mat-tab-body-wrapper\\\"\\n  [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n  #tabBodyWrapper>\\n  <mat-tab-body role=\\\"tabpanel\\\"\\n               *ngFor=\\\"let tab of _tabs; let i = index\\\"\\n               [id]=\\\"_getTabContentId(i)\\\"\\n               [attr.tabindex]=\\\"(contentTabIndex != null && selectedIndex === i) ? contentTabIndex : null\\\"\\n               [attr.aria-labelledby]=\\\"_getTabLabelId(i)\\\"\\n               [class.mat-tab-body-active]=\\\"selectedIndex === i\\\"\\n               [ngClass]=\\\"tab.bodyClass\\\"\\n               [content]=\\\"tab.content!\\\"\\n               [position]=\\\"tab.position!\\\"\\n               [origin]=\\\"tab.origin\\\"\\n               [animationDuration]=\\\"animationDuration\\\"\\n               [preserveContent]=\\\"preserveContent\\\"\\n               (_onCentered)=\\\"_removeTabBodyWrapperHeight()\\\"\\n               (_onCentering)=\\\"_setTabBodyWrapperHeight($event)\\\">\\n  </mat-tab-body>\\n</div>\\n\", styles: [\".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\"], dependencies: [{ kind: \"directive\", type: i1$2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i1$2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1$2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.CdkPortalOutlet, selector: \"[cdkPortalOutlet]\", inputs: [\"cdkPortalOutlet\"], outputs: [\"attached\"], exportAs: [\"cdkPortalOutlet\"] }, { kind: \"directive\", type: i4.MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: i7.CdkMonitorFocus, selector: \"[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]\", outputs: [\"cdkFocusChange\"], exportAs: [\"cdkMonitorFocus\"] }, { kind: \"directive\", type: MatTabLabelWrapper, selector: \"[matTabLabelWrapper]\", inputs: [\"disabled\"] }, { kind: \"component\", type: MatTabBody, selector: \"mat-tab-body\" }, { kind: \"component\", type: MatTabHeader, selector: \"mat-tab-header\", inputs: [\"selectedIndex\"], outputs: [\"selectFocusedIndex\", \"indexFocused\"] }], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabGroup, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab-group', exportAs: 'matTabGroup', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, inputs: ['color', 'disableRipple'], providers: [\n                        {\n                            provide: MAT_TAB_GROUP,\n                            useExisting: MatTabGroup,\n                        },\n                    ], host: {\n                        'class': 'mat-tab-group',\n                        '[class.mat-tab-group-dynamic-height]': 'dynamicHeight',\n                        '[class.mat-tab-group-inverted-header]': 'headerPosition === \"below\"',\n                    }, template: \"<mat-tab-header #tabHeader\\n               [selectedIndex]=\\\"selectedIndex || 0\\\"\\n               [disableRipple]=\\\"disableRipple\\\"\\n               [disablePagination]=\\\"disablePagination\\\"\\n               (indexFocused)=\\\"_focusChanged($event)\\\"\\n               (selectFocusedIndex)=\\\"selectedIndex = $event\\\">\\n  <div class=\\\"mat-tab-label mat-focus-indicator\\\" role=\\\"tab\\\" matTabLabelWrapper mat-ripple\\n       cdkMonitorElementFocus\\n       *ngFor=\\\"let tab of _tabs; let i = index\\\"\\n       [id]=\\\"_getTabLabelId(i)\\\"\\n       [attr.tabIndex]=\\\"_getTabIndex(tab, i)\\\"\\n       [attr.aria-posinset]=\\\"i + 1\\\"\\n       [attr.aria-setsize]=\\\"_tabs.length\\\"\\n       [attr.aria-controls]=\\\"_getTabContentId(i)\\\"\\n       [attr.aria-selected]=\\\"selectedIndex === i\\\"\\n       [attr.aria-label]=\\\"tab.ariaLabel || null\\\"\\n       [attr.aria-labelledby]=\\\"(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null\\\"\\n       [class.mat-tab-label-active]=\\\"selectedIndex === i\\\"\\n       [ngClass]=\\\"tab.labelClass\\\"\\n       [disabled]=\\\"tab.disabled\\\"\\n       [matRippleDisabled]=\\\"tab.disabled || disableRipple\\\"\\n       (click)=\\\"_handleClick(tab, tabHeader, i)\\\"\\n       (cdkFocusChange)=\\\"_tabFocusChanged($event, i)\\\">\\n\\n\\n    <div class=\\\"mat-tab-label-content\\\">\\n      <!-- If there is a label template, use it. -->\\n      <ng-template [ngIf]=\\\"tab.templateLabel\\\" [ngIfElse]=\\\"tabTextLabel\\\">\\n        <ng-template [cdkPortalOutlet]=\\\"tab.templateLabel\\\"></ng-template>\\n      </ng-template>\\n\\n      <!-- If there is not a label template, fall back to the text label. -->\\n      <ng-template #tabTextLabel>{{tab.textLabel}}</ng-template>\\n    </div>\\n  </div>\\n</mat-tab-header>\\n\\n<div\\n  class=\\\"mat-tab-body-wrapper\\\"\\n  [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n  #tabBodyWrapper>\\n  <mat-tab-body role=\\\"tabpanel\\\"\\n               *ngFor=\\\"let tab of _tabs; let i = index\\\"\\n               [id]=\\\"_getTabContentId(i)\\\"\\n               [attr.tabindex]=\\\"(contentTabIndex != null && selectedIndex === i) ? contentTabIndex : null\\\"\\n               [attr.aria-labelledby]=\\\"_getTabLabelId(i)\\\"\\n               [class.mat-tab-body-active]=\\\"selectedIndex === i\\\"\\n               [ngClass]=\\\"tab.bodyClass\\\"\\n               [content]=\\\"tab.content!\\\"\\n               [position]=\\\"tab.position!\\\"\\n               [origin]=\\\"tab.origin\\\"\\n               [animationDuration]=\\\"animationDuration\\\"\\n               [preserveContent]=\\\"preserveContent\\\"\\n               (_onCentered)=\\\"_removeTabBodyWrapperHeight()\\\"\\n               (_onCentering)=\\\"_setTabBodyWrapperHeight($event)\\\">\\n  </mat-tab-body>\\n</div>\\n\", styles: [\".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\"] }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [MAT_TABS_CONFIG]\n                    }, {\n                        type: Optional\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { _allTabs: [{\n                type: ContentChildren,\n                args: [MatTab, { descendants: true }]\n            }], _tabBodyWrapper: [{\n                type: ViewChild,\n                args: ['tabBodyWrapper']\n            }], _tabHeader: [{\n                type: ViewChild,\n                args: ['tabHeader']\n            }] } });\n\n// Increasing integer for generating unique ids for tab nav components.\nlet nextUniqueId = 0;\n/**\n * Base class with all of the `MatTabNav` functionality.\n * @docs-private\n */\nclass _MatTabNavBase extends MatPaginatedTabHeader {\n    constructor(elementRef, dir, ngZone, changeDetectorRef, viewportRuler, platform, animationMode) {\n        super(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode);\n        this._disableRipple = false;\n        /** Theme color of the nav bar. */\n        this.color = 'primary';\n    }\n    /** Background color of the tab nav. */\n    get backgroundColor() {\n        return this._backgroundColor;\n    }\n    set backgroundColor(value) {\n        const classList = this._elementRef.nativeElement.classList;\n        classList.remove(`mat-background-${this.backgroundColor}`);\n        if (value) {\n            classList.add(`mat-background-${value}`);\n        }\n        this._backgroundColor = value;\n    }\n    /** Whether the ripple effect is disabled or not. */\n    get disableRipple() {\n        return this._disableRipple;\n    }\n    set disableRipple(value) {\n        this._disableRipple = coerceBooleanProperty(value);\n    }\n    _itemSelected() {\n        // noop\n    }\n    ngAfterContentInit() {\n        // We need this to run before the `changes` subscription in parent to ensure that the\n        // selectedIndex is up-to-date by the time the super class starts looking for it.\n        this._items.changes.pipe(startWith(null), takeUntil(this._destroyed)).subscribe(() => {\n            this.updateActiveLink();\n        });\n        super.ngAfterContentInit();\n    }\n    /** Notifies the component that the active link has been changed. */\n    updateActiveLink() {\n        if (!this._items) {\n            return;\n        }\n        const items = this._items.toArray();\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].active) {\n                this.selectedIndex = i;\n                this._changeDetectorRef.markForCheck();\n                if (this.tabPanel) {\n                    this.tabPanel._activeTabId = items[i].id;\n                }\n                return;\n            }\n        }\n        // The ink bar should hide itself if no items are active.\n        this.selectedIndex = -1;\n        this._inkBar.hide();\n    }\n    _getRole() {\n        return this.tabPanel ? 'tablist' : this._elementRef.nativeElement.getAttribute('role');\n    }\n}\n_MatTabNavBase.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabNavBase, deps: [{ token: i0.ElementRef }, { token: i1.Directionality, optional: true }, { token: i0.NgZone }, { token: i0.ChangeDetectorRef }, { token: i1$1.ViewportRuler }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive });\n_MatTabNavBase.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: _MatTabNavBase, inputs: { backgroundColor: \"backgroundColor\", disableRipple: \"disableRipple\", color: \"color\", tabPanel: \"tabPanel\" }, usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabNavBase, decorators: [{\n            type: Directive\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i1.Directionality, decorators: [{\n                        type: Optional\n                    }] }, { type: i0.NgZone }, { type: i0.ChangeDetectorRef }, { type: i1$1.ViewportRuler }, { type: i3.Platform }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { backgroundColor: [{\n                type: Input\n            }], disableRipple: [{\n                type: Input\n            }], color: [{\n                type: Input\n            }], tabPanel: [{\n                type: Input\n            }] } });\n/**\n * Navigation component matching the styles of the tab group header.\n * Provides anchored navigation with animated ink bar.\n */\nclass MatTabNav extends _MatTabNavBase {\n    constructor(elementRef, dir, ngZone, changeDetectorRef, viewportRuler, platform, animationMode) {\n        super(elementRef, dir, ngZone, changeDetectorRef, viewportRuler, platform, animationMode);\n    }\n}\nMatTabNav.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabNav, deps: [{ token: i0.ElementRef }, { token: i1.Directionality, optional: true }, { token: i0.NgZone }, { token: i0.ChangeDetectorRef }, { token: i1$1.ViewportRuler }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Component });\nMatTabNav.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabNav, selector: \"[mat-tab-nav-bar]\", inputs: { color: \"color\" }, host: { properties: { \"attr.role\": \"_getRole()\", \"class.mat-tab-header-pagination-controls-enabled\": \"_showPaginationControls\", \"class.mat-tab-header-rtl\": \"_getLayoutDirection() == 'rtl'\", \"class.mat-primary\": \"color !== \\\"warn\\\" && color !== \\\"accent\\\"\", \"class.mat-accent\": \"color === \\\"accent\\\"\", \"class.mat-warn\": \"color === \\\"warn\\\"\" }, classAttribute: \"mat-tab-nav-bar mat-tab-header\" }, queries: [{ propertyName: \"_items\", predicate: i0.forwardRef(function () { return MatTabLink; }), descendants: true }], viewQueries: [{ propertyName: \"_inkBar\", first: true, predicate: MatInkBar, descendants: true, static: true }, { propertyName: \"_tabListContainer\", first: true, predicate: [\"tabListContainer\"], descendants: true, static: true }, { propertyName: \"_tabList\", first: true, predicate: [\"tabList\"], descendants: true, static: true }, { propertyName: \"_tabListInner\", first: true, predicate: [\"tabListInner\"], descendants: true, static: true }, { propertyName: \"_nextPaginator\", first: true, predicate: [\"nextPaginator\"], descendants: true }, { propertyName: \"_previousPaginator\", first: true, predicate: [\"previousPaginator\"], descendants: true }], exportAs: [\"matTabNavBar\", \"matTabNav\"], usesInheritance: true, ngImport: i0, template: \"<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4\\\"\\n     #previousPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     tabindex=\\\"-1\\\"\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     [disabled]=\\\"_disableScrollBefore || null\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\\n<div class=\\\"mat-tab-link-container\\\" #tabListContainer (keydown)=\\\"_handleKeydown($event)\\\">\\n  <div\\n    class=\\\"mat-tab-list\\\"\\n    [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n    #tabList\\n    (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-tab-links\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n    <mat-ink-bar></mat-ink-bar>\\n  </div>\\n</div>\\n\\n<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4\\\"\\n     #nextPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     [disabled]=\\\"_disableScrollAfter || null\\\"\\n     tabindex=\\\"-1\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\", styles: [\".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}.mat-tab-link::before{margin:5px}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\"], dependencies: [{ kind: \"directive\", type: i4.MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: i5.CdkObserveContent, selector: \"[cdkObserveContent]\", inputs: [\"cdkObserveContentDisabled\", \"debounce\"], outputs: [\"cdkObserveContent\"], exportAs: [\"cdkObserveContent\"] }, { kind: \"directive\", type: MatInkBar, selector: \"mat-ink-bar\" }], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabNav, decorators: [{\n            type: Component,\n            args: [{ selector: '[mat-tab-nav-bar]', exportAs: 'matTabNavBar, matTabNav', inputs: ['color'], host: {\n                        '[attr.role]': '_getRole()',\n                        'class': 'mat-tab-nav-bar mat-tab-header',\n                        '[class.mat-tab-header-pagination-controls-enabled]': '_showPaginationControls',\n                        '[class.mat-tab-header-rtl]': \"_getLayoutDirection() == 'rtl'\",\n                        '[class.mat-primary]': 'color !== \"warn\" && color !== \"accent\"',\n                        '[class.mat-accent]': 'color === \"accent\"',\n                        '[class.mat-warn]': 'color === \"warn\"',\n                    }, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, template: \"<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4\\\"\\n     #previousPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     tabindex=\\\"-1\\\"\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     [disabled]=\\\"_disableScrollBefore || null\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\\n<div class=\\\"mat-tab-link-container\\\" #tabListContainer (keydown)=\\\"_handleKeydown($event)\\\">\\n  <div\\n    class=\\\"mat-tab-list\\\"\\n    [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n    #tabList\\n    (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-tab-links\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n    <mat-ink-bar></mat-ink-bar>\\n  </div>\\n</div>\\n\\n<button class=\\\"mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4\\\"\\n     #nextPaginator\\n     aria-hidden=\\\"true\\\"\\n     type=\\\"button\\\"\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     [disabled]=\\\"_disableScrollAfter || null\\\"\\n     tabindex=\\\"-1\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-tab-header-pagination-chevron\\\"></div>\\n</button>\\n\", styles: [\".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}.mat-tab-link::before{margin:5px}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\"] }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: i1.Directionality, decorators: [{\n                        type: Optional\n                    }] }, { type: i0.NgZone }, { type: i0.ChangeDetectorRef }, { type: i1$1.ViewportRuler }, { type: i3.Platform }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { _items: [{\n                type: ContentChildren,\n                args: [forwardRef(() => MatTabLink), { descendants: true }]\n            }], _inkBar: [{\n                type: ViewChild,\n                args: [MatInkBar, { static: true }]\n            }], _tabListContainer: [{\n                type: ViewChild,\n                args: ['tabListContainer', { static: true }]\n            }], _tabList: [{\n                type: ViewChild,\n                args: ['tabList', { static: true }]\n            }], _tabListInner: [{\n                type: ViewChild,\n                args: ['tabListInner', { static: true }]\n            }], _nextPaginator: [{\n                type: ViewChild,\n                args: ['nextPaginator']\n            }], _previousPaginator: [{\n                type: ViewChild,\n                args: ['previousPaginator']\n            }] } });\n// Boilerplate for applying mixins to MatTabLink.\nconst _MatTabLinkMixinBase = mixinTabIndex(mixinDisableRipple(mixinDisabled(class {\n})));\n/** Base class with all of the `MatTabLink` functionality. */\nclass _MatTabLinkBase extends _MatTabLinkMixinBase {\n    constructor(_tabNavBar, \n    /** @docs-private */ elementRef, globalRippleOptions, tabIndex, _focusMonitor, animationMode) {\n        super();\n        this._tabNavBar = _tabNavBar;\n        this.elementRef = elementRef;\n        this._focusMonitor = _focusMonitor;\n        /** Whether the tab link is active or not. */\n        this._isActive = false;\n        /** Unique id for the tab. */\n        this.id = `mat-tab-link-${nextUniqueId++}`;\n        this.rippleConfig = globalRippleOptions || {};\n        this.tabIndex = parseInt(tabIndex) || 0;\n        if (animationMode === 'NoopAnimations') {\n            this.rippleConfig.animation = { enterDuration: 0, exitDuration: 0 };\n        }\n    }\n    /** Whether the link is active. */\n    get active() {\n        return this._isActive;\n    }\n    set active(value) {\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this._isActive) {\n            this._isActive = newValue;\n            this._tabNavBar.updateActiveLink();\n        }\n    }\n    /**\n     * Whether ripples are disabled on interaction.\n     * @docs-private\n     */\n    get rippleDisabled() {\n        return (this.disabled ||\n            this.disableRipple ||\n            this._tabNavBar.disableRipple ||\n            !!this.rippleConfig.disabled);\n    }\n    /** Focuses the tab link. */\n    focus() {\n        this.elementRef.nativeElement.focus();\n    }\n    ngAfterViewInit() {\n        this._focusMonitor.monitor(this.elementRef);\n    }\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this.elementRef);\n    }\n    _handleFocus() {\n        // Since we allow navigation through tabbing in the nav bar, we\n        // have to update the focused index whenever the link receives focus.\n        this._tabNavBar.focusIndex = this._tabNavBar._items.toArray().indexOf(this);\n    }\n    _handleKeydown(event) {\n        if (this._tabNavBar.tabPanel && event.keyCode === SPACE) {\n            this.elementRef.nativeElement.click();\n        }\n    }\n    _getAriaControls() {\n        var _a;\n        return this._tabNavBar.tabPanel\n            ? (_a = this._tabNavBar.tabPanel) === null || _a === void 0 ? void 0 : _a.id\n            : this.elementRef.nativeElement.getAttribute('aria-controls');\n    }\n    _getAriaSelected() {\n        if (this._tabNavBar.tabPanel) {\n            return this.active ? 'true' : 'false';\n        }\n        else {\n            return this.elementRef.nativeElement.getAttribute('aria-selected');\n        }\n    }\n    _getAriaCurrent() {\n        return this.active && !this._tabNavBar.tabPanel ? 'page' : null;\n    }\n    _getRole() {\n        return this._tabNavBar.tabPanel ? 'tab' : this.elementRef.nativeElement.getAttribute('role');\n    }\n    _getTabIndex() {\n        if (this._tabNavBar.tabPanel) {\n            return this._isActive && !this.disabled ? 0 : -1;\n        }\n        else {\n            return this.tabIndex;\n        }\n    }\n}\n_MatTabLinkBase.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabLinkBase, deps: [{ token: _MatTabNavBase }, { token: i0.ElementRef }, { token: MAT_RIPPLE_GLOBAL_OPTIONS, optional: true }, { token: 'tabindex', attribute: true }, { token: i7.FocusMonitor }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive });\n_MatTabLinkBase.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: _MatTabLinkBase, inputs: { active: \"active\", id: \"id\" }, usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: _MatTabLinkBase, decorators: [{\n            type: Directive\n        }], ctorParameters: function () {\n        return [{ type: _MatTabNavBase }, { type: i0.ElementRef }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [MAT_RIPPLE_GLOBAL_OPTIONS]\n                    }] }, { type: undefined, decorators: [{\n                        type: Attribute,\n                        args: ['tabindex']\n                    }] }, { type: i7.FocusMonitor }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    }, propDecorators: { active: [{\n                type: Input\n            }], id: [{\n                type: Input\n            }] } });\n/**\n * Link inside of a `mat-tab-nav-bar`.\n */\nclass MatTabLink extends _MatTabLinkBase {\n    constructor(tabNavBar, elementRef, ngZone, platform, globalRippleOptions, tabIndex, focusMonitor, animationMode) {\n        super(tabNavBar, elementRef, globalRippleOptions, tabIndex, focusMonitor, animationMode);\n        this._tabLinkRipple = new RippleRenderer(this, ngZone, elementRef, platform);\n        this._tabLinkRipple.setupTriggerEvents(elementRef.nativeElement);\n    }\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this._tabLinkRipple._removeTriggerEvents();\n    }\n}\nMatTabLink.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabLink, deps: [{ token: MatTabNav }, { token: i0.ElementRef }, { token: i0.NgZone }, { token: i3.Platform }, { token: MAT_RIPPLE_GLOBAL_OPTIONS, optional: true }, { token: 'tabindex', attribute: true }, { token: i7.FocusMonitor }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive });\nMatTabLink.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabLink, selector: \"[mat-tab-link], [matTabLink]\", inputs: { disabled: \"disabled\", disableRipple: \"disableRipple\", tabIndex: \"tabIndex\" }, host: { listeners: { \"focus\": \"_handleFocus()\", \"keydown\": \"_handleKeydown($event)\" }, properties: { \"attr.aria-controls\": \"_getAriaControls()\", \"attr.aria-current\": \"_getAriaCurrent()\", \"attr.aria-disabled\": \"disabled\", \"attr.aria-selected\": \"_getAriaSelected()\", \"attr.id\": \"id\", \"attr.tabIndex\": \"_getTabIndex()\", \"attr.role\": \"_getRole()\", \"class.mat-tab-disabled\": \"disabled\", \"class.mat-tab-label-active\": \"active\" }, classAttribute: \"mat-tab-link mat-focus-indicator\" }, exportAs: [\"matTabLink\"], usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabLink, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-tab-link], [matTabLink]',\n                    exportAs: 'matTabLink',\n                    inputs: ['disabled', 'disableRipple', 'tabIndex'],\n                    host: {\n                        'class': 'mat-tab-link mat-focus-indicator',\n                        '[attr.aria-controls]': '_getAriaControls()',\n                        '[attr.aria-current]': '_getAriaCurrent()',\n                        '[attr.aria-disabled]': 'disabled',\n                        '[attr.aria-selected]': '_getAriaSelected()',\n                        '[attr.id]': 'id',\n                        '[attr.tabIndex]': '_getTabIndex()',\n                        '[attr.role]': '_getRole()',\n                        '[class.mat-tab-disabled]': 'disabled',\n                        '[class.mat-tab-label-active]': 'active',\n                        '(focus)': '_handleFocus()',\n                        '(keydown)': '_handleKeydown($event)',\n                    },\n                }]\n        }], ctorParameters: function () {\n        return [{ type: MatTabNav }, { type: i0.ElementRef }, { type: i0.NgZone }, { type: i3.Platform }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [MAT_RIPPLE_GLOBAL_OPTIONS]\n                    }] }, { type: undefined, decorators: [{\n                        type: Attribute,\n                        args: ['tabindex']\n                    }] }, { type: i7.FocusMonitor }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [ANIMATION_MODULE_TYPE]\n                    }] }];\n    } });\n/**\n * Tab panel component associated with MatTabNav.\n */\nclass MatTabNavPanel {\n    constructor() {\n        /** Unique id for the tab panel. */\n        this.id = `mat-tab-nav-panel-${nextUniqueId++}`;\n    }\n}\nMatTabNavPanel.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabNavPanel, deps: [], target: i0.FactoryTarget.Component });\nMatTabNavPanel.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.2.0\", type: MatTabNavPanel, selector: \"mat-tab-nav-panel\", inputs: { id: \"id\" }, host: { attributes: { \"role\": \"tabpanel\" }, properties: { \"attr.aria-labelledby\": \"_activeTabId\", \"attr.id\": \"id\" }, classAttribute: \"mat-tab-nav-panel\" }, exportAs: [\"matTabNavPanel\"], ngImport: i0, template: '<ng-content></ng-content>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabNavPanel, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mat-tab-nav-panel',\n                    exportAs: 'matTabNavPanel',\n                    template: '<ng-content></ng-content>',\n                    host: {\n                        '[attr.aria-labelledby]': '_activeTabId',\n                        '[attr.id]': 'id',\n                        'class': 'mat-tab-nav-panel',\n                        'role': 'tabpanel',\n                    },\n                    encapsulation: ViewEncapsulation.None,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], propDecorators: { id: [{\n                type: Input\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass MatTabsModule {\n}\nMatTabsModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabsModule, deps: [], target: i0.FactoryTarget.NgModule });\nMatTabsModule.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabsModule, declarations: [MatTabGroup,\n        MatTabLabel,\n        MatTab,\n        MatInkBar,\n        MatTabLabelWrapper,\n        MatTabNav,\n        MatTabNavPanel,\n        MatTabLink,\n        MatTabBody,\n        MatTabBodyPortal,\n        MatTabHeader,\n        MatTabContent], imports: [CommonModule,\n        MatCommonModule,\n        PortalModule,\n        MatRippleModule,\n        ObserversModule,\n        A11yModule], exports: [MatCommonModule,\n        MatTabGroup,\n        MatTabLabel,\n        MatTab,\n        MatTabNav,\n        MatTabNavPanel,\n        MatTabLink,\n        MatTabContent] });\nMatTabsModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabsModule, imports: [CommonModule,\n        MatCommonModule,\n        PortalModule,\n        MatRippleModule,\n        ObserversModule,\n        A11yModule, MatCommonModule] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.2.0\", ngImport: i0, type: MatTabsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        MatCommonModule,\n                        PortalModule,\n                        MatRippleModule,\n                        ObserversModule,\n                        A11yModule,\n                    ],\n                    // Don't export all components because some are only to be used internally.\n                    exports: [\n                        MatCommonModule,\n                        MatTabGroup,\n                        MatTabLabel,\n                        MatTab,\n                        MatTabNav,\n                        MatTabNavPanel,\n                        MatTabLink,\n                        MatTabContent,\n                    ],\n                    declarations: [\n                        MatTabGroup,\n                        MatTabLabel,\n                        MatTab,\n                        MatInkBar,\n                        MatTabLabelWrapper,\n                        MatTabNav,\n                        MatTabNavPanel,\n                        MatTabLink,\n                        MatTabBody,\n                        MatTabBodyPortal,\n                        MatTabHeader,\n                        MatTabContent,\n                    ],\n                }]\n        }] });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_TAB, MAT_TABS_CONFIG, MAT_TAB_GROUP, MatInkBar, MatTab, MatTabBody, MatTabBodyPortal, MatTabChangeEvent, MatTabContent, MatTabGroup, MatTabHeader, MatTabLabel, MatTabLabelWrapper, MatTabLink, MatTabNav, MatTabNavPanel, MatTabsModule, _MAT_INK_BAR_POSITIONER, _MatTabBodyBase, _MatTabGroupBase, _MatTabHeaderBase, _MatTabLinkBase, _MatTabNavBase, matTabsAnimations };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","export const globalThisShim = global;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport debugModule from \"debug\"; // debug()\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nconst debug = debugModule(\"engine.io-client:socket\"); // debug()\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        debug('creating transport \"%s\"', name);\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        debug(\"options: %j\", opts);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            debug(\"error while creating transport: %s\", e);\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        debug(\"setting transport %s\", transport.name);\n        if (this.transport) {\n            debug(\"clearing existing transport %s\", this.transport.name);\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        debug('probing transport \"%s\"', name);\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            debug('probe transport \"%s\" opened', name);\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    debug('probe transport \"%s\" pong', name);\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    debug('pausing current transport \"%s\"', this.transport.name);\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        debug(\"changing transport and sending upgrade packet\");\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    debug('probe transport \"%s\" failed', name);\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            debug('probe transport \"%s\" failed because of error: %s', name, err);\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        debug(\"socket open\");\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            debug(\"starting upgrade probes\");\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n            debug('packet received with socket readyState \"%s\"', this.readyState);\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            debug(\"flushing %d packets in socket\", packets.length);\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                debug(\"only send %d out of %d packets\", i, this.writeBuffer.length);\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        debug(\"payload size is %d (max: %d)\", payloadSize, this.maxPayload);\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            debug(\"socket closing - telling transport to close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        debug(\"socket error %j\", err);\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket close with reason: \"%s\"', reason);\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport debugModule from \"debug\"; // debug()\nimport { encode } from \"./contrib/parseqs.js\";\nconst debug = debugModule(\"engine.io-client:transport\"); // debug()\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n            debug(\"transport is not open, discarding packets\");\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","import { Transport } from \"../transport.js\";\nimport debugModule from \"debug\"; // debug()\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nconst debug = debugModule(\"engine.io-client:polling\"); // debug()\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            debug(\"paused\");\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                debug(\"we are currently polling - waiting to pause\");\n                total++;\n                this.once(\"pollComplete\", function () {\n                    debug(\"pre-pause polling complete\");\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                debug(\"we are currently writing - waiting to pause\");\n                total++;\n                this.once(\"drain\", function () {\n                    debug(\"pre-pause writing complete\");\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        debug(\"polling\");\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        debug(\"polling got data %s\", data);\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n                debug('ignoring poll - transport state \"%s\"', this.readyState);\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            debug(\"writing close packet\");\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            debug(\"transport open - closing\");\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            debug(\"transport not open - deferring close\");\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        debug(\"xhr poll\");\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            debug(\"xhr open %s: %s\", this.method, this.uri);\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            debug(\"xhr data %s\", this.data);\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import ws from \"ws\";\nexport const WebSocket = ws;\nexport const usingBrowserWebSocket = false;\nexport const defaultBinaryType = \"nodebuffer\";\nexport const nextTick = process.nextTick;\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport debugModule from \"debug\"; // debug()\nimport { encodePacket } from \"engine.io-parser\";\nconst debug = debugModule(\"engine.io-client:websocket\"); // debug()\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                    debug(\"websocket closed before onclose event\");\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { encodePacketToBinary, decodePacketFromBinary, } from \"engine.io-parser\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"engine.io-client:webtransport\"); // debug()\nfunction shouldIncludeBinaryHeader(packet, encoded) {\n    // 48 === \"0\".charCodeAt(0) (OPEN packet type)\n    // 54 === \"6\".charCodeAt(0) (NOOP packet type)\n    return (packet.type === \"message\" &&\n        typeof packet.data !== \"string\" &&\n        encoded[0] >= 48 &&\n        encoded[0] <= 54);\n}\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            debug(\"transport closed gracefully\");\n            this.onClose();\n        })\n            .catch((err) => {\n            debug(\"transport closed due to %s\", err);\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const reader = stream.readable.getReader();\n                this.writer = stream.writable.getWriter();\n                let binaryFlag;\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            debug(\"session is closed\");\n                            return;\n                        }\n                        debug(\"received chunk: %o\", value);\n                        if (!binaryFlag && value.byteLength === 1 && value[0] === 54) {\n                            binaryFlag = true;\n                        }\n                        else {\n                            // TODO expose binarytype\n                            this.onPacket(decodePacketFromBinary(value, binaryFlag, \"arraybuffer\"));\n                            binaryFlag = false;\n                        }\n                        read();\n                    })\n                        .catch((err) => {\n                        debug(\"an error occurred while reading: %s\", err);\n                    });\n                };\n                read();\n                const handshake = this.query.sid ? `0{\"sid\":\"${this.query.sid}\"}` : \"0\";\n                this.writer\n                    .write(new TextEncoder().encode(handshake))\n                    .then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacketToBinary(packet, (data) => {\n                if (shouldIncludeBinaryHeader(packet, data)) {\n                    debug(\"writing binary header\");\n                    this.writer.write(Uint8Array.of(54));\n                }\n                debug(\"writing chunk: %o\", data);\n                this.writer.write(data).then(() => {\n                    if (lastPacket) {\n                        nextTick(() => {\n                            this.writable = true;\n                            this.emitReserved(\"drain\");\n                        }, this.setTimeoutFn);\n                    }\n                });\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import * as XMLHttpRequestModule from \"xmlhttprequest-ssl\";\nexport const XHR = XMLHttpRequestModule.default || XMLHttpRequestModule;\nexport function createCookieJar() {\n    return new CookieJar();\n}\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\n */\nexport function parse(setCookieString) {\n    const parts = setCookieString.split(\"; \");\n    const i = parts[0].indexOf(\"=\");\n    if (i === -1) {\n        return;\n    }\n    const name = parts[0].substring(0, i).trim();\n    if (!name.length) {\n        return;\n    }\n    let value = parts[0].substring(i + 1).trim();\n    if (value.charCodeAt(0) === 0x22) {\n        // remove double quotes\n        value = value.slice(1, -1);\n    }\n    const cookie = {\n        name,\n        value,\n    };\n    for (let j = 1; j < parts.length; j++) {\n        const subParts = parts[j].split(\"=\");\n        if (subParts.length !== 2) {\n            continue;\n        }\n        const key = subParts[0].trim();\n        const value = subParts[1].trim();\n        switch (key) {\n            case \"Expires\":\n                cookie.expires = new Date(value);\n                break;\n            case \"Max-Age\":\n                const expiration = new Date();\n                expiration.setUTCSeconds(expiration.getUTCSeconds() + parseInt(value, 10));\n                cookie.expires = expiration;\n                break;\n            default:\n            // ignore other keys\n        }\n    }\n    return cookie;\n}\nexport class CookieJar {\n    constructor() {\n        this.cookies = new Map();\n    }\n    parseCookies(xhr) {\n        const values = xhr.getResponseHeader(\"set-cookie\");\n        if (!values) {\n            return;\n        }\n        values.forEach((value) => {\n            const parsed = parse(value);\n            if (parsed) {\n                this.cookies.set(parsed.name, parsed);\n            }\n        });\n    }\n    addCookies(xhr) {\n        const cookies = [];\n        this.cookies.forEach((cookie, name) => {\n            var _a;\n            if (((_a = cookie.expires) === null || _a === void 0 ? void 0 : _a.getTime()) < Date.now()) {\n                this.cookies.delete(name);\n            }\n            else {\n                cookies.push(`${name}=${cookie.value}`);\n            }\n        });\n        if (cookies.length) {\n            xhr.setDisableHeaderCheck(true);\n            xhr.setRequestHeader(\"cookie\", cookies.join(\"; \"));\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        const buffer = Buffer.from(encodedPacket.substring(1), \"base64\");\n        return {\n            type: \"message\",\n            data: mapBinary(buffer, binaryType)\n        };\n    }\n    if (!PACKET_TYPES_REVERSE[type]) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"arraybuffer\":\n            if (data instanceof ArrayBuffer) {\n                // from WebSocket & binaryType \"arraybuffer\"\n                return data;\n            }\n            else if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling\n                return data.buffer.slice(data.byteOffset, data.byteOffset + data.byteLength);\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n        case \"nodebuffer\":\n        default:\n            if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling or WebSocket & binaryType \"nodebuffer\" (default)\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return Buffer.from(data);\n            }\n    }\n};\n","import { PACKET_TYPES } from \"./commons.js\";\nexport const encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n        return callback(supportsBinary ? data : \"b\" + toBuffer(data, true).toString(\"base64\"));\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst toBuffer = (data, forceBufferConversion) => {\n    if (Buffer.isBuffer(data) ||\n        (data instanceof Uint8Array && !forceBufferConversion)) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return Buffer.from(data);\n    }\n    else {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n    }\n};\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (packet.data instanceof ArrayBuffer || ArrayBuffer.isView(packet.data)) {\n        return callback(toBuffer(packet.data, false));\n    }\n    encodePacket(packet, true, encoded => {\n        if (!TEXT_ENCODER) {\n            // lazily created for compatibility with Node.js 10\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nlet TEXT_DECODER;\nexport function decodePacketFromBinary(data, isBinary, binaryType) {\n    if (!TEXT_DECODER) {\n        // lazily created for compatibility with old browser platforms\n        TEXT_DECODER = new TextDecoder();\n    }\n    // 48 === \"0\".charCodeAt(0) (OPEN packet type)\n    // 54 === \"6\".charCodeAt(0) (NOOP packet type)\n    const isPlainBinary = isBinary || data[0] < 48 || data[0] > 54;\n    return decodePacket(isPlainBinary ? data : TEXT_DECODER.decode(data), binaryType);\n}\nexport const protocol = 4;\nexport { encodePacket, encodePacketToBinary, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client\"); // debug()\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:manager\"); // debug()\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            debug(\"error\");\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"closed due to %s\", reason);\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:socket\"); // debug()\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            debug(\"emitting packet with ack id %d\", id);\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    debug(\"removing packet with ack id %d from the buffer\", id);\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            debug(\"event with ack id %d has timed out after %d ms\", id, timeout);\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    debug(\"packet [%d] is discarded after %d tries\", packet.id, packet.tryCount);\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                debug(\"packet [%d] was successfully sent\", packet.id);\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        debug(\"draining queue\");\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            debug(\"packet [%d] has already been sent and is waiting for an ack\", packet.id);\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        debug(\"sending packet [%d] (try n%d)\", packet.id, packet.tryCount);\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","import { parse } from \"engine.io-client\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-client:url\"); // debug()\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\nimport debugModule from \"debug\"; // debug()\nconst debug = debugModule(\"socket.io-parser\"); // debug()\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import createWebSocketStream from './lib/stream.js';\nimport Receiver from './lib/receiver.js';\nimport Sender from './lib/sender.js';\nimport WebSocket from './lib/websocket.js';\nimport WebSocketServer from './lib/websocket-server.js';\n\nexport { createWebSocketStream, Receiver, Sender, WebSocket, WebSocketServer };\nexport default WebSocket;\n"],"names":["BehaviorSubject","filter","MAT_DIALOG_DATA","map","take","B2bNgxButtonThemeEnum","i0","category_r1","ctx_r0","CategoriesPopupComponent","constructor","data","dialogRef","categoriesService","multiple","undefined","ngOnInit","getCategories$","pipe","categoriesData","categories","category","text","name","value","_id","checked","children","level2Category","parentId","visible","subscribe","updateCategoriesList","selectedCategories","length","initDialogValues","categories$","categoriesSubject","asObservable","next","save","placeholder","getValue","reduce","acc","val","forEach","item","push","required","close","onChangeSelectedId","categoryId","isMultipleMode","updateCategoriesSource","updateCategoriesSingleMode","id","necessaryCategory","findCategoryById","resetCategories","parent","child","necessaryChild","find","IDs","some","every","initCategoriesSingleMode","selectors","viewQuery","ctx","EventEmitter","forwardRef","NG_VALUE_ACCESSOR","ValidationErrors","first","B2bNgxSelectThemeEnum","CategoriesDialogComponent","dialog","BACKGROUND_TRANSPARENT","categoriesPlaceholder$","categoriesPlaceholderSource","writeValue","lastValue","updateCategoriesPlaceholder","registerOnChange","fn","onChange","registerOnTouched","onTouched","openCategoriesDialog","open","disableClose","afterClosed","categoriesList","join","getCategoryNameById","categoryName","emit","Array","isArray","inputs","theme","touched","controlIsValid","errors","outputs","features","provide","useExisting","multi","ngContentSelectors","decls","vars","consts","template","UntilDestroy","VisibleListEnum","AdminMarketplaceComponent","fb","group","activeSelection","label","DEFAULT","activeSelectionSource","PRODUCTS","form","get","valueChanges","listType","COMPANIES","activeSelection$","Observable","switchMap","B2bNgxInputThemeEnum","AdminCompaniesListComponent","marketService","router","route","PRODUCTS_LIMIT","q","offset","limit","companyList$","companyListSource","companyListLength$","companyListLengthSource","getCompanyByName","paginationParams","companies","totalCount","redirectToProductDetails","product","navigate","toggleCompaniesPage","pageNumber","goToSupplierListing","userId","relativeTo","ConfirmationDialogComponent","untilDestroyed","io","environment","getName","product_r1","AdminProductListComponent","hotToastService","userService","mixpanelService","marketplaceProducts$","marketplaceProductsLength$","getMenuOptions","updateProductsByAdmin","filteredQueryObj","icon","onClick","marketplaceItem","title","message","confirmButtonText","confirmButtonTheme","BACKGROUND_RED","cancelButtonText","cancelButtonTheme","OUTLINE_BLACK","track","_a","company","_b","country","amount","count","unit","updatedAt","deleteProductByAdmin","archiveProductByAdmin","reportSupplier","user","offer","approveProductByAdmin","success","declineProductByAdmin","observe","loading","error","openConnection","getToken","socket","typeRoom","on","token","apiUrl","path","auth","togglePage","page","AdminSupplierProductListComponent","clientMarketplaceService","productsLimit","supplierId","snapshot","params","queryParams","admin","exports","formatArgs","load","useColors","storage","localstorage","destroy","warned","console","warn","colors","window","process","type","__nwjs","navigator","userAgent","toLowerCase","match","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","args","namespace","module","humanize","diff","c","color","splice","index","lastC","replace","log","debug","namespaces","setItem","removeItem","r","getItem","env","DEBUG","localStorage","require","formatters","j","v","JSON","stringify","setup","createDebug","default","coerce","disable","enable","enabled","Object","keys","key","names","skips","selectColor","hash","i","charCodeAt","Math","abs","prevTime","enableOverride","namespacesCache","enabledCache","self","curr","Number","Date","ms","prev","unshift","format","formatter","call","logFn","apply","extend","defineProperty","enumerable","configurable","set","init","delimiter","newDebug","split","len","slice","toNamespace","test","regexp","toString","substring","Error","stack","browser","tty","util","deprecate","supportsColor","stderr","level","inspectOpts","obj","prop","_","k","toUpperCase","Boolean","isatty","fd","colorCode","prefix","getDate","hideDate","toISOString","write","o","inspect","str","trim","O","flag","argv","startsWith","pos","indexOf","terminatorPos","s","m","h","d","w","y","options","parse","isFinite","long","fmtLong","fmtShort","String","exec","n","parseFloat","msAbs","round","plural","isPlural","os","hasFlag","forceColor","FORCE_COLOR","translateLevel","hasBasic","has256","has16m","stream","isTTY","min","platform","osRelease","release","versions","node","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","version","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","getSupportLevel","stdout","EMPTY_BUFFER","concat","list","totalLength","target","Buffer","allocUnsafe","buf","_mask","source","mask","output","_unmask","buffer","toArrayBuffer","byteLength","byteOffset","toBuffer","readOnly","isBuffer","ArrayBuffer","from","isView","unmask","WS_NO_BUFFER_UTIL","bufferUtil","e","BINARY_TYPES","alloc","GUID","kForOnEventAttribute","Symbol","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","Event","prototype","CloseEvent","code","reason","wasClean","ErrorEvent","MessageEvent","EventTarget","addEventListener","handler","listener","listeners","wrapper","onMessage","isBinary","event","callListener","onClose","_closeFrameReceived","_closeFrameSent","onError","onOpen","once","removeEventListener","removeListener","thisArg","handleEvent","tokenChars","dest","elem","header","offers","create","mustUnescape","isEscaping","inQuotes","extensionName","paramName","start","end","SyntaxError","extensions","extension","configurations","values","kDone","kRun","Limiter","concurrency","pending","Infinity","jobs","add","job","shift","zlib","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","zlibLimiter","PerMessageDeflate","isServer","maxPayload","_maxPayload","_options","_threshold","threshold","_isServer","_deflate","_inflate","concurrencyLimit","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","cleanup","callback","opts","accepted","response","num","isInteger","TypeError","decompress","fin","done","_decompress","err","result","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","inflateOnError","inflateOnData","flush","_readableState","endEmitted","reset","createDeflateRaw","zlibDeflateOptions","deflateOnData","Z_SYNC_FLUSH","chunk","RangeError","Writable","isValidStatusCode","isValidUTF8","GET_INFO","GET_PAYLOAD_LENGTH_16","GET_PAYLOAD_LENGTH_64","GET_MASK","GET_DATA","INFLATING","Receiver","_binaryType","binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_state","_loop","_write","encoding","cb","startLoop","consume","dst","Uint8Array","getInfo","getPayloadLength16","getPayloadLength64","getMask","getData","compressed","haveLength","readUInt16BE","readUInt32BE","pow","controlMessage","dataMessage","perMessageDeflate","er","messageLength","fragments","ErrorCtor","statusCode","errorCode","captureStackTrace","net","tls","randomFillSync","applyMask","kByteLength","maskBuffer","Sender","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_deflating","_queue","frame","merge","skipMasking","dataLength","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","enqueue","dispatch","sendFrame","ping","pong","send","binary","destroyed","dequeue","Reflect","cork","uncork","Duplex","emitClose","duplexOnEnd","_writableState","finished","duplexOnError","listenerCount","createWebSocketStream","ws","terminateOnDestroy","duplex","autoDestroy","objectMode","writableObjectMode","msg","pause","_destroy","readyState","CLOSED","nextTick","called","terminate","_final","CONNECTING","finish","_read","isPaused","resume","protocols","Set","protocol","has","_isValidUTF8","WS_NO_UTF_8_VALIDATE","http","https","createHash","subprotocol","WebSocket","keyRegex","RUNNING","CLOSING","WebSocketServer","handleProtocols","clientTracking","verifyClient","noServer","backlog","server","host","port","_server","createServer","req","res","body","STATUS_CODES","writeHead","listen","emitConnection","bind","_removeListeners","addListeners","listening","upgrade","head","handleUpgrade","clients","_shouldEmitClose","address","size","shouldHandle","url","pathname","socketOnError","headers","method","abortHandshakeOrEmitwsClientError","abortHandshake","secWebSocketProtocol","secWebSocketExtensions","info","origin","secure","authorized","encrypted","verified","completeUpgrade","readable","writable","digest","update","_protocol","setSocket","delete","removeListeners","Connection","randomBytes","Readable","URL","closeTimeout","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_paused","_readyState","_receiver","_sender","_bufferedAmount","_redirects","initAsClient","includes","bufferedAmount","onclose","onerror","onopen","onmessage","_url","receiver","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","setTimeout","setNoDelay","socketOnClose","socketOnData","socketOnEnd","OPEN","removeAllListeners","_req","errorEmitted","sendAfterClose","needDrain","property","websocket","protocolVersion","followRedirects","maxRedirects","createConnection","socketPath","hostname","timeout","parsedUrl","href","isSecure","isIpcUrl","invalidUrlMessage","emitErrorAndClose","defaultPort","request","protocolSet","tlsConnect","netConnect","Upgrade","search","handshakeTimeout","Origin","username","password","parts","_originalIpc","_originalSecure","_originalHostOrSocketPath","entries","isSameHost","authorization","cookie","location","abort","addr","serverProt","protError","extensionNames","connect","servername","isIP","setHeader","receiverOnFinish","read","clearTimeout","fs","Url","spawn","XMLHttpRequest","settings","disableHeaderCheck","defaultHeaders","assign","forbiddenRequestHeaders","forbiddenRequestMethods","sendFlag","errorFlag","abortedFlag","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","responseText","responseXML","status","statusText","isAllowedHttpHeader","isAllowedHttpMethod","async","setState","setDisableHeaderCheck","state","setRequestHeader","getResponseHeader","getAllResponseHeaders","substr","getRequestHeader","ssl","local","readFile","unescape","handleError","errno","readFileSync","uri","authBuf","agent","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","doRequest","dispatchEvent","responseHandler","resp","newOptions","errorHandler","setEncoding","autoUnref","unref","contentFile","pid","syncFile","writeFileSync","execString","syncProc","existsSync","stdin","unlinkSync","errorObj","ev","setImmediate","fire","i7","FocusKeyManager","A11yModule","i5","ObserversModule","i2","CdkPortal","TemplatePortal","CdkPortalOutlet","PortalModule","i1$2","DOCUMENT","CommonModule","InjectionToken","Directive","Inject","Optional","TemplateRef","Component","ChangeDetectionStrategy","ViewEncapsulation","ContentChild","ViewChild","Input","Output","ContentChildren","QueryList","Attribute","NgModule","i4","mixinDisabled","mixinColor","mixinDisableRipple","mixinTabIndex","MAT_RIPPLE_GLOBAL_OPTIONS","RippleRenderer","MatCommonModule","MatRippleModule","ANIMATION_MODULE_TYPE","startWith","distinctUntilChanged","takeUntil","skip","Subject","Subscription","fromEvent","of","EMPTY","timer","trigger","transition","animate","i1","coerceBooleanProperty","coerceNumberProperty","hasModifierKey","SPACE","ENTER","i3","normalizePassiveListenerOptions","i1$1","_MAT_INK_BAR_POSITIONER","providedIn","factory","_MAT_INK_BAR_POSITIONER_FACTORY","element","left","offsetLeft","width","offsetWidth","MatInkBar","_elementRef","_ngZone","_inkBarPositioner","_animationMode","alignToElement","show","run","onStable","positions","inkBar","nativeElement","visibility","hide","fac","ElementRef","NgZone","dir","selector","decorators","MAT_TAB_CONTENT","MatTabContent","providers","MAT_TAB_LABEL","MAT_TAB","MatTabLabel","templateRef","viewContainerRef","_closestTab","ViewContainerRef","_MatTabBase","MAT_TAB_GROUP","MatTab","_viewContainerRef","_closestTabGroup","textLabel","_contentPortal","_stateChanges","position","isActive","templateLabel","_templateLabel","_setTemplateLabelInput","content","ngOnChanges","changes","hasOwnProperty","ngOnDestroy","complete","_explicitContent","_implicitContent","cmp","changeDetection","Default","encapsulation","None","exportAs","static","ariaLabel","ariaLabelledby","labelClass","bodyClass","matTabsAnimations","translateTab","transform","minHeight","MatTabBodyPortal","componentFactoryResolver","_host","_document","_centeringSub","_leavingSub","_beforeCentering","_isCenterPosition","_position","isCentering","hasAttached","attach","_content","_afterLeavingCenter","preserveContent","detach","unsubscribe","ComponentFactoryResolver","MatTabBody","_MatTabBodyBase","_dir","changeDetectorRef","_dirChangeSubscription","_translateTabComplete","_onCentering","_onCentered","animationDuration","change","dir","_computePositionAnimationState","markForCheck","x","fromState","toState","_positionIndex","_computePositionFromOrigin","_onTranslateTabStarted","clientHeight","_getLayoutDirection","Directionality","ChangeDetectorRef","elementRef","animations","styles","_portalHost","MAT_TABS_CONFIG","_MatTabLabelWrapperBase","MatTabLabelWrapper","focus","getOffsetLeft","getOffsetWidth","passiveEventListenerOptions","passive","EXAGGERATED_OVERSCROLL","HEADER_SCROLL_DELAY","HEADER_SCROLL_INTERVAL","MatPaginatedTabHeader","_changeDetectorRef","_viewportRuler","_platform","_scrollDistance","_selectedIndexChanged","_destroyed","_showPaginationControls","_disableScrollAfter","_disableScrollBefore","_stopScrolling","_disablePagination","_selectedIndex","selectFocusedIndex","indexFocused","runOutsideAngular","_stopInterval","disablePagination","selectedIndex","_keyManager","updateActiveItem","ngAfterViewInit","_previousPaginator","_handlePaginatorPress","_nextPaginator","ngAfterContentInit","dirChange","resize","realign","updatePagination","_alignInkBarToSelectedTab","_items","withHorizontalOrientation","withHomeAndEnd","withWrap","_itemsResized","Promise","resolve","then","max","_getMaxScrollDistance","newFocusIndex","_setTabFocus","ResizeObserver","tabItems","observer","resizeObserver","disconnect","contentRect","height","ngAfterContentChecked","_tabLabelCount","_scrollToLabel","_checkScrollingControls","_scrollDistanceChanged","_updateTabScrollPosition","_handleKeydown","keyCode","focusIndex","_itemSelected","onKeydown","_onContentChanges","textContent","_currentTextContent","_checkPaginationEnabled","activeItemIndex","_isValidIndex","setActiveItem","tab","toArray","disabled","tabIndex","containerEl","_tabListContainer","scrollLeft","scrollWidth","scrollDistance","translateX","_tabList","TRIDENT","EDGE","_scrollTo","_scrollHeader","direction","viewLength","scrollAmount","_handlePaginatorClick","labelIndex","selectedLabel","labelBeforePos","labelAfterPos","_tabListInner","beforeVisiblePos","afterVisiblePos","isEnabled","lengthOfTabList","selectedItem","selectedLabelWrapper","_inkBar","mouseEvent","button","maxScrollDistance","distance","ViewportRuler","Platform","_MatTabHeaderBase","viewportRuler","ngZone","animationMode","_disableRipple","disableRipple","preventDefault","MatTabHeader","MatRipple","CdkObserveContent","descendants","nextId","MatTabChangeEvent","_MatTabGroupMixinBase","_MatTabGroupBase","defaultConfig","_tabs","_indexToSelect","_lastFocusedTabIndex","_tabBodyWrapperHeight","_tabsSubscription","_tabLabelSubscription","_dynamicHeight","headerPosition","_preserveContent","selectedIndexChange","focusChange","animationDone","selectedTabChange","_groupId","dynamicHeight","contentTabIndex","_animationDuration","_contentTabIndex","backgroundColor","_backgroundColor","classList","remove","indexToSelect","_clampTabIndex","isFirstRun","_createChangeEvent","_tabBodyWrapper","_subscribeToAllTabChanges","_subscribeToTabLabels","tabs","selectedTab","_allTabs","notifyOnChanges","realignInkBar","_tabHeader","focusTab","_focusChanged","_getTabLabelId","_getTabContentId","_setTabBodyWrapperHeight","tabHeight","offsetHeight","_removeTabBodyWrapperHeight","_handleClick","tabHeader","_getTabIndex","targetIndex","_tabFocusChanged","focusOrigin","MatTabGroup","NgClass","NgForOf","NgIf","CdkMonitorFocus","nextUniqueId","_MatTabNavBase","updateActiveLink","items","active","tabPanel","_activeTabId","_getRole","getAttribute","MatTabNav","MatTabLink","_MatTabLinkMixinBase","_MatTabLinkBase","_tabNavBar","globalRippleOptions","_focusMonitor","_isActive","rippleConfig","animation","enterDuration","exitDuration","newValue","rippleDisabled","monitor","stopMonitoring","_handleFocus","click","_getAriaControls","_getAriaSelected","_getAriaCurrent","FocusMonitor","tabNavBar","focusMonitor","_tabLinkRipple","setupTriggerEvents","_removeTriggerEvents","MatTabNavPanel","OnPush","MatTabsModule","mod","inj","imports","declarations","Emitter","mixin","_callbacks","off","arguments","callbacks","emitReserved","hasListeners","encode","encodeURIComponent","decode","qs","qry","pairs","l","pair","decodeURIComponent","re","src","b","authority","ipv6uri","pathNames","queryKey","regx","query","$0","$2","alphabet","seed","encoded","floor","decoded","charAt","yeast","now","globalThisShim","global","Socket","Transport","transports","installTimerFunctions","debugModule","writeBuffer","prevBufferLen","withCredentials","timestampParam","rememberUpgrade","addTrailingSlash","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","transport","offlineEventListener","description","createTransport","EIO","sid","priorWebsocketSuccess","setTimeoutFn","setTransport","onDrain","onPacket","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","to","packet","onHandshake","resetPingTimeout","sendPacket","filterUpgrades","clearTimeoutFn","packets","getWritablePackets","shouldCheckPayloadSize","payloadSize","cleanupAndClose","waitForUpgrade","filteredUpgrades","decodePacket","TransportError","context","doOpen","doClose","onData","details","onPause","createUri","schema","_hostname","_port","_query","encodedQuery","Polling","WS","WT","webtransport","polling","encodePayload","decodePayload","createCookieJar","XHR","pick","globalThis","empty","hasXHR2","xhr","xdomain","responseType","isSSL","xd","forceBase64","supportsBinary","cookieJar","poll","total","doPoll","doWrite","timestampRequests","b64","Request","xhrStatus","pollXhr","extraHeaders","addCookies","requestTimeout","parseCookies","onLoad","requestsCount","requests","fromError","attachEvent","unloadHandler","terminationEvent","usingBrowserWebSocket","defaultBinaryType","encodePacket","isReactNative","check","addEventListeners","closeEvent","lastPacket","encodePacketToBinary","decodePacketFromBinary","shouldIncludeBinaryHeader","WebTransport","closed","catch","ready","createBidirectionalStream","reader","getReader","writer","getWriter","binaryFlag","handshake","TextEncoder","XMLHttpRequestModule","CookieJar","setCookieString","subParts","expires","expiration","setUTCSeconds","getUTCSeconds","cookies","Map","parsed","getTime","attr","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","useNativeTimers","BASE64_OVERHEAD","utf8Length","ceil","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","encodedPacket","mapBinary","forceBufferConversion","TEXT_ENCODER","SEPARATOR","fromCharCode","encodedPackets","encodedPayload","decodedPacket","TEXT_DECODER","TextDecoder","isPlainBinary","Backoff","factor","jitter","attempts","duration","rand","random","deviation","setMin","setMax","setJitter","Manager","cache","lookup","sameNamespace","newConnection","forceNew","multiplex","Engine","parser","nsps","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","encoder","Encoder","decoder","Decoder","_autoConnect","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","engine","skipReconnect","openSubDestroy","errorSub","onping","ondata","ondecoded","nsp","_close","_packet","subDestroy","delay","onreconnect","attempt","PacketType","RESERVED_EVENTS","freeze","connect_error","disconnecting","newListener","connected","recovered","receiveBuffer","sendBuffer","_queueSeq","ids","acks","flags","_opts","disconnected","subEvents","onpacket","retries","fromQueue","volatile","_addToQueue","EVENT","ack","pop","_registerAckCallback","isTransportWritable","discardPacket","notifyOutgoingListeners","ackTimeout","emitWithAck","withErr","reject","arg1","arg2","tryCount","responseArgs","hasError","_drainQueue","force","_sendConnectPacket","CONNECT","_pid","_lastOffset","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","emitEvent","_anyListeners","sent","emitBuffered","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","loc","ipv6","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","_placeholder","newData","reconstructPacket","_reconstructPacket","isIndexValid","hasBinary","replacer","encodeAsBinary","encodeAsString","deconstruction","isObject","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","base64","takeBinaryData","p","payload","tryParse","isPayloadValid","finishedReconstruction","reconPack","binData","withNativeArrayBuffer","withNativeBlob","Blob","withNativeFile","File","toJSON"],"sourceRoot":"webpack:///","x_google_ignoreList":[36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86]}