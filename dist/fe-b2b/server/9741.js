"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=9741,exports.ids=[9741],exports.modules={59741:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AuthGoogleSignInSuccessModule:()=>AuthGoogleSignInSuccessModule});var common=__webpack_require__(69808),auth_recover_account_module=__webpack_require__(45250),router=__webpack_require__(74202),tslib_es6=__webpack_require__(97582),animations=__webpack_require__(41777),ngneat_until_destroy=__webpack_require__(44987),core=__webpack_require__(5e3),auth_service=__webpack_require__(24159),mixpanel_service=__webpack_require__(56838);let AuthGoogleSignInSuccessComponent=__name(class{constructor(_activatedRoute,_authService,_router,mixpanelService){this._activatedRoute=_activatedRoute,this._authService=_authService,this._router=_router,this.mixpanelService=mixpanelService}ngOnInit(){this._activatedRoute.queryParams.pipe((0,ngneat_until_destroy.t)(this)).subscribe(params=>{const{token,recovered}=params;console.log("TOKEN: ",token);const updatedToken=token.endsWith("/")?token.slice(0,-1):token;this._authService.updateToken(updatedToken),this._authService.initUser(),this._authService.getUser().pipe((0,ngneat_until_destroy.t)(this)).subscribe(user=>{var _a;console.log("AUTH SERVICE GOOGLE SIGN IN");const mixpanel={User_id:null==user?void 0:user._id,"Account type":null===(_a=null==user?void 0:user.rootRole)||void 0===_a?void 0:_a.displayName,"Company Name":null==user?void 0:user.company,"Login Method":null==user?void 0:user.socialAuthType};this.mixpanelService.logIn(mixpanel),this.mixpanelService.track("Login completed",{"Login Method":"Email"}),this._authService.updateToken(updatedToken),this._authService.updateRole(null==user?void 0:user.role),this._router.navigateByUrl("/")})})}},"AuthGoogleSignInSuccessComponent");AuthGoogleSignInSuccessComponent.\u0275fac=__name(function(t){return new(t||AuthGoogleSignInSuccessComponent)(core.Y36(router.gz),core.Y36(auth_service.e),core.Y36(router.F0),core.Y36(mixpanel_service.h))},"AuthGoogleSignInSuccessComponent_Factory"),AuthGoogleSignInSuccessComponent.\u0275cmp=core.Xpm({type:AuthGoogleSignInSuccessComponent,selectors:[["b2b-auth-google-sign-in-success"]],decls:0,vars:0,template:__name(function(rf,ctx){},"AuthGoogleSignInSuccessComponent_Template"),data:{animation:[(0,animations.X$)("fadeInOut",[(0,animations.eR)(":enter",[(0,animations.oB)({opacity:0}),(0,animations.jt)(500,(0,animations.oB)({opacity:1}))]),(0,animations.eR)(":leave",[(0,animations.jt)(500,(0,animations.oB)({opacity:0}))])])]}}),AuthGoogleSignInSuccessComponent=(0,tslib_es6.gn)([(0,ngneat_until_destroy.c)()],AuthGoogleSignInSuccessComponent);const routes=[{path:"",component:AuthGoogleSignInSuccessComponent}];class AuthGoogleSignInSuccessRoutingModule{}__name(AuthGoogleSignInSuccessRoutingModule,"AuthGoogleSignInSuccessRoutingModule"),AuthGoogleSignInSuccessRoutingModule.\u0275fac=__name(function(t){return new(t||AuthGoogleSignInSuccessRoutingModule)},"AuthGoogleSignInSuccessRoutingModule_Factory"),AuthGoogleSignInSuccessRoutingModule.\u0275mod=core.oAB({type:AuthGoogleSignInSuccessRoutingModule}),AuthGoogleSignInSuccessRoutingModule.\u0275inj=core.cJS({imports:[router.Bz.forChild(routes),router.Bz]});class AuthGoogleSignInSuccessModule{}__name(AuthGoogleSignInSuccessModule,"AuthGoogleSignInSuccessModule"),AuthGoogleSignInSuccessModule.\u0275fac=__name(function(t){return new(t||AuthGoogleSignInSuccessModule)},"AuthGoogleSignInSuccessModule_Factory"),AuthGoogleSignInSuccessModule.\u0275mod=core.oAB({type:AuthGoogleSignInSuccessModule}),AuthGoogleSignInSuccessModule.\u0275inj=core.cJS({imports:[common.ez,AuthGoogleSignInSuccessRoutingModule,auth_recover_account_module._]})},45250:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>AuthRecoverAccountModule});var _angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(69808),_b2b_ngx_image__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(87343),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3);class AuthRecoverAccountModule{}__name(AuthRecoverAccountModule,"AuthRecoverAccountModule"),AuthRecoverAccountModule.\u0275fac=__name(function(t){return new(t||AuthRecoverAccountModule)},"AuthRecoverAccountModule_Factory"),AuthRecoverAccountModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:AuthRecoverAccountModule}),AuthRecoverAccountModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.ez,_b2b_ngx_image__WEBPACK_IMPORTED_MODULE_2__.A]})}};