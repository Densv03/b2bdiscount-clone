{"version":3,"file":"src_app_admin_pages_admin-article_admin-article_module_ts.js","mappings":"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","sources":["./src/app/admin/pages/admin-article/admin-article-routing.module.ts","./src/app/admin/pages/admin-article/admin-article.module.ts","./src/app/admin/pages/admin-article/layout/admin-article.component.ts","./src/app/admin/pages/admin-article/layout/admin-article.component.html"],"sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { AdminArticleComponent } from \"./layout/admin-article.component\";\n\nconst routes: Routes = [\n\t{\n\t\tpath: \"\",\n\t\tcomponent: AdminArticleComponent,\n\t},\n];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule],\n})\nexport class AdminArticleRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\n\nimport { AdminArticleRoutingModule } from \"./admin-article-routing.module\";\nimport { AdminArticleComponent } from \"./layout/admin-article.component\";\nimport { B2bNgxInputModule } from \"@b2b/ngx-input\";\nimport { B2bNgxFileModule } from \"@b2b/ngx-file\";\nimport { AngularEditorModule } from \"@kolkov/angular-editor\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { B2bNgxSelectModule } from \"@b2b/ngx-select\";\nimport { B2bNgxButtonModule } from \"@b2b/ngx-button\";\nimport { B2bNgxCountrySelectModule } from \"@b2b/ngx-country-select\";\nimport { B2bNgxChipsModule } from \"@b2b/ngx-chips\";\nimport {TranslateModule} from \"@ngx-translate/core\";\n\n@NgModule({\n\tdeclarations: [AdminArticleComponent],\n\timports: [\n\t\tCommonModule,\n\t\tAdminArticleRoutingModule,\n\t\tB2bNgxInputModule,\n\t\tB2bNgxFileModule,\n\t\tB2bNgxSelectModule,\n\t\tB2bNgxButtonModule,\n\t\tB2bNgxCountrySelectModule,\n\t\tAngularEditorModule,\n\t\tReactiveFormsModule,\n\t\tB2bNgxChipsModule,\n\t\tTranslateModule\n\t],\n})\nexport class AdminArticleModule {}\n","import { ChangeDetectionStrategy, Component, OnInit } from \"@angular/core\";\nimport { debounceTime, distinctUntilChanged, filter, map, startWith, switchMap } from \"rxjs/operators\";\nimport { B2bNgxSelectThemeEnum } from \"@b2b/ngx-select\";\nimport { CategoriesService } from \"../../../../client/services/categories/categories.service\";\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport { B2bNgxButtonThemeEnum } from \"@b2b/ngx-button\";\nimport { WikiService } from \"../../../../client/services/wiki/wiki.service\";\nimport { UntilDestroy, untilDestroyed } from \"@ngneat/until-destroy\";\nimport { HotToastService } from \"@ngneat/hot-toast\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport {combineLatest, Observable} from \"rxjs\";\nimport { capitalizeFirstLetter } from \"../../../../core/helpers/function/capitalize-first-letter\";\nimport { animate, style, transition, trigger } from \"@angular/animations\";\nimport {AngularEditorConfig} from \"@kolkov/angular-editor\";\n\nconst EDITOR_CONFIG: AngularEditorConfig = {\n\teditable: true,\n\tspellcheck: true,\n\theight: \"auto\",\n\tminHeight: \"200px\",\n\ttranslate: \"yes\",\n\tenableToolbar: true,\n\tshowToolbar: true,\n\tplaceholder: \"Enter text here...\",\n\tfonts: [\n\t\t{ class: \"arial\", name: \"Arial\" },\n\t\t{ class: \"times-new-roman\", name: \"Times New Roman\" },\n\t\t{ class: \"calibri\", name: \"Calibri\" },\n\t\t{ class: \"comic-sans-ms\", name: \"Comic Sans MS\" },\n\t],\n\tsanitize: true,\n\ttoolbarPosition: \"top\",\n};\n\nfunction setValuesToFormData(formData: FormData, values: any, prefix?: string) {\n\tObject.entries(values).forEach(([key, value]: any) => {\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue\n\t\t\t\t.filter((arrayItem) => !!arrayItem)\n\t\t\t\t.forEach((arrayItem) => {\n\t\t\t\t\tformData.append(key, arrayItem);\n\t\t\t\t});\n\t\t} else if (key === \"image\") {\n\t\t\tArray.from(value).forEach((file: any) => {\n\t\t\t\tformData.append(key, file);\n\t\t\t});\n\t\t} else if (typeof value === \"object\" && value !== null) {\n\t\t\tsetValuesToFormData(formData, value, key);\n\t\t} else {\n\t\t\tconst displayKey = prefix ? `${prefix}${capitalizeFirstLetter(key)}` : key;\n\t\t\tformData.append(displayKey, value);\n\t\t}\n\t});\n}\n\n@UntilDestroy()\n@Component({\n\tselector: \"b2b-admin-article\",\n\ttemplateUrl: \"./admin-article.component.html\",\n\tstyleUrls: [\"./admin-article.component.scss\"],\n\tanimations: [\n\t\ttrigger(\"fadeInOut\", [\n\t\t\ttransition(\":enter\", [\n\t\t\t\t// :enter is alias to 'void => *'\n\t\t\t\tstyle({ opacity: 0 }),\n\t\t\t\tanimate(500, style({ opacity: 1 })),\n\t\t\t]),\n\t\t\ttransition(\":leave\", [\n\t\t\t\t// :leave is alias to '* => void'\n\t\t\t\tanimate(500, style({ opacity: 0 })),\n\t\t\t]),\n\t\t]),\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AdminArticleComponent implements OnInit {\n\tpublic readonly formGroup: FormGroup;\n\tpublic readonly editorConfig: AngularEditorConfig;\n\tpublic readonly b2bNgxSelectThemeEnum: typeof B2bNgxSelectThemeEnum;\n\tpublic readonly b2bNgxButtonThemeEnum: typeof B2bNgxButtonThemeEnum;\n\n\tpublic level1Categories: any;\n\tpublic level2Categories: any;\n\n\tpublic readonly searchControl = new FormControl();\n\tpublic readonly searchedOptions$: Observable<any>;\n\n\tconstructor(\n\t\tprivate readonly _formBuilder: FormBuilder,\n\t\tprivate readonly _categoriesService: CategoriesService,\n\t\tprivate readonly _wikiService: WikiService,\n\t\tprivate readonly _hotToastService: HotToastService,\n\t\tprivate readonly _activatedRoute: ActivatedRoute\n\t) {\n\t\tthis.b2bNgxSelectThemeEnum = B2bNgxSelectThemeEnum;\n\t\tthis.b2bNgxButtonThemeEnum = B2bNgxButtonThemeEnum;\n\n\t\tthis.editorConfig = EDITOR_CONFIG;\n\n\t\tthis.formGroup = this.getFormGroup();\n\t\tthis.level1Categories = [];\n\t\tthis.level2Categories = [];\n\n\t\tthis.searchedOptions$ = this.getSearchedOptions();\n\t}\n\n\tpublic getSearchedOptions(): Observable<any> {\n\t\treturn this.searchControl.valueChanges.pipe(\n\t\t\tdebounceTime(1000),\n\t\t\tdistinctUntilChanged(),\n\t\t\tstartWith(\"\"),\n\t\t\tswitchMap((search) => this._wikiService.getTags(search))\n\t\t);\n\t}\n\n\tpublic setSearch(search: any) {\n\t\tthis.searchControl.setValue(search);\n\t}\n\n\tpublic setLevel1Categories() {\n\t\tthis._categoriesService\n\t\t\t.getWikiCategories()\n\t\t\t.pipe(untilDestroyed(this))\n\t\t\t.subscribe((categories) => {\n\t\t\t\tthis.level1Categories = categories;\n\t\t\t});\n\t}\n\n\tpublic setLevel2Categories() {\n\t\tthis.formGroup\n\t\t\t.get(\"level1Category\")\n\t\t\t.valueChanges.pipe(\n\t\t\t\tuntilDestroyed(this),\n\t\t\t\tfilter((level1CategoryId) => !!level1CategoryId)\n\t\t\t)\n\t\t\t.subscribe((level1CategoryId: any) => {\n\t\t\t\tthis.level2Categories = this.level1Categories.find(\n\t\t\t\t\t(level1Category: { _id: any; }) => level1Category._id === level1CategoryId\n\t\t\t\t)?.children;\n\t\t\t});\n\t}\n\n\tpublic updateArticle() {\n\t\tconst articleById$ = this._activatedRoute.paramMap.pipe(\n\t\t\tmap((paramMap) => paramMap.get(\"id\")),\n\t\t\tfilter((id) => !!id),\n\t\t\tswitchMap((id) => this._wikiService.getArticleById(id))\n\t\t);\n\n\t\tconst categories$ = this._categoriesService.getWikiCategories();\n\n\t\tcombineLatest([articleById$, categories$])\n\t\t\t.pipe(untilDestroyed(this))\n\t\t\t.subscribe(([article, categories]) => {\n\t\t\t\tconst level2CategoryId = article.category?._id;\n\t\t\t\tconst level1CategoryId = categories.find((level1Category: { children: any[]; }) =>\n\t\t\t\t\tlevel1Category?.children.find((level2Category) => level2Category._id === level2CategoryId)\n\t\t\t\t)?._id;\n\t\t\t\tthis.formGroup.patchValue({\n\t\t\t\t\t...article,\n\t\t\t\t\timage: [article.image],\n\t\t\t\t\tlevel1Category: level1CategoryId,\n\t\t\t\t\tlevel2Category: level2CategoryId,\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tngOnInit() {\n\t\tthis.updateArticle();\n\t\tthis.setLevel1Categories();\n\t\tthis.setLevel2Categories();\n\t}\n\n\tpublic getFormGroup() {\n\t\treturn this._formBuilder.group({\n\t\t\t_id: null,\n\t\t\ttitle: [\"\", Validators.required],\n\t\t\tdescription: \"\",\n\t\t\tauthor: \"\",\n\t\t\timage: \"\",\n\t\t\tcountry: [null],\n\t\t\ttags: [[]],\n\t\t\tlevel1Category: [null],\n\t\t\tlevel2Category: [null],\n\t\t});\n\t}\n\n\tpublic onSubmit(values: { [x: string]: any; _id: any; level1Category: any; level2Category: any; tags: any; }): void {\n\t\tif (this.formGroup.status === \"INVALID\") {\n\t\t\treturn;\n\t\t}\n\t\tconst formData = new FormData();\n\t\t//\n\t\tconst { _id, level1Category, level2Category, tags, ...rest } = values;\n\n\t\tconst formValues: any = {\n\t\t\t...rest,\n\t\t\tcategory: level2Category ?? level1Category,\n\t\t\ttags: tags.map((tag: { _id: any; name: any; }) => tag._id || tag.name),\n\t\t};\n\t\tfor (const key in formValues) {\n\t\t\tif (!formValues[key] || (Array.isArray(formValues[key]) && !formValues[key].length)) {\n\t\t\t\tdelete formValues[key];\n\t\t\t}\n\t\t}\n\n\t\tformValues.image = formValues.image[0];\n\n\t\tif (_id) {\n\t\t\t// Array.isArray(formValues.image) ? delete formValues.image : null\n\t\t\t// setValuesToFormData(formData, formValues);\n\n\t\t\tthis._wikiService\n\t\t\t\t.updateArticle(_id, formValues)\n\t\t\t\t.pipe(\n\t\t\t\t\tuntilDestroyed(this),\n\t\t\t\t\tthis._hotToastService.observe({\n\t\t\t\t\t\tloading: \"Article updating...\",\n\t\t\t\t\t\tsuccess: \"Article updated successfully!\",\n\t\t\t\t\t\terror: \"Article updating failed!\",\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.subscribe(() => {});\n\t\t} else {\n\t\t\tsetValuesToFormData(formData, formValues);\n\t\t\tthis._wikiService\n\t\t\t\t.createArticle(formData)\n\t\t\t\t.pipe(\n\t\t\t\t\tuntilDestroyed(this),\n\t\t\t\t\tthis._hotToastService.observe({\n\t\t\t\t\t\tloading: \"Article creating...\",\n\t\t\t\t\t\tsuccess: \"Article created successfully!\",\n\t\t\t\t\t\terror: \"Article creation failed!\",\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.subscribe(() => {});\n\t\t}\n\t}\n}\n","<form [formGroup]=\"formGroup\" class=\"admin-article\" (ngSubmit)=\"onSubmit(formGroup.value)\">\n\t<p class=\"admin-article__label\">{{ formGroup.get(\"_id\").value ? \"Edit an article\" : \"Add an article\" }}</p>\n\t<b2b-ngx-file formControlName=\"image\" class=\"admin-article__image\">Image</b2b-ngx-file>\n\n\t<div class=\"admin-article__main\">\n\t\t<div>\n\t\t\t<b2b-ngx-input\n\t\t\t\tformControlName=\"title\"\n\t\t\t\tclass=\"admin-article__input\"\n\t\t\t\t[label]=\"'LABELS.ARTICLE_LABEL' | translate\"\n\t\t\t\tplaceholder=\"Enter article label\"></b2b-ngx-input>\n\t\t\t<p *ngIf=\"this.formGroup.get('title').errors?.['required']\" class=\"error\" [@fadeInOut]>This field is required</p>\n\t\t</div>\n\t\t<div>\n\t\t\t<b2b-ngx-input\n\t\t\t\tformControlName=\"author\"\n\t\t\t\tclass=\"admin-article__input\"\n\t\t\t\t[label]=\"'LABELS.ARTICLE_AUTHOR' | translate\"\n\t\t\t\tplaceholder=\"Enter article author\"></b2b-ngx-input>\n\t\t</div>\n\t</div>\n\n\t<div class=\"admin-article__categories\">\n\t\t<div class=\"admin-article__category\">\n\t\t\t<b2b-ngx-select\n\t\t\t\tformControlName=\"level1Category\"\n\t\t\t\tplaceholder=\"Select category\"\n\t\t\t\t[options]=\"level1Categories\"\n\t\t\t\tbindValue=\"_id\"\n\t\t\t\tbindLabel=\"name\"\n\t\t\t\t[theme]=\"b2bNgxSelectThemeEnum.BACKGROUND_GRAY\"></b2b-ngx-select>\n\t\t</div>\n\t\t<div class=\"admin-article__sub-category\">\n\t\t\t<b2b-ngx-select\n\t\t\t\tformControlName=\"level2Category\"\n\t\t\t\tplaceholder=\"Select subcategory\"\n\t\t\t\t[options]=\"level2Categories\"\n\t\t\t\tbindValue=\"_id\"\n\t\t\t\tbindLabel=\"name\"\n\t\t\t\t[theme]=\"b2bNgxSelectThemeEnum.BACKGROUND_GRAY\"></b2b-ngx-select>\n\t\t</div>\n\t</div>\n\n\t<div class=\"admin-article__additional\">\n\t\t<b2b-ngx-country-select\n\t\t\tformControlName=\"country\"\n\t\t\t[theme]=\"b2bNgxSelectThemeEnum.BACKGROUND_GRAY\"\n\t\t\tclass=\"admin-article__country\"\n\t\t\tplaceholder=\"Select Country\"></b2b-ngx-country-select>\n\n\t\t<div class=\"admin-article__tags\">\n\t\t\t<b2b-ngx-chips\n\t\t\t\tformControlName=\"tags\"\n\t\t\t\t(searched)=\"setSearch($event)\"\n\t\t\t\t[searchedOptions]=\"searchedOptions$ | async\"></b2b-ngx-chips>\n\t\t</div>\n\t</div>\n\n\t<angular-editor\n\t\tclass=\"admin-article__description\"\n\t\tformControlName=\"description\"\n\t\t[config]=\"editorConfig\"></angular-editor>\n\n\t<button b2bNgxButton class=\"admin-article__button\" [theme]=\"b2bNgxButtonThemeEnum.BACKGROUND_BLACK\">\n\t\t{{ formGroup.get(\"_id\").value ? \"Update an article\" : \"Create an article\" }}\n\t</button>\n</form>\n"],"names":["debounceTime","distinctUntilChanged","filter","map","startWith","switchMap","B2bNgxSelectThemeEnum","FormControl","Validators","B2bNgxButtonThemeEnum","UntilDestroy","untilDestroyed","combineLatest","capitalizeFirstLetter","animate","style","transition","trigger","i0","EDITOR_CONFIG","editable","spellcheck","height","minHeight","translate","enableToolbar","showToolbar","placeholder","fonts","class","name","sanitize","toolbarPosition","setValuesToFormData","formData","values","prefix","Object","entries","forEach","key","value","Array","isArray","arrayItem","append","from","file","displayKey","AdminArticleComponent","constructor","_formBuilder","_categoriesService","_wikiService","_hotToastService","_activatedRoute","b2bNgxSelectThemeEnum","b2bNgxButtonThemeEnum","editorConfig","formGroup","getFormGroup","level1Categories","level2Categories","searchedOptions$","getSearchedOptions","searchControl","valueChanges","pipe","search","getTags","setSearch","setValue","setLevel1Categories","getWikiCategories","subscribe","categories","setLevel2Categories","get","level1CategoryId","find","level1Category","_id","_a","children","updateArticle","articleById$","paramMap","id","getArticleById","categories$","article","level2CategoryId","category","level2Category","_b","patchValue","image","ngOnInit","group","title","required","description","author","country","tags","onSubmit","status","FormData","rest","formValues","tag","length","observe","loading","success","error","createArticle","selectors","decls","vars","consts","template","ctx","opacity","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}