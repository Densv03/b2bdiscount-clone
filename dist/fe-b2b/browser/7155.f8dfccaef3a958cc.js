"use strict";(self.webpackChunkfe_b2b=self.webpackChunkfe_b2b||[]).push([[7155],{17155:(C,p,t)=>{t.r(p),t.d(p,{AuthGoogleSignInSuccessModule:()=>G});var g=t(48611),v=t(13814),u=t(69441),S=t(99938),n=t(78777),l=t(19555),o=t(49042),y=t(60431),f=t(64728);let r=class m{constructor(c,e,i,h){this._activatedRoute=c,this._authService=e,this._router=i,this.mixpanelService=h}ngOnInit(){this._activatedRoute.queryParams.pipe((0,l.t)(this)).subscribe(c=>{const{token:e}=c,h=e.endsWith("/")?e.slice(0,-1):e;this._authService.updateToken(h),this._authService.initUser(),this._authService.getUser().pipe((0,l.t)(this)).subscribe(a=>{console.log("AUTH SERVICE GOOGLE SIGN IN");const d={User_id:a?._id,"Account type":a?.rootRole?.displayName,"Company Name":a?.company,"Auth Method":a?.socialAuthType};this.mixpanelService.logIn(d),this.mixpanelService.track("Login completed",d),this._authService.updateToken(h),this._authService.updateRole(a?.role),this._router.navigateByUrl("/")})})}static#t=this.\u0275fac=function(e){return new(e||m)(o.Y36(u.gz),o.Y36(y.e),o.Y36(u.F0),o.Y36(f.h))};static#e=this.\u0275cmp=o.Xpm({type:m,selectors:[["b2b-auth-google-sign-in-success"]],decls:0,vars:0,template:function(e,i){},data:{animation:[(0,n.X$)("fadeInOut",[(0,n.eR)(":enter",[(0,n.oB)({opacity:0}),(0,n.jt)(500,(0,n.oB)({opacity:1}))]),(0,n.eR)(":leave",[(0,n.jt)(500,(0,n.oB)({opacity:0}))])])]}})};r=(0,S.gn)([(0,l.c)()],r);const A=[{path:"",component:r}];let I=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=o.oAB({type:s});static#o=this.\u0275inj=o.cJS({imports:[u.Bz.forChild(A),u.Bz]})}return s})(),G=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=o.oAB({type:s});static#o=this.\u0275inj=o.cJS({imports:[g.ez,I,v._]})}return s})()}}]);