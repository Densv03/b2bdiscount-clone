"use strict";(self.webpackChunkfe_b2b=self.webpackChunkfe_b2b||[]).push([[9027],{19027:(C,d,t)=>{t.r(d),t.d(d,{AuthGoogleSignInSuccessModule:()=>A});var g=t(60177),m=t(93983),a=t(52168),p=t(10467),S=t(31635),c=t(49969),r=t(49894),n=t(54438),y=t(15890),f=t(37409);let h=class l{constructor(i,e,s,u){this._activatedRoute=i,this._authService=e,this._router=s,this.mixpanelService=u}ngOnInit(){this._activatedRoute.queryParams.pipe((0,r.s)(this)).subscribe(i=>{const{token:e}=i,u=e.endsWith("/")?e.slice(0,-1):e;this._authService.updateToken(u),this._authService.initUser(),this._authService.getUser().pipe((0,r.s)(this)).subscribe(v=>{console.log("AUTH SERVICE GOOGLE SIGN IN"),this.trackLogin(v),this._authService.updateToken(u),this._authService.updateRole(v?.role),this._router.navigateByUrl("/")})})}trackLogin(i){var e=this;return(0,p.A)(function*(){i&&e.mixpanelService.logIn({User_id:i?._id,"Account Type":i?.rootRole?.displayName,"Company Name":i?.company,"Auth Method":i?.socialAuthType})})()}static#t=this.\u0275fac=function(e){return new(e||l)(n.rXU(a.nX),n.rXU(y.u),n.rXU(a.Ix),n.rXU(f.U))};static#e=this.\u0275cmp=n.VBU({type:l,selectors:[["b2b-auth-google-sign-in-success"]],decls:0,vars:0,template:function(e,s){},data:{animation:[(0,c.hZ)("fadeInOut",[(0,c.kY)(":enter",[(0,c.iF)({opacity:0}),(0,c.i0)(500,(0,c.iF)({opacity:1}))]),(0,c.kY)(":leave",[(0,c.i0)(500,(0,c.iF)({opacity:0}))])])]}})};h=(0,S.Cg)([(0,r.d)()],h);const I=[{path:"",component:h}];let G=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=n.$C({type:o});static#i=this.\u0275inj=n.G2t({imports:[a.iI.forChild(I),a.iI]})}return o})(),A=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=n.$C({type:o});static#i=this.\u0275inj=n.G2t({imports:[g.MD,G,m.i]})}return o})()}}]);