"use strict";(self.webpackChunkfe_b2b=self.webpackChunkfe_b2b||[]).push([[4762,7841],{67841:(C,u,r)=>{r.d(u,{Z:()=>O});var p,c=r(97582),t=r(5e3),d=r(88763),i=r(93075),n=r(44987),h=r(69808),f=r(64062);function g(a,o){if(1&a&&(t.TgZ(0,"li"),t._UZ(1,"input",2),t.TgZ(2,"label",3)(3,"span",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"span",6),t._uU(6),t.qZA()()()),2&a){const e=o.$implicit,s=o.index,l=t.oxw();t.xp6(1),t.Q6J("id",e+s)("formControl",l.formControl)("value",e),t.xp6(1),t.Q6J("for",e+s),t.xp6(4),t.Oqu(e)}}let O=p=class{constructor(){this.type="checkbox",this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new i.NI(""),this.id=(0,d.U)()}get error(){if(!this.errors)return"";const o=Object.keys(this.errors)[0];return this.errors[o]}ngOnInit(){this.subscribeOnValueChanges()}ngOnChanges(o){o.errors&&this.formControl.setErrors(o.errors.currentValue)}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe((0,n.t)(this)).subscribe(o=>{this.onChange(o)})}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}writeValue(o){this.formControl.setValue(o)}setDisabledState(o){o?this.formControl.disable():this.formControl.enable()}};O.\u0275fac=function(o){return new(o||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["b2b-ngx-radio"]],inputs:{placeholder:"placeholder",checked:"checked",options:"options",customClass:"customClass",errors:"errors"},features:[t._Bn([{provide:i.JU,useExisting:(0,t.Gpc)(()=>p),multi:!0},{provide:i.Cf,useExisting:(0,t.Gpc)(()=>p),multi:!0}]),t.TTD],decls:2,vars:2,consts:[[3,"className"],[4,"ngFor","ngForOf"],["name","radio","type","radio",3,"id","formControl","value"],[3,"for"],[1,"circle"],["b2bNgxIcon","","name","check-white"],[1,"title"]],template:function(o,e){1&o&&(t.TgZ(0,"ul",0),t.YNc(1,g,7,5,"li",1),t.qZA()),2&o&&(t.Q6J("className",e.customClass),t.xp6(1),t.Q6J("ngForOf",e.options))},dependencies:[h.sg,i.Fj,i._,i.JJ,i.oH,f.p],styles:["ul[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border:1px solid #556274;border-radius:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:14px;color:#556274}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-left:0;font-family:Helvetica Neue;font-size:16px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.01em;text-align:left}"],changeDetection:0}),O=p=(0,c.gn)([(0,n.c)()],O)},38702:(C,u,r)=>{r.d(u,{I:()=>n});var c=r(69808),t=r(93075),d=r(51163),i=r(5e3);let n=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=i.oAB({type:f}),f.\u0275inj=i.cJS({imports:[c.ez,t.UX,d.w]}),f})();r(67841)},36521:(C,u,r)=>{r.d(u,{b:()=>O});var c=r(18505),t=r(54004),d=r(50590),i=r(61135),n=r(5e3),h=r(96931),f=r(35237),p=r(14835);function g(a){return a.photos&&a.photos.length?a.photos[0].lg:null}let O=(()=>{class a{constructor(e,s,l){this._apiService=e,this._offersQuery=s,this._offersStore=l,this.offersSource=new i.X([]),this.savedOffersSource=new i.X([]),this.offersLength=new i.X(0),this.savedOffersLength=new i.X(0),this._endpoint="offers/"}get offers$(){return this.offersSource.asObservable()}get savedOffers$(){return this.savedOffersSource.asObservable()}get offersLength$(){return this.offersLength.asObservable()}get savedOffersLength$(){return this.savedOffersLength.asObservable()}removeAllOffers(){return this._apiService.delete("offers/delete")}getContainerLocation(e){return this._apiService.get(`container/location?${e}`)}getAllOffersCount(){return this._offersQuery.selectAllOffersCount$}getSeaLines(){const{seaLines:e}=this._offersQuery.getValue();return e.length||this._apiService.get("seaLines").subscribe(s=>{this._offersStore.update({seaLines:s})}),this._offersQuery.selectSeaLines$}markAsSold(e){this._apiService.post(`offer/${e}/status/update`,{status:"sold"}).pipe().subscribe()}hideOffer(e){return this._apiService.post(`offer/${e}/hide`,{})}unHideOffer(e){return this._apiService.post(`offer/${e}/unHide`,{})}adminHideOffer(e){return this._apiService.post(`offer/${e}/adminHide`,{})}adminUnHideOffer(e){return this._apiService.post(`offer/${e}/adminUnHide`,{})}deleteOfferSub(e){return this._apiService.delete(`offer/${e}/delete`)}deleteRfq(e){return this._apiService.delete("tradeBid/delete-rfq-admin",{body:{rfqId:e}})}deleteOfferById(e,s){return this._apiService.delete(`offer/${e}/delete`,s)}getOfferById(e){return this._apiService.get(`offer/${e}/`).pipe((0,c.b)(s=>{this._offersStore.update({offer:s})}))}getMyOffers(){return this._apiService.get("my/offers?limit=1").subscribe(e=>{this._offersStore.update({myOffers:e.map(s=>({...s,previewPhoto:g(s)}))})}),this._offersQuery.selectMyOffers$}getOffers(e=""){return this._apiService.get("offers/"+e).pipe((0,t.U)(s=>{const{offers:l,totalCount:_}=s,v=l.map(m=>({...m,previewPhoto:g(m)}));return this._offersStore.update({allOffers:v,allOffersCount:_}),[...v]}))}getActiveOffers(){return this._apiService.get("offers?hideSold=true").pipe((0,t.U)(e=>{const{offers:s,totalCount:l}=e,_=s.map(v=>({...v,previewPhoto:g(v)}));return this._offersStore.update({allOffers:_,allOffersCount:l}),[..._]}))}getSavedOffers(){return this._apiService.get("my/offers/favourites").subscribe(s=>{this._offersStore.update({savedOffers:s.map(l=>({...l,previewPhoto:g(l)}))})}),this._offersQuery.selectSavedOffers$}createOffer(e){return this._apiService.post("offer/create",e)}updateOffer(e,s){return this._apiService.put(`offer/${s}/update`,e)}addFavoriteOffer(e){return this._apiService.post(`user/favourites/${e}/add`,{}).pipe((0,c.b)(()=>{this._offersStore.update({allOffers:this._offersStore.getValue().allOffers.map(s=>({...s,isSaved:s._id===e||s.isSaved}))})}))}removeFavoriteOffer(e){return this._apiService.delete(`user/favourites/${e}/remove`).pipe((0,c.b)(()=>{const{savedOffers:s,allOffers:l}=this._offersQuery.getValue();this._offersStore.update({savedOffers:s.filter(_=>_._id!==e),allOffers:l.map(_=>({..._,isSaved:_._id!==e&&_.isSaved}))})}))}approveOffer(e){return this._apiService.post(`offer/${e}/adminApprovalOffer`,{})}declineOffer(e){return this._apiService.post(`offer/${e}/adminRejectionOffer`,{})}updateOffersList(e){this.getOffers(e).pipe((0,d.P)()).subscribe(s=>{this.offersSource.next(s.rfqList)})}}return a.\u0275fac=function(e){return new(e||a)(n.LFG(h.s),n.LFG(f.Y),n.LFG(p.m))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},35237:(C,u,r)=>{r.d(u,{Y:()=>i});var c=r(86141),t=r(5e3),d=r(14835);let i=(()=>{class n extends c.AE{constructor(f){super(f),this.store=f,this.selectAllOffers$=this.select("allOffers"),this.selectMyOffers$=this.select("myOffers"),this.selectOffer$=this.select("offer"),this.selectSavedOffers$=this.select("savedOffers"),this.selectAllOffersCount$=this.select("allOffersCount"),this.selectSeaLines$=this.select("seaLines")}}return n.\u0275fac=function(f){return new(f||n)(t.LFG(d.m))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},14835:(C,u,r)=>{r.d(u,{m:()=>n});var c=r(97582),t=r(86141),d=r(5e3);let n=class extends t.yh{constructor(){super({allOffers:[],myOffers:[],offer:null,savedOffers:[],allOffersCount:0,seaLines:[]})}};n.\u0275fac=function(f){return new(f||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n=(0,c.gn)([(0,t.yC)({name:"offers"})],n)}}]);