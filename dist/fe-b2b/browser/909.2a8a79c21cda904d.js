"use strict";(self.webpackChunkfe_b2b=self.webpackChunkfe_b2b||[]).push([[909],{94078:(K,F,l)=>{l.d(F,{f:()=>N});var f=l(35285),t=l(89985),E=l(82575),v=l(19825),z=l(39229),T=l(28225),w=l(22001),j=l(27322),I=l(27701),S=l(93744);const P=["jpeg","jpg","webp","png","svg"];var C=l(49134),h=l(76492),y=l(22821),g=l(50442),d=l(80221);const x=["fileInput"];function M($,_){1&$&&t.nrm(0,"img",4)}function b($,_){1&$&&(t.j41(0,"mat-error",7),t.EFF(1,"Should be in image format. E.g. jpeg, jpg, web, svg, png"),t.k0s())}let V=class J{constructor(_,k){this._cdR=_,this.dialog=k,this.label="Choose logo",this.maxAllowedSize=5,this.showIcon=!0,this.url=new t.bkB,this.logoPreviewUrl=new z.t(""),this.type="input",this.placeholder="",this.theme=T.Q.BACKGROUND_GRAY,this.b2bNgxButtonThemeEnum=w.a,this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new E.MJ(""),this.id=(0,j.Z)(),this.maxAllowedSizeBytes=this.maxAllowedSize*Math.pow(10,6)}get preview$(){return this.logoPreviewUrl.asObservable()}get inputClassName(){return`${this.className}`}get error(){if(!this.errors)return"";const _=Object.keys(this.errors)[0];return this.errors[_]}get isImage(){const _=this.logo?.name;if(!_)return!0;const k=_?.split(".")?.pop();return P.includes(k)}ngOnChanges(_){_.errors&&this.formControl.setErrors(_.errors.currentValue)}uploadFiles(_){if(this.logo=_.target.files[0],this.logo.size<=this.maxAllowedSizeBytes){this.onChange([this.logo]);const k=new FileReader;k.onload=()=>this.url.next(k.result),this.logoPreviewUrl.next(k.result),k.readAsDataURL(this.logo)}else this.onChange(null),this.fileInput.nativeElement.value="",this.logo=void 0,this.dialog.open(I.t,{data:{maxAllowedSize:this.maxAllowedSize,isSingleFile:!1}})}validate(){return this.formControl.errors}registerOnChange(_){this.onChange=_}registerOnTouched(_){this.onTouched=_}writeValue(_){_&&(this.formControl.setValue(_),this.logo=_,this.logoPreviewUrl.next(S.c.apiUrl+_.path),this._cdR.detectChanges())}setDisabledState(_){_?this.formControl.disable():this.formControl.enable()}removeLogo(){this.logo=void 0,this.onChange(null),this.url.next(void 0)}click(){this.fileInput.nativeElement.click()}static#t=this.\u0275fac=function(k){return new(k||J)(t.rXU(t.gRc),t.rXU(C.bZ))};static#e=this.\u0275cmp=t.VBU({type:J,selectors:[["b2b-ngx-logo"]],viewQuery:function(k,U){if(1&k&&t.GBs(x,5),2&k){let G;t.mGM(G=t.lsd())&&(U.fileInput=G.first)}},inputs:{type:"type",placeholder:"placeholder",theme:"theme",className:"className",label:"label",maxAllowedSize:"maxAllowedSize",showIcon:"showIcon",errors:"errors"},outputs:{url:"url"},features:[t.Jv_([{provide:E.kq,useExisting:(0,t.Rfq)(()=>J),multi:!0},{provide:E.cz,useExisting:(0,t.Rfq)(()=>J),multi:!0}]),t.OA$],decls:12,vars:8,consts:[["button",""],["fileInput",""],[1,"ngx-file"],[1,"flex","flex-col","items-center","justify-center","gap-2"],["b2bNgxIcon","","name","image-plus","alt","image",1,"!h-[32px]","!w-[32px]"],["mat-flat-button","",1,"!bg-[#EEEEEE]","!text-xs","cursor-pointer",3,"click"],["type","file","id","file",1,"ngx-file-input","hidden",3,"change","accept"],[1,"text-red-500","text-xs","text-center"]],template:function(k,U){if(1&k){const G=t.RV6();t.j41(0,"div",2)(1,"div",3),t.DNE(2,M,1,0,"img",4),t.j41(3,"button",5,0),t.bIt("click",function(){t.eBV(G);const R=t.sdS(10);return t.Njj(R.click())}),t.j41(5,"mat-icon"),t.EFF(6,"add"),t.k0s(),t.j41(7,"span"),t.EFF(8),t.k0s(),t.j41(9,"input",6,1),t.bIt("change",function(R){return t.eBV(G),t.Njj(U.uploadFiles(R))}),t.k0s()(),t.DNE(11,b,2,0,"mat-error",7),t.k0s()()}2&k&&(t.R7$(2),t.vxM(2,U.showIcon?2:-1),t.R7$(),t.AVh("ng-invalid",U.formControl.invalid)("ng-touched",U.formControl.touched),t.R7$(5),t.JRh(U.label),t.R7$(),t.Y8G("accept","image/png, image/jpeg, image/svg, image/webp"),t.R7$(2),t.vxM(11,U.isImage?-1:11))},dependencies:[h.i,y.An,g.$z,d.TL],styles:['.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{background:#fff;border-color:#b3b3b3 #ccc #d9d9d9}.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]:hover{box-shadow:none}.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]{top:-2px;border-color:transparent transparent #999;border-width:0 5px 5px}.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]:hover{border-color:transparent transparent #333}.ng-select.ng-select-opened.ng-select-top[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-top-right-radius:0;border-top-left-radius:0}.ng-select.ng-select-opened.ng-select-right[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.ng-select.ng-select-opened.ng-select-bottom[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}.ng-select.ng-select-opened.ng-select-left[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.ng-select.ng-select-focused[_ngcontent-%COMP%]:not(.ng-select-opened) > .ng-select-container[_ngcontent-%COMP%]{border-color:#007eff;box-shadow:inset 0 1px 1px #00000013,0 0 0 3px #007eff1a}.ng-select.ng-select-disabled[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{background-color:#f9f9f9}.ng-select[_ngcontent-%COMP%]   .ng-has-value[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{display:none}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-radius:4px;border:1px solid #ccc;min-height:36px;align-items:center}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]:hover{box-shadow:0 1px #0000000f}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{align-items:center;padding-left:10px}[dir=rtl][_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{padding-right:10px;padding-left:0}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{color:#999}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:36px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{top:5px;left:0;padding-left:10px;padding-right:50px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{padding-right:10px;padding-left:50px}.ng-select.ng-select-multiple.ng-select-disabled[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #e6e6e6}.ng-select.ng-select-multiple.ng-select-disabled[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{padding:0 5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{padding-top:5px;padding-left:7px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{padding-right:7px;padding-left:0}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:.9em;margin-bottom:5px;color:#333;background-color:#ebf5ff;border-radius:2px;margin-right:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{margin-right:0;margin-left:5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value.ng-value-disabled[_ngcontent-%COMP%]{background-color:#f9f9f9}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value.ng-value-disabled[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value.ng-value-disabled[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%], .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon[_ngcontent-%COMP%]{display:inline-block;padding:1px 5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon[_ngcontent-%COMP%]:hover{background-color:#d1e8ff}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.left[_ngcontent-%COMP%]{border-right:1px solid #b8dbff}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.left[_ngcontent-%COMP%]{border-left:1px solid #b8dbff;border-right:none}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.right[_ngcontent-%COMP%]{border-left:1px solid #b8dbff}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.right[_ngcontent-%COMP%]{border-left:0;border-right:1px solid #b8dbff}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{padding:0 0 3px 3px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{padding:0 3px 3px 0}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{color:#000}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{top:5px;padding-bottom:5px;padding-left:3px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{padding-right:3px;padding-left:0}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]{color:#999}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]:hover   .ng-clear[_ngcontent-%COMP%]{color:#d0021b}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]:focus   .ng-clear[_ngcontent-%COMP%]{color:#d0021b}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]:focus{outline:none}.ng-select[_ngcontent-%COMP%]   .ng-spinner-zone[_ngcontent-%COMP%]{padding:5px 5px 0 0}[dir=rtl][_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-spinner-zone[_ngcontent-%COMP%]{padding:5px 0 0 5px}.ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]{width:25px;padding-right:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]{padding-left:5px;padding-right:0}.ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]:hover   .ng-arrow[_ngcontent-%COMP%]{border-top-color:#666}.ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]{border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 2.5px}.ng-dropdown-panel[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;box-shadow:0 1px #0000000f;left:0}.ng-dropdown-panel.ng-select-top[_ngcontent-%COMP%]{bottom:100%;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-color:#e6e6e6;margin-bottom:-1px}.ng-dropdown-panel.ng-select-top[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.ng-dropdown-panel.ng-select-right[_ngcontent-%COMP%]{left:100%;top:0;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;border-bottom-color:#e6e6e6;margin-bottom:-1px}.ng-dropdown-panel.ng-select-right[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:first-child{border-top-right-radius:4px}.ng-dropdown-panel.ng-select-bottom[_ngcontent-%COMP%]{top:100%;border-bottom-right-radius:4px;border-bottom-left-radius:4px;border-top-color:#e6e6e6;margin-top:-1px}.ng-dropdown-panel.ng-select-bottom[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.ng-dropdown-panel.ng-select-left[_ngcontent-%COMP%]{left:-100%;top:0;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;border-bottom-color:#e6e6e6;margin-bottom:-1px}.ng-dropdown-panel.ng-select-left[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:5px 7px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-footer[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding:5px 7px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;padding:8px 10px;font-weight:500;color:#0000008a;cursor:pointer}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-disabled[_ngcontent-%COMP%]{cursor:default}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-marked[_ngcontent-%COMP%]{background-color:#f5faff}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-selected[_ngcontent-%COMP%], .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-selected.ng-option-marked[_ngcontent-%COMP%]{color:#0000008a;background-color:#ebf5ff;font-weight:600}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{background-color:#fff;color:#000000de;padding:8px 10px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected[_ngcontent-%COMP%], .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected.ng-option-marked[_ngcontent-%COMP%]{color:#333;background-color:#ebf5ff}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected[_ngcontent-%COMP%]   .ng-option-label[_ngcontent-%COMP%], .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected.ng-option-marked[_ngcontent-%COMP%]   .ng-option-label[_ngcontent-%COMP%]{font-weight:600}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-marked[_ngcontent-%COMP%]{background-color:#f5faff;color:#333}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-disabled[_ngcontent-%COMP%]{color:#ccc}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-child[_ngcontent-%COMP%]{padding-left:22px}[dir=rtl][_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-child[_ngcontent-%COMP%]{padding-right:22px;padding-left:0}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-tag-label[_ngcontent-%COMP%]{font-size:80%;font-weight:400;padding-right:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-tag-label[_ngcontent-%COMP%]{padding-left:5px;padding-right:0}[dir=rtl][_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{direction:rtl;text-align:right}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{scroll-behavior:auto!important}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], applet[_ngcontent-%COMP%], object[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], address[_ngcontent-%COMP%], big[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], del[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], em[_ngcontent-%COMP%], img[_ngcontent-%COMP%], ins[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], q[_ngcontent-%COMP%], s[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], small[_ngcontent-%COMP%], strike[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], tt[_ngcontent-%COMP%], var[_ngcontent-%COMP%], b[_ngcontent-%COMP%], u[_ngcontent-%COMP%], i[_ngcontent-%COMP%], center[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], form[_ngcontent-%COMP%], label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], table[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], details[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], output[_ngcontent-%COMP%], ruby[_ngcontent-%COMP%], section[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], time[_ngcontent-%COMP%], mark[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], details[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{display:block}body[_ngcontent-%COMP%]{line-height:1}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}blockquote[_ngcontent-%COMP%], q[_ngcontent-%COMP%]{quotes:none}blockquote[_ngcontent-%COMP%]:before, blockquote[_ngcontent-%COMP%]:after, q[_ngcontent-%COMP%]:before, q[_ngcontent-%COMP%]:after{content:"";content:none}table[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:visited{color:#000}button[_ngcontent-%COMP%]{box-shadow:none;border:none;cursor:pointer}textarea[_ngcontent-%COMP%]{border:none}i[_ngcontent-%COMP%]{font-style:Italic}b[_ngcontent-%COMP%]{font-weight:700}.ng-select.ng-select-focused[_ngcontent-%COMP%]:not(.ng-select-opened) > .ng-select-container[_ngcontent-%COMP%]{box-shadow:none}  form b2b-ngx-select.ng-invalid ng-select.ng-touched .ng-select-container{background-color:#e63d3d0d;border-color:#e63d3d!important}  form.form-submitted b2b-ngx-select.ng-invalid .ng-select-container{background-color:#e63d3d0d;border-color:#e63d3d!important}  form b2b-ngx-country-select.ng-invalid ng-select.ng-touched .ng-select-container{background-color:#e63d3d0d;border-color:#e63d3d!important}  form.form-submitted b2b-ngx-country-select.ng-invalid .ng-select-container{background-color:#e63d3d0d;border-color:#e63d3d!important}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select-opened[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border:2px solid transparent;height:49px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select-opened[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{border:none;box-shadow:0 2px 8px #0f0f111a;border-radius:4px}.ng-select.ng-select-single.background-gray[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-gray[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select-opened.background-gray[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-single.background-gray[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-gray[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select-opened.background-gray[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{background:#f3f4f6}.ng-select.ng-select-single.background-gray[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-gray[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%], .ng-select-opened.background-gray[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%]{background-color:#d1d5db}.ng-select.ng-select-single.background-gray.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-gray.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select-opened.background-gray.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{background-color:#e63d3d0d;border-color:#e63d3d}.ng-select.ng-select-single.background-white[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-white[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select-opened.background-white[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-single.background-white[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-white[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select-opened.background-white[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{background:#fff}.ng-select.ng-select-single.background-white[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-white[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%], .ng-select-opened.background-white[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%]{background-color:#fff}.ng-select.ng-select-single.background-transparent[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-transparent[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%], .ng-select-opened.background-transparent[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{text-decoration:underline}.ng-select.ng-select-single.background-transparent[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-transparent[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select-opened.background-transparent[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%], .ng-select.ng-select-single.background-transparent[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-transparent[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%], .ng-select-opened.background-transparent[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{background:transparent}.ng-select.ng-select-single.background-transparent[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%], .ng-select.ng-select-multiple.background-transparent[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%], .ng-select-opened.background-transparent[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-marked[_ngcontent-%COMP%]{background-color:transparent}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{padding-left:10px;top:15px}.b2b-ngx-button[_ngcontent-%COMP%]{border:.16rem solid transparent;border-radius:.25rem}.b2b-ngx-button.background.background-black[_ngcontent-%COMP%]{background-color:#0f0f11;color:#fff}.b2b-ngx-button.background.background-black[_ngcontent-%COMP%]:hover{background-color:#2e2e34}.b2b-ngx-button.background.background-white[_ngcontent-%COMP%]{background-color:#fff;color:#0f0f11;box-shadow:0 .25rem 1rem #0a083a1a}.b2b-ngx-button.background.background-white[_ngcontent-%COMP%]:hover{background-color:#f3f6f8}.b2b-ngx-button.background.background-red[_ngcontent-%COMP%]{background-color:#e63d3d;color:#fff;box-shadow:0 .25rem 1rem #0a083a1a}.b2b-ngx-button.background.background-red[_ngcontent-%COMP%]:hover{background-color:#e63d3d}.b2b-ngx-button.background.background-transparent[_ngcontent-%COMP%]{background-color:transparent;color:#0f0f11}.b2b-ngx-button.background.background-transparent[_ngcontent-%COMP%]:hover{background-color:#f3f6f8}.b2b-ngx-button.background.background-blue[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.b2b-ngx-button.background.background-blue[_ngcontent-%COMP%]:hover{background-color:#5995fe}.b2b-ngx-button.background.background-gray[_ngcontent-%COMP%]{background-color:#d9d9d9;color:#000}.b2b-ngx-button.background.background-gray[_ngcontent-%COMP%]:hover{background-color:#0f0f11;color:#fff}.b2b-ngx-button.background.background-hover-black[_ngcontent-%COMP%]{border-color:#dfe8f5;transition:.2s}.b2b-ngx-button.background.background-hover-black[_ngcontent-%COMP%]:hover{background-color:#0f0f11;border-color:#0f0f11;color:#fff}.b2b-ngx-button.outline[_ngcontent-%COMP%]{outline-style:none}.b2b-ngx-button.outline.outline-black[_ngcontent-%COMP%]{border-color:#0f0f11}.b2b-ngx-button.outline.outline-black[_ngcontent-%COMP%]:hover{background-color:#f3f6f8}.b2b-ngx-button.outline.outline-white[_ngcontent-%COMP%]{border-color:#fff}.b2b-ngx-button.outline.outline-white[_ngcontent-%COMP%]:hover{background-color:#f3f6f8}.b2b-ngx-button.outline.outline-blue[_ngcontent-%COMP%]{border-color:#005dff}.b2b-ngx-button.outline.outline-blue[_ngcontent-%COMP%]:hover{background-color:#5995fe}.b2b-ngx-button.outline.outline-gray[_ngcontent-%COMP%]{border-color:#dfe8f5}.b2b-ngx-button.outline.outline-gray[_ngcontent-%COMP%]:hover{background-color:#f3f6f8}.b2b-ngx-button[_ngcontent-%COMP%]:disabled{background-color:#b1b1b199!important;color:#fff!important}.b2b-ngx-button[_ngcontent-%COMP%]:disabled:hover{background-color:#b1b1b199!important}.b2b-ngx-link[_ngcontent-%COMP%]{transition:.5s;border:1px solid transparent}.b2b-ngx-link.text.text-blue[_ngcontent-%COMP%]{color:#005dff}.b2b-ngx-link.text.text-black[_ngcontent-%COMP%]{color:#0f0f11}.b2b-ngx-link.text.text-white[_ngcontent-%COMP%]{color:#fff}.b2b-ngx-link.text.text-gray[_ngcontent-%COMP%]{color:#556274}.b2b-ngx-link.text[_ngcontent-%COMP%]:hover{text-decoration:underline}.b2b-ngx-link.background[_ngcontent-%COMP%]{border:.16rem solid transparent}.b2b-ngx-link.background.background-white[_ngcontent-%COMP%]{background-color:#fff;color:#0f0f11}.b2b-ngx-link.background.background-white[_ngcontent-%COMP%]:hover{background-color:#e3eaf1}.b2b-ngx-link.background.background-transparent[_ngcontent-%COMP%]{background-color:transparent;color:#0f0f11}.b2b-ngx-link.background.background-transparent[_ngcontent-%COMP%]:hover{background-color:#f3f6f8}.b2b-ngx-link.background.background-gray[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.b2b-ngx-link.background.background-black[_ngcontent-%COMP%]{background-color:#0f0f11;color:#fff}.b2b-ngx-link.background.background-black[_ngcontent-%COMP%]:hover{background-color:#2e2e34}.b2b-ngx-link.background.background-blue[_ngcontent-%COMP%]{background-color:#005dff;color:#fff}.b2b-ngx-link.background.background-blue[_ngcontent-%COMP%]:hover{background-color:#5995fe}.b2b-ngx-link.background.background-light-blue[_ngcontent-%COMP%]{background:#eff4fa;border-radius:4px}.b2b-ngx-link.background.background-light-blue[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#005dff!important}.b2b-ngx-link.background.background-light-blue[_ngcontent-%COMP%]:hover{background:#e6edfa}.b2b-ngx-link.outline.outline-white[_ngcontent-%COMP%]{border-color:#fff}.b2b-ngx-link.outline.outline-white[_ngcontent-%COMP%]:hover{background-color:#2e2e34}.b2b-ngx-input-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#9fa4bb;margin-bottom:6px}.b2b-ngx-input[_ngcontent-%COMP%]{border:.16rem solid transparent;border-radius:.25rem;padding:14px 16px;width:100%;font-size:14px;color:#556274}.b2b-ngx-input.background.background-gray[_ngcontent-%COMP%]{color:#6c7077;background-color:#f3f6f8}.b2b-ngx-input.background.background-white[_ngcontent-%COMP%]{background-color:#fff}.b2b-ngx-input.ng-invalid.ng-touched[_ngcontent-%COMP%], .form-submitted[_ngcontent-%COMP%]   .b2b-ngx-input.background.ng-invalid[_ngcontent-%COMP%]{background-color:#e63d3d0d;border-color:#e63d3d}.ngx-input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.globy-ngx-input-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#556274}.globy-ngx-input[_ngcontent-%COMP%]{border:1px solid #C6D1E2;border-radius:.25rem;padding:14px 16px;width:100%;font-size:14px;color:#000}.globy-ngx-input.background.background-gray[_ngcontent-%COMP%]{color:#6c7077;background-color:#f3f6f8}.globy-ngx-input.background.background-white[_ngcontent-%COMP%]{background-color:#fff0}.globy-ngx-input.ng-invalid.ng-touched[_ngcontent-%COMP%], .form-submitted[_ngcontent-%COMP%]   .globy-ngx-input.background.ng-invalid[_ngcontent-%COMP%]{background-color:#e63d3d0d;border-color:#e63d3d}.b2b-ngx-icon.circle[_ngcontent-%COMP%]{height:3rem;width:3rem;background-color:#f3f6f8;border-radius:100%;display:flex;justify-content:center;align-items:center}.b2b-ngx-textarea-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#9fa4bb;margin-bottom:6px}.b2b-ngx-textarea[_ngcontent-%COMP%]{display:block;width:100%;background:#f3f6f8;border-radius:4px;font-size:14px;color:#556274;padding:14px 16px;border:2px solid transparent;resize:none}.b2b-ngx-textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{background-color:#e63d3d0d;border-color:#e63d3d}.b2b-ngx-textarea.background.background-gray[_ngcontent-%COMP%]{color:#6c7077;background-color:#f3f6f8}.b2b-ngx-textarea.background.background-white[_ngcontent-%COMP%]{background-color:#fff}.form-submitted[_ngcontent-%COMP%]   .b2b-ngx-textarea.ng-invalid[_ngcontent-%COMP%]{background-color:#e63d3d0d;border-color:#e63d3d}.control-error[_ngcontent-%COMP%]{display:block;font-size:14px;color:#6c707799;margin-top:4px}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]{pointer-events:none;width:100%;justify-content:flex-start}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;justify-content:flex-end;gap:7px;padding:0}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:24px;color:#c4c4c4}@media (max-width: 36em){.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label[_ngcontent-%COMP%]{font-size:11px}}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label-selected[_ngcontent-%COMP%]{color:#000}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon[_ngcontent-%COMP%]{width:10px;height:10px;background-color:#d9d9d9;margin:0}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-selected[_ngcontent-%COMP%], .mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-color:#005dff}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon[_ngcontent-%COMP%]   .mat-step-icon-content[_ngcontent-%COMP%]{display:none}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]:first-child{align-items:flex-start}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]:last-child{align-items:flex-end}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-stepper-horizontal-line[_ngcontent-%COMP%]{border:2px solid #D9D9D9}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-stepper-horizontal-line[_ngcontent-%COMP%]:first-of-type{margin:0 -7% 0 -10%;background-image:linear-gradient(90deg,#005dff,#005dff00);background-color:#d9d9d9;box-sizing:content-box;height:4px;border:none}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-stepper-header-container[_ngcontent-%COMP%]   .mat-stepper-horizontal-line[_ngcontent-%COMP%]:last-of-type{margin:0 -23% 0 -7%}.mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-horizontal-content-container[_ngcontent-%COMP%]{padding:0;overflow:initial}.mat-stepper-horizontal[_ngcontent-%COMP%]   .cdk-program-focused[_ngcontent-%COMP%], .mat-stepper-horizontal[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]:hover{background-color:transparent!important}.last-edited-step-1[_ngcontent-%COMP%]   .mat-horizontal-stepper-header[_ngcontent-%COMP%] + .mat-stepper-horizontal-line[_ngcontent-%COMP%]:nth-child(2){background-color:#005dff;border-color:transparent}.last-edited-step-1[_ngcontent-%COMP%]   .mat-horizontal-stepper-header[_ngcontent-%COMP%] + .mat-stepper-horizontal-line[_ngcontent-%COMP%]:nth-child(4){background-image:linear-gradient(90deg,#005dff,#005dff00);background-color:#d9d9d9;box-sizing:content-box;height:4px;border:none}.last-edited-step-2[_ngcontent-%COMP%]   .mat-horizontal-stepper-header[_ngcontent-%COMP%] + .mat-stepper-horizontal-line[_ngcontent-%COMP%]:nth-child(2){background-color:#005dff;border-color:transparent}.last-edited-step-2[_ngcontent-%COMP%]   .mat-horizontal-stepper-header[_ngcontent-%COMP%] + .mat-stepper-horizontal-line[_ngcontent-%COMP%]:nth-child(4){background-image:linear-gradient(90deg,#005dff,#005dff00);background-color:#d9d9d9;box-sizing:content-box;height:4px;border:none;background-color:#005dff;border-color:transparent}.last-edited-step-2[_ngcontent-%COMP%]   .mat-horizontal-stepper-header[_ngcontent-%COMP%] + .mat-stepper-horizontal-line[_ngcontent-%COMP%]:nth-child(6){background-image:linear-gradient(90deg,#005dff,#005dff00);background-color:#d9d9d9;box-sizing:content-box;height:4px;border:none}  .contact-supplier-form-dialog{width:729px;max-width:729px;max-height:96vh}  .contact-supplier-form-dialog .mat-dialog-container{border-radius:15px}@media (max-width: 600px){  .contact-supplier-form-dialog{max-width:100%!important;width:100%;height:100%;max-height:100%}  .contact-supplier-form-dialog .mat-dialog-container{border-radius:0}}  mat-month-view table tbody tr td button .mat-calendar-body-selected{background:#005dff}  mat-month-view table tbody tr td button .mat-calendar-body-cell-content{border-radius:0}div.ngx-file[_ngcontent-%COMP%]{display:flex;justify-items:center;justify-content:center}.ngx-file[_ngcontent-%COMP%]   .ngx-file-label[_ngcontent-%COMP%]{display:flex;justify-items:center;justify-content:center;align-items:center;font-size:14px;color:#9fa4bb;margin-bottom:6px}.ngx-file[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.ngx-file[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .ngx-file-button[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;overflow:hidden;padding:11px 24px}.ngx-file[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .ngx-file-button[_ngcontent-%COMP%]   .ngx-file-input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0;height:100%;width:100%;cursor:pointer}.ngx-file[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .ngx-file-button[_ngcontent-%COMP%]   .ngx-file-button-text[_ngcontent-%COMP%]{margin-left:8px}.ngx-file[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .ngx-file-button.ng-invalid.ng-touched[_ngcontent-%COMP%]{background-color:#e63d3d0d;border-color:#e63d3d}.ngx-file[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .empty-file-label[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:136%;color:#6c707799}  .form-submitted .ngx-file-button.outline.outline-black.ng-invalid{background-color:#e63d3d0d;border-color:#e63d3d}.ngx-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-items:center;background:#f3f6f8;border-radius:4px;padding:12px;margin:8px 4px 0;max-width:150px;gap:10px}.ngx-logo[_ngcontent-%COMP%]   .ngx-logo-icon[_ngcontent-%COMP%]{cursor:pointer}.ngx-logo[_ngcontent-%COMP%]   .ngx-logo-name[_ngcontent-%COMP%]{width:100%;font-size:12px;color:#556274;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:8px}'],changeDetection:0})};V=(0,f.Cg)([(0,v.d)()],V);var nt=l(38684),ot=l(3470),Z=l(58764);let N=(()=>{class ${static#t=this.\u0275fac=function(U){return new(U||$)};static#e=this.\u0275mod=t.$C({type:$});static#n=this.\u0275inj=t.G2t({imports:[nt.MD,ot.F,Z.i,y.An,g.$z]})}return $})()},70685:(K,F,l)=>{l.d(F,{C:()=>C});var f=l(39229),t=l(46295),E=l(55046),v=l(22699),z=l(76999),T=l(93744),w=l(89985),j=l(20559),I=l(9063),S=l(88535),P=l(24797);let C=(()=>{class h{constructor(g,d,x,M){this.apiService=g,this.router=d,this.headerService=x,this.hotToastService=M,this.PRODUCTS_LIMIT=30,this.shippingMethods=["EXW","FCA","FAS","FOB","CFR/CIF","DPU","DAP","DDP"],this.paymentMethods=["Swift transfer","L/C","Paypal","CAD"],this.marketFilters$=new f.t([]),this.marketplaceProductsSource=new f.t([]),this.marketplaceProductsLengthSource=new f.t(0),this.manageProductsSource=new f.t([]),this.manageProductsLengthSource=new f.t(0),this.chatsSource=new f.t([]),this.chatsLengthSource=new f.t(0),this.supplierListingSource=new f.t([]),this.supplierListingLengthSource=new f.t(0),this.loadingSource=new f.t(!1),this.marketplaceProductViewSource=new f.t("grid"),this.marketplaceProductView$=this.marketplaceProductViewSource.asObservable()}get marketplaceProducts$(){return this.marketplaceProductsSource.asObservable()}get marketplaceProductsLength$(){return this.marketplaceProductsLengthSource.asObservable()}get manageProducts$(){return this.manageProductsSource.asObservable()}get manageProductsLength$(){return this.manageProductsLengthSource.asObservable()}get supplierListing$(){return this.supplierListingSource.asObservable()}get supplierListingLength$(){return this.supplierListingLengthSource.asObservable()}get chats$(){return this.chatsSource.asObservable()}get chatsLength$(){return this.chatsLengthSource.asObservable()}get unreadMessagesCount$(){return this.apiService.get("my/unreadProductMessagesCount")}get loading$(){return this.loadingSource.asObservable()}getMarketplaceProducts(g,d=0,x=this.PRODUCTS_LIMIT){return this.startLoading(),this.apiService.get(`products${g}&limit=${x}&offset=${d}`)}updateMarketplaceProductsOnSearch(g){this.completeLoading(),this.marketplaceProductsLengthSource.next(T.c.apiUrl.includes("api-dev")?g.result.totalCount:g.totalCount),this.marketplaceProductsSource.next(T.c.apiUrl.includes("api-dev")?g.result.products:g.products)}updateMarketplaceProducts(g,d=0,x=this.PRODUCTS_LIMIT){this.getMarketplaceProducts(g,d,x).pipe((0,t.p)(M=>!!M),(0,v.$)()).subscribe(({filters:M,result:{products:b,totalCount:V}})=>{0===b.length&&this.headerService.searchFormControl.value.length&&(this.headerService.searchFormControl.setValue(""),this.headerService.searchFormControl.updateValueAndValidity(),this.router.navigate([],{queryParams:{q:""}}),this.hotToastService.error("No products was found with provided search")),this.completeLoading(),this.marketplaceProductsLengthSource.next((T.c.apiUrl.includes("api-dev"),V)),this.marketplaceProductsSource.next((T.c.apiUrl.includes("api-dev"),b)),this.processFilters(M)})}updateSupplierListing(g,d=[],x=0,M){this.apiService.get("products",{params:{supplier:g,categories:d,limit:M??this.PRODUCTS_LIMIT,offset:x}}).pipe((0,t.p)(b=>!!b),(0,v.$)()).subscribe(b=>{this.supplierListingLengthSource.next(b.result.totalCount),this.supplierListingSource.next(b.result.products)})}updateChats(g=0){this.startLoading(),this.apiService.get("my/chats",{params:{typeRoom:"users,product",offset:g,limit:this.PRODUCTS_LIMIT}}).pipe((0,t.p)(d=>!!d),(0,v.$)()).subscribe(d=>{this.completeLoading(),this.chatsSource.next(d.chats),this.chatsLengthSource.next(d.totalCount)})}createProduct(g){return this.apiService.post("product/create",g)}updateProduct(g,d){return this.apiService.put(`product/${g}/update`,d)}deleteProduct(g){return this.apiService.delete(`product/${g}/delete`)}getProductById(g){return this.apiService.get(`product/${g}`).pipe((0,t.p)(d=>!!d),(0,E.u)())}archiveProduct(g){return this.apiService.put(`product/${g}/archive`,{})}restoreProduct(g){return this.apiService.put(`product/${g}/activate`,{})}approveProductByAdmin(g){return this.apiService.post("product/product-approval",{id:g})}declineProductByAdmin(g){return this.apiService.post("product/product-rejection",{id:g})}updateProductByAdmin(g,d){return this.apiService.patch(`product/${g}/update-product-admin`,d)}deleteProductByAdmin(g){return this.apiService.delete(`product/${g}/delete-product-admin`)}archiveProductByAdmin(g){return this.apiService.put(`product/${g}/archive-admin`,{})}updateProductsByAdmin(g,d){this.startLoading(),this.getProductsByAdmin(g,d).pipe((0,v.$)()).subscribe(x=>{this.completeLoading(),this.marketplaceProductsSource.next(x.products),this.marketplaceProductsLengthSource.next(x.totalCount)})}updateSupplierProducts(g,d){this.startLoading(),this.getSupplierProducts(g,d).pipe((0,v.$)()).subscribe(x=>{this.completeLoading(),this.supplierListingSource.next(x.result.products),this.supplierListingLengthSource.next(x.result.totalCount)})}getUserMarketProducts(g){return this.apiService.get("products/my",{params:g}).pipe((0,t.p)(d=>!!d),(0,z.T)(({products:d})=>d))}updateManageProducts(g=0,d){this.startLoading();let x=`products/my?limit=${this.PRODUCTS_LIMIT}&offset=${g}&`;d&&(x+=`${d}=true`),this.apiService.get(x).pipe((0,t.p)(M=>!!M),(0,v.$)()).subscribe(M=>{this.completeLoading(),this.manageProductsLengthSource.next(M.totalCount),this.manageProductsSource.next(M.products),0===M.products.length&&M.totalCount>0&&g-this.PRODUCTS_LIMIT>=0&&this.updateManageProducts(g-this.PRODUCTS_LIMIT)})}getTotalProductsCount(){return this.apiService.get("products/my?limit=1&offset=0").pipe((0,t.p)(d=>!!d),(0,z.T)(d=>d.totalCount),(0,v.$)())}getChatsByProductId(g){return this.apiService.get(`product/${g}/chats`)}completeLoading(){this.loadingSource.next(!1)}startLoading(){this.loadingSource.next(!0)}getMarketplaceSkeletonOptions(){return{count:5,animation:"progress",theme:{height:"160px"}}}getCompanyByName(g,d){return this.apiService.get("products/get-company",{params:{...d,q:g}})}updateMarketplaceProductView(g){this.marketplaceProductViewSource.next(g)}getSupplierProducts(g,{offset:d,limit:x}){return this.apiService.get(`products?supplier=${g}&limit=${x}&offset=${d}`)}getProductsByAdmin(g,d){return this.apiService.get("products/get-products-admin",{params:{hideSold:!0,offset:g.offset,limit:g.limit,...d}})}processFilters(g){g.rootCategories&&(g.rootCategories={name:"Sectors",hiddenLabel:"rootCategory",isOpen:!0,selectedOption:new f.t(g.rootCategories[0]?.checked?g.rootCategories:null),options:g.rootCategories}),g.categories&&(g.categories={name:"Categories",hiddenLabel:"categories",isOpen:1===g.rootCategories.options.length,isMultiSelect:!0,selectedOption:new f.t(g.categories[0]?.checked?g.categories:null),options:g.categories}),g.suppliersType&&(g.suppliersType={name:"Company type",hiddenLabel:"type",isOpen:1===g.rootCategories.options.length,selectedOption:new f.t(g.suppliersType[0]?.checked?g.suppliersType:null),options:g.suppliersType}),g.country&&(g.country={name:"Country",hiddenLabel:"country[]",isOpen:1===g.rootCategories.options.length,selectedOption:new f.t(g.country[0]?.checked?g.country:null),options:g.country}),this.marketFilters$.next([g.rootCategories,g.categories,g.suppliersType,g.country])}static#t=this.\u0275fac=function(d){return new(d||h)(w.KVO(j.G),w.KVO(I.Ix),w.KVO(S.d),w.KVO(P.U_))};static#e=this.\u0275prov=w.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},62397:(K,F,l)=>{l.d(F,{C:()=>ct});var f=l(35285),t=l(89985),E=l(93744),v=l(58764),z=l(3470),T=l(94078),w=l(82575),j=l(38684),I=l(19825),S=l(22821),P=l(52235),C=l(83621),h=l(37063),y=l(49134),g=l(86324),M=l(90194),b=l(28991),V=l(39765),nt=l(55620),ot=l(22699),Z=l(53337),N=l(60801);const $=["wrapper"],_=["sourceImage"];function k(a,s){if(1&a){const e=t.RV6();t.j41(0,"img",5,1),t.bIt("load",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.imageLoadedInView())})("mousedown",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.startMove(o,i.moveTypes.Drag))})("touchstart",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.startMove(o,i.moveTypes.Drag))})("error",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.loadImageError(o))}),t.k0s()}if(2&a){const e=t.XpG();t.xc7("visibility",e.imageVisible?"visible":"hidden")("transform",e.safeTransformStyle),t.AVh("ngx-ic-draggable",!e.disabled&&e.allowMoveImage),t.Y8G("src",e.safeImgDataUrl,t.B4B),t.BMQ("alt",e.imageAltText)}}function U(a,s){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"span",9),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"topleft"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"topleft"))}),t.nrm(2,"span",10),t.k0s(),t.j41(3,"span",11),t.nrm(4,"span",10),t.k0s(),t.j41(5,"span",12),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"topright"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"topright"))}),t.nrm(6,"span",10),t.k0s(),t.j41(7,"span",13),t.nrm(8,"span",10),t.k0s(),t.j41(9,"span",14),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"bottomright"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"bottomright"))}),t.nrm(10,"span",10),t.k0s(),t.j41(11,"span",15),t.nrm(12,"span",10),t.k0s(),t.j41(13,"span",16),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"bottomleft"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"bottomleft"))}),t.nrm(14,"span",10),t.k0s(),t.j41(15,"span",17),t.nrm(16,"span",10),t.k0s(),t.j41(17,"span",18),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"top"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"top"))}),t.k0s(),t.j41(18,"span",19),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"right"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"right"))}),t.k0s(),t.j41(19,"span",20),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"bottom"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"bottom"))}),t.k0s(),t.j41(20,"span",21),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"left"))})("touchstart",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.startMove(o,i.moveTypes.Resize,"left"))}),t.k0s(),t.bVm()}}function G(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",6),t.bIt("keydown",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.keyboardAccess(o))}),t.j41(1,"div",7),t.bIt("mousedown",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.startMove(o,i.moveTypes.Move))})("touchstart",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.startMove(o,i.moveTypes.Move))}),t.k0s(),t.DNE(2,U,21,0,"ng-container",8),t.k0s()}if(2&a){const e=t.XpG();t.xc7("top",e.cropper.y1,"px")("left",e.cropper.x1,"px")("width",e.cropper.x2-e.cropper.x1,"px")("height",e.cropper.y2-e.cropper.y1,"px")("margin-left","center"===e.alignImage?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),t.AVh("ngx-ic-round",e.roundCropper),t.BMQ("aria-label",e.cropperFrameAriaLabel),t.R7$(2),t.Y8G("ngIf",!e.hideResizeSquares)}}class it{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(s){Object.keys(s).filter(e=>e in this).forEach(e=>this[e]=s[e]),this.validateOptions()}setOptionsFromChanges(s){Object.keys(s).filter(e=>e in this).forEach(e=>this[e]=s[e].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var R=function(a){return a.Drag="drag",a.Move="move",a.Resize="resize",a.Pinch="pinch",a}(R||{});function pt(a,s){return a/100*s}let wt=(()=>{class a{crop(e,n,o,i,r){const c=this.getImagePosition(e,n,o,r),p=c.x2-c.x1,u=c.y2-c.y1,m=document.createElement("canvas");m.width=p,m.height=u;const O=m.getContext("2d");if(!O)return null;null!=o.backgroundColor&&(O.fillStyle=o.backgroundColor,O.fillRect(0,0,p,u));const A=(o.transform.scale||1)*(o.transform.flipH?-1:1),D=(o.transform.scale||1)*(o.transform.flipV?-1:1),{translateH:L,translateV:X}=this.getCanvasTranslate(e,o,r),H=e.transformed;O.setTransform(A,0,0,D,H.size.width/2+L,H.size.height/2+X),O.translate(-c.x1/A,-c.y1/D),O.rotate((o.transform.rotate||0)*Math.PI/180),O.drawImage(H.image,-H.size.width/2,-H.size.height/2);const W={width:p,height:u,imagePosition:c,cropperPosition:{...n}};o.containWithinAspectRatio&&(W.offsetImagePosition=this.getOffsetImagePosition(e,n,o,r));const B=this.getResizeRatio(p,u,o);return 1!==B&&(W.width=Math.round(p*B),W.height=o.maintainAspectRatio?Math.round(W.width/o.aspectRatio):Math.round(u*B),function yt(a,s,e){const n=a.width,o=a.height,i=n/(s=Math.round(s)),r=o/(e=Math.round(e)),c=Math.ceil(i/2),p=Math.ceil(r/2),u=a.getContext("2d");if(u){const m=u.getImageData(0,0,n,o),O=u.createImageData(s,e),A=m.data,D=O.data;for(let L=0;L<e;L++)for(let X=0;X<s;X++){const H=4*(X+L*s),W=L*r;let B=0,q=0,mt=0,ft=0,_t=0,Ct=0,Mt=0;const ee=Math.floor(X*i),ne=Math.floor(L*r);let st=Math.ceil((X+1)*i),gt=Math.ceil((L+1)*r);st=Math.min(st,n),gt=Math.min(gt,o);for(let tt=ne;tt<gt;tt++){const bt=Math.abs(W-tt)/p,oe=X*i,ie=bt*bt;for(let et=ee;et<st;et++){const xt=Math.abs(oe-et)/c,Q=Math.sqrt(ie+xt*xt);if(Q>=1)continue;B=2*Q*Q*Q-3*Q*Q+1;const Y=4*(et+tt*n);Mt+=B*A[Y+3],mt+=B,A[Y+3]<255&&(B=B*A[Y+3]/250),ft+=B*A[Y],_t+=B*A[Y+1],Ct+=B*A[Y+2],q+=B}}D[H]=ft/q,D[H+1]=_t/q,D[H+2]=Ct/q,D[H+3]=Mt/mt}a.width=s,a.height=e,u.putImageData(O,0,0)}}(m,W.width,W.height)),"blob"===i?this.cropToBlob(W,m,o):(W.base64=m.toDataURL("image/"+o.format,this.getQuality(o)),W)}cropToBlob(e,n,o){var i=this;return(0,P.A)(function*(){return e.blob=yield new Promise(r=>n.toBlob(r,"image/"+o.format,i.getQuality(o))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})()}getCanvasTranslate(e,n,o){if("px"===n.transform.translateUnit){const i=this.getRatio(e,o);return{translateH:(n.transform.translateH||0)*i,translateV:(n.transform.translateV||0)*i}}return{translateH:n.transform.translateH?pt(n.transform.translateH,e.transformed.size.width):0,translateV:n.transform.translateV?pt(n.transform.translateV,e.transformed.size.height):0}}getRatio(e,n){return e.transformed.size.width/n.width}getImagePosition(e,n,o,i){const r=this.getRatio(e,i),c={x1:Math.round(n.x1*r),y1:Math.round(n.y1*r),x2:Math.round(n.x2*r),y2:Math.round(n.y2*r)};return o.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.transformed.size.width),c.y2=Math.min(c.y2,e.transformed.size.height)),c}getOffsetImagePosition(e,n,o,i){const r=o.canvasRotation+e.exifTransform.rotate,c=this.getRatio(e,i);let p,u;r%2?(p=(e.transformed.size.width-e.original.size.height)/2,u=(e.transformed.size.height-e.original.size.width)/2):(p=(e.transformed.size.width-e.original.size.width)/2,u=(e.transformed.size.height-e.original.size.height)/2);const m={x1:Math.round(n.x1*c)-p,y1:Math.round(n.y1*c)-u,x2:Math.round(n.x2*c)-p,y2:Math.round(n.y2*c)-u};return o.containWithinAspectRatio||(m.x1=Math.max(m.x1,0),m.y1=Math.max(m.y1,0),m.x2=Math.min(m.x2,e.transformed.size.width),m.y2=Math.min(m.y2,e.transformed.size.height)),m}getResizeRatio(e,n,o){const i=o.resizeToWidth/e,r=o.resizeToHeight/n,c=new Array;o.resizeToWidth>0&&c.push(i),o.resizeToHeight>0&&c.push(r);const p=0===c.length?1:Math.min(...c);return p>1&&!o.onlyScaleDown?p:Math.min(p,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),kt=(()=>{class a{resetCropperPosition(e,n,o,i){if(e?.nativeElement)if(o.cropperStaticHeight&&o.cropperStaticWidth)n.x1=0,n.x2=i.width>o.cropperStaticWidth?o.cropperStaticWidth:i.width,n.y1=0,n.y2=i.height>o.cropperStaticHeight?o.cropperStaticHeight:i.height;else{const r=Math.min(o.cropperScaledMaxWidth,i.width),c=Math.min(o.cropperScaledMaxHeight,i.height);if(o.maintainAspectRatio)if(i.width/o.aspectRatio<i.height){n.x1=0,n.x2=r;const p=r/o.aspectRatio;n.y1=(i.height-p)/2,n.y2=n.y1+p}else{n.y1=0,n.y2=c;const p=c*o.aspectRatio;n.x1=(i.width-p)/2,n.x2=n.x1+p}else n.x1=0,n.x2=r,n.y1=0,n.y2=c}}move(e,n,o){const i=this.getClientX(e)-n.clientX,r=this.getClientY(e)-n.clientY;o.x1=n.x1+i,o.y1=n.y1+r,o.x2=n.x2+i,o.y2=n.y2+r}resize(e,n,o,i,r){const c=this.getClientX(e)-n.clientX,p=this.getClientY(e)-n.clientY;switch(n.position){case"left":o.x1=Math.min(Math.max(n.x1+c,o.x2-r.cropperScaledMaxWidth),o.x2-r.cropperScaledMinWidth);break;case"topleft":o.x1=Math.min(Math.max(n.x1+c,o.x2-r.cropperScaledMaxWidth),o.x2-r.cropperScaledMinWidth),o.y1=Math.min(Math.max(n.y1+p,o.y2-r.cropperScaledMaxHeight),o.y2-r.cropperScaledMinHeight);break;case"top":o.y1=Math.min(Math.max(n.y1+p,o.y2-r.cropperScaledMaxHeight),o.y2-r.cropperScaledMinHeight);break;case"topright":o.x2=Math.max(Math.min(n.x2+c,o.x1+r.cropperScaledMaxWidth),o.x1+r.cropperScaledMinWidth),o.y1=Math.min(Math.max(n.y1+p,o.y2-r.cropperScaledMaxHeight),o.y2-r.cropperScaledMinHeight);break;case"right":o.x2=Math.max(Math.min(n.x2+c,o.x1+r.cropperScaledMaxWidth),o.x1+r.cropperScaledMinWidth);break;case"bottomright":o.x2=Math.max(Math.min(n.x2+c,o.x1+r.cropperScaledMaxWidth),o.x1+r.cropperScaledMinWidth),o.y2=Math.max(Math.min(n.y2+p,o.y1+r.cropperScaledMaxHeight),o.y1+r.cropperScaledMinHeight);break;case"bottom":o.y2=Math.max(Math.min(n.y2+p,o.y1+r.cropperScaledMaxHeight),o.y1+r.cropperScaledMinHeight);break;case"bottomleft":o.x1=Math.min(Math.max(n.x1+c,o.x2-r.cropperScaledMaxWidth),o.x2-r.cropperScaledMinWidth),o.y2=Math.max(Math.min(n.y2+p,o.y1+r.cropperScaledMaxHeight),o.y1+r.cropperScaledMinHeight);break;case"center":const u=e.scale,m=Math.min(Math.max(r.cropperScaledMinWidth,Math.abs(n.x2-n.x1)*u),r.cropperScaledMaxWidth),O=Math.min(Math.max(r.cropperScaledMinHeight,Math.abs(n.y2-n.y1)*u),r.cropperScaledMaxHeight);o.x1=n.clientX-m/2,o.x2=n.clientX+m/2,o.y1=n.clientY-O/2,o.y2=n.clientY+O/2,o.x1<0?(o.x2-=o.x1,o.x1=0):o.x2>i.width&&(o.x1-=o.x2-i.width,o.x2=i.width),o.y1<0?(o.y2-=o.y1,o.y1=0):o.y2>i.height&&(o.y1-=o.y2-i.height,o.y2=i.height)}r.maintainAspectRatio&&this.checkAspectRatio(n.position,o,i,r)}checkAspectRatio(e,n,o,i){let r=0,c=0;switch(e){case"top":n.x2=n.x1+(n.y2-n.y1)*i.aspectRatio,r=Math.max(n.x2-o.width,0),c=Math.max(0-n.y1,0),(r>0||c>0)&&(n.x2-=c*i.aspectRatio>r?c*i.aspectRatio:r,n.y1+=c*i.aspectRatio>r?c:r/i.aspectRatio);break;case"bottom":n.x2=n.x1+(n.y2-n.y1)*i.aspectRatio,r=Math.max(n.x2-o.width,0),c=Math.max(n.y2-o.height,0),(r>0||c>0)&&(n.x2-=c*i.aspectRatio>r?c*i.aspectRatio:r,n.y2-=c*i.aspectRatio>r?c:r/i.aspectRatio);break;case"topleft":n.y1=n.y2-(n.x2-n.x1)/i.aspectRatio,r=Math.max(0-n.x1,0),c=Math.max(0-n.y1,0),(r>0||c>0)&&(n.x1+=c*i.aspectRatio>r?c*i.aspectRatio:r,n.y1+=c*i.aspectRatio>r?c:r/i.aspectRatio);break;case"topright":n.y1=n.y2-(n.x2-n.x1)/i.aspectRatio,r=Math.max(n.x2-o.width,0),c=Math.max(0-n.y1,0),(r>0||c>0)&&(n.x2-=c*i.aspectRatio>r?c*i.aspectRatio:r,n.y1+=c*i.aspectRatio>r?c:r/i.aspectRatio);break;case"right":case"bottomright":n.y2=n.y1+(n.x2-n.x1)/i.aspectRatio,r=Math.max(n.x2-o.width,0),c=Math.max(n.y2-o.height,0),(r>0||c>0)&&(n.x2-=c*i.aspectRatio>r?c*i.aspectRatio:r,n.y2-=c*i.aspectRatio>r?c:r/i.aspectRatio);break;case"left":case"bottomleft":n.y2=n.y1+(n.x2-n.x1)/i.aspectRatio,r=Math.max(0-n.x1,0),c=Math.max(n.y2-o.height,0),(r>0||c>0)&&(n.x1+=c*i.aspectRatio>r?c*i.aspectRatio:r,n.y2-=c*i.aspectRatio>r?c:r/i.aspectRatio);break;case"center":n.x2=n.x1+(n.y2-n.y1)*i.aspectRatio,n.y2=n.y1+(n.x2-n.x1)/i.aspectRatio;const p=Math.max(0-n.x1,0),u=Math.max(n.x2-o.width,0),m=Math.max(n.y2-o.height,0),O=Math.max(0-n.y1,0);(p>0||u>0||m>0||O>0)&&(n.x1+=m*i.aspectRatio>p?m*i.aspectRatio:p,n.x2-=O*i.aspectRatio>u?O*i.aspectRatio:u,n.y1+=O*i.aspectRatio>u?O:u/i.aspectRatio,n.y2-=m*i.aspectRatio>p?m:p/i.aspectRatio)}}getClientX(e){return e.touches?.[0].clientX||e.clientX||0}getClientY(e){return e.touches?.[0].clientY||e.clientY||0}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();let Et=(()=>{class a{constructor(){this.autoRotateSupported=function Rt(){return new Promise(a=>{const s=new Image;s.onload=()=>{a(1===s.width&&2===s.height)},s.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(e,n){var o=this;return(0,P.A)(function*(){const i=yield e.arrayBuffer();return yield o.checkImageTypeAndLoadImageFromArrayBuffer(i,e.type,n)})()}checkImageTypeAndLoadImageFromArrayBuffer(e,n,o){return this.isValidImageType(n)?this.loadImageFromArrayBuffer(e,o,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,n){var o=this;return(0,P.A)(function*(){const r=yield(yield fetch(e)).blob(),c=yield r.arrayBuffer();return yield o.loadImageFromArrayBuffer(c,n,r.type)})()}loadBase64Image(e,n){const o=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(o,n)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gim,"");const n=atob(e),o=n.length,i=new Uint8Array(o);for(let r=0;r<o;r++)i[r]=n.charCodeAt(r);return i.buffer}loadImageFromArrayBuffer(e,n,o){var i=this;return(0,P.A)(function*(){const r=yield new Promise(function(){var c=(0,P.A)(function*(p,u){try{const m=new Blob([e],o?{type:o}:void 0),O=URL.createObjectURL(m),A=new Image,L="image/svg+xml"===o?yield i.getSvgImageSize(m):void 0;A.onload=()=>p({originalImage:A,originalImageSize:L,originalObjectUrl:O,originalArrayBuffer:e}),A.onerror=u,A.src=O}catch(m){u(m)}});return function(p,u){return c.apply(this,arguments)}}());return yield i.transformImageFromArrayBuffer(r,n,null!=r.originalImageSize)})()}getSvgImageSize(e){return(0,P.A)(function*(){const i=(new DOMParser).parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!i)throw Error("Failed to parse SVG image");const r=i.getAttribute("width"),c=i.getAttribute("height");if(r&&c)return null;const p=i.getAttribute("viewBox")||i.getAttribute("viewbox");if(p){const u=p.split(" ");return{width:+u[2],height:+u[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})()}transformImageFromArrayBuffer(e,n,o=!1){var i=this;return(0,P.A)(function*(){const c=function It(a){switch("object"==typeof a&&(a=function St(a){const s=new DataView(a);if(65496!==s.getUint16(0,!1))return-2;const e=s.byteLength;let n=2;for(;n<e;){if(s.getUint16(n+2,!1)<=8)return-1;const o=s.getUint16(n,!1);if(n+=2,65505==o){if(1165519206!==s.getUint32(n+=2,!1))return-1;const i=18761==s.getUint16(n+=6,!1);n+=s.getUint32(n+4,i);const r=s.getUint16(n,i);n+=2;for(let c=0;c<r;c++)if(274==s.getUint16(n+12*c,i))return s.getUint16(n+12*c+8,i)}else{if(65280&~o)break;n+=s.getUint16(n,!1)}}return-1}(a)),a){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}((yield i.autoRotateSupported)?-1:e.originalArrayBuffer);return e.originalImage&&e.originalImage.complete?i.transformLoadedImage({original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:c},n,o):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(e,n,o=!1){var i=this;return(0,P.A)(function*(){const r=n.canvasRotation+e.exifTransform.rotate,c=e.original.size;if(!o&&0===r&&!e.exifTransform.flip&&!n.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:{...c}},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:{...c}},exifTransform:e.exifTransform};const p=i.getTransformedSize(c,e.exifTransform,n),u=document.createElement("canvas");u.width=p.width,u.height=p.height;const m=u.getContext("2d");m?.setTransform(e.exifTransform.flip?-1:1,0,0,1,u.width/2,u.height/2),m?.rotate(Math.PI*(r/2)),m?.drawImage(e.original.image,-c.width/2,-c.height/2);const O=yield new Promise(L=>u.toBlob(L,n.format));if(!O)throw new Error("Failed to get Blob for transformed image.");const A=URL.createObjectURL(O),D=yield i.loadImageFromObjectUrl(A);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:{...c}},transformed:{objectUrl:A,image:D,size:{width:D.width,height:D.height}},exifTransform:e.exifTransform}})()}loadImageFromObjectUrl(e){return new Promise((n,o)=>{const i=new Image;i.onload=()=>n(i),i.onerror=o,i.src=e})}getTransformedSize(e,n,o){const i=o.canvasRotation+n.rotate;if(o.containWithinAspectRatio){if(i%2){const c=e.height/o.aspectRatio;return{width:Math.max(e.height,e.width*o.aspectRatio),height:Math.max(e.width,c)}}{const c=e.width/o.aspectRatio;return{width:Math.max(e.width,e.height*o.aspectRatio),height:Math.max(e.height,c)}}}return i%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),zt=(()=>{class a{constructor(e,n,o,i,r,c,p){this.cropService=e,this.cropperPositionService=n,this.loadImageService=o,this.sanitizer=i,this.cd=r,this.zone=c,this.hammerLoader=p,this.settings=new it,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=R,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new t.bkB,this.startCropImage=new t.bkB,this.imageLoaded=new t.bkB,this.cropperReady=new t.bkB,this.loadImageFailed=new t.bkB,this.transformChange=new t.bkB,this.reset()}ngOnChanges(e){this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage?.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!e.maintainAspectRatio&&!e.aspectRatio?e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition()),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop()),e.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.hideResizeSquares=!0,this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1}))}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent?.target?.files?.length>0}setCssTransform(){const e=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${e}, ${this.transform.translateV||0}${e}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.objectUrl),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit({...this.maxSize}),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{const e={...this.maxSize};this.setMaxSize(),this.resizeCropperPosition(e),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){var e=this;return(0,P.A)(function*(){yield e.hammerLoader?.();const n=window?.Hammer||null;if(n){const o=new n(e.wrapper.nativeElement);o.get("pinch").set({enable:!0}),o.on("pinchmove",e.onPinch.bind(e)),o.on("pinchend",e.pinchStop.bind(e)),o.on("pinchstart",e.startPinch.bind(e))}else(0,t.naY)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})()}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/e.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/e.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/e.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/e.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){const n=+e.key;n>=1&&n<=9&&(this.settings.stepSize=n)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;const o=e.shiftKey?R.Resize:R.Move,i=e.altKey?function Pt(a){switch(a){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(e.key):function Ot(a){switch(a){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(e.key),r=function vt(a,s){switch(a){case"ArrowUp":return{clientX:0,clientY:-1*s};case"ArrowRight":return{clientX:s,clientY:0};case"ArrowDown":return{clientX:0,clientY:s};default:return{clientX:-1*s,clientY:0}}}(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},o,i),this.handleMouseMove(r),this.handleMouseUp()}startMove(e,n,o=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===R.Pinch||n===R.Drag&&!this.allowMoveImage||(e.preventDefault&&e.preventDefault(),this.moveStart={active:!0,type:n,position:o,transform:{...this.transform},clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e),...this.cropper},this.initMouseMove())}initMouseMove(){(0,Z.h)((0,N.R)(document,"mousemove"),(0,N.R)(document,"touchmove")).pipe((0,nt.Q)((0,Z.h)((0,N.R)(document,"mouseup"),(0,N.R)(document,"touchend")).pipe((0,ot.$)()))).subscribe({next:e=>this.zone.run(()=>{this.handleMouseMove(e),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}startPinch(e){this.safeImgDataUrl&&(e.preventDefault&&e.preventDefault(),this.moveStart={active:!0,type:R.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2,...this.cropper})}handleMouseMove(e){if(this.moveStart.active)if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===R.Move)this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===R.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===R.Drag){const n=this.cropperPositionService.getClientX(e)-this.moveStart.clientX,o=this.cropperPositionService.getClientY(e)-this.moveStart.clientY;this.transform={...this.transform,translateH:(this.moveStart.transform?.translateH||0)+n,translateV:(this.moveStart.transform?.translateV||0)+o},this.setCssTransform()}}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===R.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){const e=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(e.width),this.maxSize.height=parseFloat(e.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){const e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===R.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(e=this.settings.output){if(null!=this.loadedImage?.transformed?.image){if(this.startCropImage.emit(),"blob"===e)return this.cropToBlob();if("base64"===e)return this.cropToBase64()}return null}cropToBlob(){var e=this;return new Promise((n,o)=>this.zone.run((0,P.A)(function*(){const i=yield e.cropService.crop(e.loadedImage,e.cropper,e.settings,"blob",e.maxSize);i?(e.imageCropped.emit(i),n(i)):o("Crop image failed")})))}cropToBase64(){const e=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return e?(this.imageCropped.emit(e),e):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return a.\u0275fac=function(e){return new(e||a)(t.rXU(wt),t.rXU(kt),t.rXU(Et),t.rXU(V.up),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(V.Bn,8))},a.\u0275cmp=t.VBU({type:a,selectors:[["image-cropper"]],viewQuery:function(e,n){if(1&e&&(t.GBs($,7),t.GBs(_,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.wrapper=o.first),t.mGM(o=t.lsd())&&(n.sourceImage=o.first)}},hostVars:6,hostBindings:function(e,n){1&e&&t.bIt("resize",function(){return n.onResize()},!1,t.tSv),2&e&&(t.xc7("text-align",n.alignImage),t.AVh("disabled",n.disabled)("ngx-ix-hidden",n.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[t.OA$],decls:5,vars:10,consts:[["wrapper",""],["sourceImage",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(e,n){1&e&&(t.j41(0,"div",null,0),t.DNE(2,k,2,8,"img",2),t.nrm(3,"div",3),t.DNE(4,G,3,16,"div",4),t.k0s()),2&e&&(t.xc7("background",n.imageVisible&&n.backgroundColor),t.R7$(2),t.Y8G("ngIf",n.safeImgDataUrl),t.R7$(),t.xc7("width",n.maxSize.width,"px")("height",n.maxSize.height,"px")("margin-left","center"===n.alignImage?n.marginLeft:null),t.R7$(),t.Y8G("ngIf",n.imageVisible))},dependencies:[j.bT],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),a})(),Bt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.$C({type:a}),a.\u0275inj=t.G2t({imports:[[j.MD]]}),a})(),Tt=(()=>{class a{constructor(){this.aspectRatio=4/3,this.outputFormat="png",this.imageURL="",this.croppedResult=new t.bkB}imageCropped(e){this.croppedResult.next(e)}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["globy-image-crop"]],inputs:{aspectRatio:"aspectRatio",outputFormat:"outputFormat",imageURL:"imageURL"},outputs:{croppedResult:"croppedResult"},standalone:!0,features:[t.aNF],decls:2,vars:6,consts:[[1,"flex","flex-col","cropper__container","items-center","justify-center"],[1,"h-full",3,"imageCropped","maintainAspectRatio","aspectRatio","format","imageURL","output","alignImage"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"image-cropper",1),t.bIt("imageCropped",function(r){return o.imageCropped(r)}),t.k0s()()),2&n&&(t.R7$(),t.Y8G("maintainAspectRatio",!0)("aspectRatio",o.aspectRatio)("format",o.outputFormat)("imageURL",o.imageURL)("output","blob")("alignImage","center"))},dependencies:[Bt,zt,w.X1],styles:[".cropper__container[_ngcontent-%COMP%]{height:300px!important}  image-cropper div:has(img){display:flex;justify-content:center;align-items:center;justify-items:center;align-content:center}"]})}return a})();var rt=l(61553);let jt=(()=>{class a extends h.M{constructor(e){super(),this.data=e,this.image=""}onCrop(e){this.event=e,this.image=e.objectUrl}save(){this.onDismiss(this.event)}static#t=this.\u0275fac=function(n){return new(n||a)(t.rXU(y.Vh))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["b2b-image-cropper-modal"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:3,consts:[[1,"overflow-y-auto","max-h-screen","md:max-h-[90vh]",3,"close","label"],[1,"flex","flex-col","gap-2"],[3,"croppedResult","imageURL","aspectRatio"],[1,"flex","flex-row","justify-center","items-center"],["b2bNgxButton","","type","submit",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"b2b-client-profile-modal-container",0),t.bIt("close",function(){return o.onDismiss()}),t.j41(1,"div",1)(2,"globy-image-crop",2),t.bIt("croppedResult",function(r){return o.onCrop(r)}),t.k0s(),t.j41(3,"div",3)(4,"button",4),t.bIt("click",function(){return o.save()}),t.EFF(5," Save changes "),t.k0s()()()()),2&n&&(t.Y8G("label","Crop images"),t.R7$(2),t.Y8G("imageURL",o.data.imageURL)("aspectRatio",(null==o.data?null:o.data.aspectRatio)||1))},dependencies:[Tt,C.Q,v.i,rt.Z,w.X1],changeDetection:0})}return a})();var Ut=l(24797),Dt=l(50508),ht=l(76492);const Lt=a=>({"flex-row":a}),Ft=a=>({"aspect-square max-w-40":a});function Wt(a,s){1&a&&t.nrm(0,"img",3)}let at=class lt extends h.M{constructor(s,e,n,o){super(),this.data=s,this.cdr=e,this.matDialog=n,this.hotToastService=o,this.control=new w.MJ,this.NgxInputVersionEnum=M.v,this.imageTypes=b.e}get transformedUrl(){return this.data?.image?"url("+this.data.image+")":this.data?.path?"url("+E.c.apiUrl+encodeURIComponent(this.data.path)+")":void 0}get label(){return"logo"===this.data.mode?"Supported formats are JPG, PNG, SVG, with a maximum size of 5 MB. Recommended image size is more than 256px. * 256px.":"Supported formats are JPG, PNG, SVG, with a maximum size of 10 MB. Recommended image size is more than 1920px. * 512px."}get dismissObj(){return{file:this.file,url:this.url,image:this.image}}ngOnInit(){this.url=this.transformedUrl,this.control.valueChanges.pipe((0,I.s)(this)).subscribe(s=>{s&&this.checkType(s[0])&&(console.log(s),this.file=s,this.readFile(),this.cdr.detectChanges())})}delete(){this.url=void 0,this.control.patchValue(void 0)}readFile(){this.file||this.delete(),this.getUrlFormFile(),this.cdr.detectChanges()}cropImage(){var s=this;this.matDialog.open(jt,{data:{imageURL:this.image,aspectRatio:"logo"===this.data?.mode?1:3.2}}).afterClosed().pipe((0,I.s)(this)).subscribe(function(){var e=(0,P.A)(function*(n){n.blob&&(s.image=n.objectUrl,s.url="url("+s.image+")",s.file=[new File([n.blob],s.file.name||"image.png",{type:"image/png"})],s.cdr.detectChanges())});return function(n){return e.apply(this,arguments)}}())}checkType(s){const e=s?.name?.split(".")?.pop();return!(!s||!e||!this.imageTypes.includes(e)&&(this.hotToastService.error("Wrong file format"),1))}getUrlFormFile(){const s=new FileReader;s.onload=()=>{this.image=s.result,this.cropImage(),this.cdr.detectChanges()},s.readAsDataURL(this.file[0])}static#t=this.\u0275fac=function(e){return new(e||lt)(t.rXU(y.Vh),t.rXU(t.gRc),t.rXU(y.bZ),t.rXU(Ut.U_))};static#e=this.\u0275cmp=t.VBU({type:lt,selectors:[["b2b-client-profile-image-upload-modal"]],standalone:!0,features:[t.Jv_([{provide:y.di,useValue:{overlayPanelClass:"w-full"}}]),t.Vt3,t.aNF],decls:14,vars:19,consts:[[1,"flex","flex-col","gap-5","md:max-w-[50vw]","md:h-auto","h-[100vh]",3,"close","label"],[1,"flex","flex-col","gap-3",3,"ngClass"],[1,"w-full","h-full","min-h-40","bg-center","bg-cover","grid","grid-cols-3","grid-rows-3","items-center","justify-center","p-1","bg-white","rounded-md","border","border-[#C6D1E2]",3,"ngClass"],["b2bNgxIcon","","name","image-plus","alt","image",1,"!h-[32px]","!w-[32px]","self-center","justify-self-center","col-start-2","col-end-3","row-start-2","row-end-3"],[1,"flex","!self-baseline","items-baseline","justify-end","col-start-3","col-end-4","row-start-1","row-end-2"],["b2bNgxButton","",1,"border-[#C6D1E2]","border-[1.5px]","bg-[rgba(255,255,255,0.8)]","hover:bg-[rgba(0,0,0,0.1)]","rounded-md","p-1.5",3,"click"],["b2bNgxIcon","","alt","close",1,"text-black",3,"name"],[1,"flex","flex-col","gap-3"],[1,"!text-xs",3,"isPhoto","maxAllowedSize","showFilesList","acceptSingle","label","formControl"],[1,"text-black","font-secondary","text-sm","md:text-base"],[1,"flex","flex-row","justify-center"],["type","submit","b2bNgxButton","",1,"bg-[#1C5BFE]","px-10","py-3","rounded-[0.25rem]","text-white",3,"click","disabled"]],template:function(e,n){1&e&&(t.j41(0,"b2b-client-profile-modal-container",0),t.bIt("close",function(){return n.onDismiss()}),t.j41(1,"div",1)(2,"div",2),t.DNE(3,Wt,1,0,"img",3),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return n.delete()}),t.nrm(6,"img",6),t.k0s()()(),t.j41(7,"div",7),t.nrm(8,"b2b-ngx-file",8),t.j41(9,"span",9),t.EFF(10),t.k0s()()(),t.j41(11,"div",10)(12,"button",11),t.bIt("click",function(){return n.onDismiss(n.dismissObj)}),t.EFF(13,"Save changes "),t.k0s()()()),2&e&&(t.Y8G("label","Add "+n.data.mode),t.R7$(),t.Y8G("ngClass",t.eq3(15,Lt,"desktop"===n.data.device&&"logo"===n.data.mode)),t.R7$(),t.xc7("background-image",n.url),t.Y8G("ngClass",t.eq3(17,Ft,"logo"===n.data.mode)),t.R7$(),t.vxM(3,n.url?-1:3),t.R7$(3),t.Y8G("name","close"),t.R7$(2),t.Y8G("isPhoto",!0)("maxAllowedSize",20)("showFilesList",!1)("acceptSingle",!0)("label","Upload photo")("formControl",n.control),t.R7$(2),t.JRh(n.label),t.R7$(2),t.Y8G("disabled",n.control.errors))},dependencies:[C.Q,g.A,Dt.D,w.X1,w.BC,w.l_,j.YU,v.i,rt.Z,z.F,ht.i],changeDetection:0})};at=(0,f.Cg)([(0,I.d)()],at);var Vt=l(50442);const $t=["*"],Ht=a=>({"flex-row":a}),Xt=a=>({"aspect-square":a}),ut=a=>({hidden:a});function Gt(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.edit())}),t.nrm(1,"img",6),t.k0s()}2&a&&(t.R7$(),t.Y8G("name","edit"))}function Nt(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openModal())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()}if(2&a){let e;const n=t.XpG(2);t.R7$(4),t.JRh(null!==(e=n.buttonLabel)&&void 0!==e?e:"Upload logo")}}function Qt(a,s){if(1&a&&(t.j41(0,"span",11),t.EFF(1),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.JRh(e.label)}}function Yt(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.DNE(4,Gt,2,1,"button",4),t.j41(5,"button",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.delete())}),t.nrm(6,"img",6),t.k0s()()(),t.j41(7,"div",7),t.EFF(8),t.k0s()(),t.j41(9,"div",8)(10,"div",9),t.DNE(11,Nt,5,1,"button",10),t.k0s(),t.DNE(12,Qt,2,1,"span",11),t.k0s()()}if(2&a){const e=t.XpG();t.Y8G("ngClass",t.eq3(10,Ht,"horizontal"===e.orientation)),t.R7$(),t.xc7("background-image",e.url),t.Y8G("ngClass",t.eq3(12,Xt,"square"===e.aspectRatio)),t.R7$(2),t.Y8G("ngClass",t.eq3(14,ut,e.hideButtons)),t.R7$(),t.vxM(4,e.showEditButton?4:-1),t.R7$(2),t.Y8G("name","delete"),t.R7$(2),t.SpI(" ",e.url?"":"Logo"," "),t.R7$(3),t.vxM(11,e.showUploadButton?11:-1),t.R7$(),t.vxM(12,e.label?12:-1)}}function Kt(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.edit())}),t.nrm(1,"img",6),t.k0s()}2&a&&(t.R7$(),t.Y8G("name","edit"))}function Jt(a,s){1&a&&t.nrm(0,"img",17)}function Zt(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openModal())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()}if(2&a){let e;const n=t.XpG(2);t.R7$(4),t.JRh(null!==(e=n.buttonLabel)&&void 0!==e?e:"Upload banner")}}function qt(a,s){if(1&a&&(t.j41(0,"span",11),t.EFF(1),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.JRh(e.label)}}function te(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",13)(1,"div",2)(2,"div",14),t.DNE(3,Kt,2,1,"button",4),t.j41(4,"button",15),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.delete())}),t.nrm(5,"img",6),t.k0s()()(),t.j41(6,"div",16),t.DNE(7,Jt,1,0,"img",17)(8,Zt,5,1,"button",18),t.k0s(),t.j41(9,"div",19)(10,"div",20),t.SdG(11),t.k0s()()(),t.DNE(12,qt,2,1,"span",11)}if(2&a){const e=t.XpG();t.xc7("background-image",e.url),t.R7$(2),t.Y8G("ngClass",t.eq3(8,ut,e.hideButtons)),t.R7$(),t.vxM(3,e.showEditButton?3:-1),t.R7$(2),t.Y8G("name","delete"),t.R7$(2),t.vxM(7,e.url?-1:7),t.R7$(),t.vxM(8,e.showUploadButton&&!e.url?8:-1),t.R7$(4),t.vxM(12,e.label?12:-1)}}let ct=class dt{constructor(s,e){this.cdr=s,this.matDialog=e,this.mode="desktop",this.modalMode="banner",this.aspectRatio="square",this.hideButtons=!1,this.showEditButton=!0,this.showUploadButton=!0,this.file=new t.bkB,this.control=new w.MJ}get transformedUrl(){if(this.path)return"url("+(E.c.apiUrl.includes("staging")?"https://api.globy.com/":E.c.apiUrl)+encodeURIComponent(this.path)+")";this.hideButtons=!0}ngOnInit(){this.url=this.transformedUrl,this.control.valueChanges.pipe((0,I.s)(this)).subscribe(s=>{this.file.emit(s)})}edit(){this.openModal()}delete(){this.url=void 0,this.hideButtons=!0,this.file.emit(void 0)}openModal(){this.matDialog.open(at,{data:{path:this.path,mode:this.modalMode,device:this.mode,image:this.image},backdropClass:"modal__backdrop"}).afterClosed().pipe((0,I.s)(this)).subscribe(s=>{!s||!s?.file||(this.image=s?.image,this.hideButtons=!1,this.url="url("+this.image+")",this.control.patchValue(s?.file),this.cdr.detectChanges())})}static#t=this.\u0275fac=function(e){return new(e||dt)(t.rXU(t.gRc),t.rXU(y.bZ))};static#e=this.\u0275cmp=t.VBU({type:dt,selectors:[["b2b-client-profile-image-container"]],inputs:{mode:"mode",modalMode:"modalMode",aspectRatio:"aspectRatio",path:"path",buttonLabel:"buttonLabel",label:"label",orientation:"orientation",hideButtons:"hideButtons",showEditButton:"showEditButton",showUploadButton:"showUploadButton"},outputs:{file:"file"},standalone:!0,features:[t.aNF],ngContentSelectors:$t,decls:2,vars:1,consts:[[1,"bg-cover","bg-center","flex","flex-col","gap-3",3,"ngClass"],[1,"w-2/5","grid","min-h-28","max-h-56","bg-white","border","bg-cover","border-[#C6D1E2]","rounded-md","p-2",3,"ngClass"],[1,"flex","col-start-3","self-start","justify-self-end","col-end-4","row-start-1","justify-end","w-full"],[1,"flex","flex-row","gap-2","right-2","top-2","z-50",3,"ngClass"],["b2bNgxButton",""],["b2bNgxButton","",3,"click"],["b2bNgxIcon","","alt","edit",3,"name"],[1,"col-start-1","col-end-4","row-span-1","row-end-2","flex","flex-col","items-center","justify-center"],[1,"w-3/5","flex","flex-col","gap-2"],[1,"flex","flex-col","gap-1"],["mat-flat-button","",1,"!bg-[#EEEEEE]","cursor-pointer","hover:opacity-80","px-3","w-fit","!text-xs"],[1,"label"],["mat-flat-button","",1,"!bg-[#EEEEEE]","cursor-pointer","hover:opacity-80","px-3","w-fit","!text-xs",3,"click"],[1,"w-full","h-full","min-h-40","bg-cover","grid","grid-cols-2","md:grid-cols-3","items-center","justify-center","p-2","bg-white","rounded-md","border","border-[#C6D1E2]"],[1,"flex","flex-row","gap-2","right-2","top-2",3,"ngClass"],["b2bNgxButton","",1,"top__buttons-button",3,"click"],[1,"flex","items-center","justify-center","flex-col","gap-3","col-start-1","col-end-4","row-start-1","row-end-3"],["b2bNgxIcon","","name","image-plus","alt","image",1,"!h-[32px]","!w-[32px]"],["mat-flat-button","",1,"!bg-[#EEEEEE]","cursor-pointer","hover:opacity-80","px-3","!text-xs"],[1,"flex","row-start-2","row-end-3","col-start-1","col-end-2","justify-start","w-full"],[1,"mt-10","flex","bottom-3","left-3","aspect-square"],["mat-flat-button","",1,"!bg-[#EEEEEE]","cursor-pointer","hover:opacity-80","px-3","!text-xs",3,"click"]],template:function(e,n){if(1&e&&(t.NAR(),t.DNE(0,Yt,13,16)(1,te,13,10)),2&e){let o;t.vxM(0,"mobile"===(o=n.mode)?0:"desktop"===o?1:-1)}},dependencies:[v.i,rt.Z,z.F,ht.i,T.f,w.X1,j.YU,S.An,Vt.$z],styles:[".label[_ngcontent-%COMP%]{font-family:Inter,Arial,sans-serif;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(159 164 187 / var(--tw-text-opacity));opacity:.4}"],changeDetection:0})};ct=(0,f.Cg)([(0,I.d)()],ct)},28991:(K,F,l)=>{l.d(F,{e:()=>f});const f=["webp","jpg","png","jpeg","svg"]},70333:(K,F,l)=>{l.d(F,{k:()=>I});var f=l(89985),t=l(20559),E=l(87366),v=l.n(E),z=l(4638),T=l(29348),w=l(22699),j=l(53154);let I=(()=>{class S{constructor(){this.folders$=new z.c,this.folder$=new z.c,this.baseUrl="folder",this.apiService=(0,f.WQX)(t.G),this.authService=(0,f.WQX)(j.u)}create(C){const h=this.getFormData(C);return this.apiService.post(this.baseUrl,h)}update(C){const h=this.getFormData(C);return this.apiService.patch(this.baseUrl,h)}delete(C){return this.apiService.delete(this.baseUrl,{params:{id:C}})}list(C){return this.folders$=this.apiService.get(this.baseUrl,{params:C}),this.folders$}findById(C){return this.folder$=this.apiService.get(this.baseUrl+`/${C}`),this.folder$}getListByCompanyId(C){return(C=C??this.authService?.company?._id)?this.list({company:C}).pipe((0,w.$)()):(0,T.of)(null)}getFormData(C){const h=new FormData,y=v().pick(C,"images")?.images?.filter(b=>!b?._id),g=v().pick(C,"videos")?.videos?.filter(b=>!b?._id),d=v().pick(C,"uploadedImages")?.uploadedImages,x=v().pick(C,"uploadedVideos")?.uploadedVideos,M=v().omit(C,["images","videos","uploadedImages","uploadedVideos"]);if(y?.length)for(const b of y)h.append("images",b);if(g?.length)for(const b of g)h.append("videos",b);if(d?.length)for(const b of d)h.append("uploadedImages",b);if(x?.length)for(const b of x)h.append("uploadedImages",b);return Object.entries(M).forEach(([b,V])=>{h.append(b,V)}),h}static#t=this.\u0275fac=function(h){return new(h||S)};static#e=this.\u0275prov=f.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},13817:(K,F,l)=>{l.d(F,{f:()=>I});var f=l(89985),t=l(20559),E=l(87366),v=l.n(E),z=l(4638),T=l(29348),w=l(22699),j=l(53154);let I=(()=>{class P{constructor(){this.tradeShows$=new z.c,this.tradeShow$=new z.c,this.baseUrl="trade-show",this.apiService=(0,f.WQX)(t.G),this.authService=(0,f.WQX)(j.u)}create(h){const y=this.getFormData(h);return this.apiService.post(this.baseUrl,y)}update(h){const y=this.getFormData(h);return this.apiService.patch(this.baseUrl,y)}delete(h){return this.apiService.delete(this.baseUrl,{params:{id:h}})}list(h){return this.tradeShows$=this.apiService.get(this.baseUrl,{params:h}),this.tradeShows$}findById(h){return this.tradeShow$=this.apiService.get(this.baseUrl+`/${h}`),this.tradeShow$}getListByCompanyId(h){return(h=h??this.authService?.company?._id)?this.list({company:h}).pipe((0,w.$)()):(0,T.of)(null)}getFormData(h){h.endedAt=S(h.endedAt),h.startedAt=S(h.startedAt);const y=new FormData,g=v().pick(h,"images")?.images?.filter(M=>!M?._id),d=v().pick(h,"uploadedImages")?.uploadedImages,x=v().omit(h,"images","uploadedImages");if(g?.length)for(const M of g)y.append("images",M);if(d?.length)for(const M of d)y.append("uploadedImages",M);return Object.entries(x).forEach(([M,b])=>{y.append(M,b)}),y}static#t=this.\u0275fac=function(y){return new(y||P)};static#e=this.\u0275prov=f.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();function S(P){return P?P.toDateString():null}}}]);