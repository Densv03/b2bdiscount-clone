{"version":3,"file":"default-src_app_client_pages_client-profile_components_client-profile-delete-account_client-p-e70be9.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACuD;AAEC;AAEa;;;;;;;;;;;;;ICqBlE,wEAAiF;IAAA,uFAA4B;IAAA,4DAAI;;;;IDVvG,mCAAmC,SAAnC,mCAAmC;IAM/C,YACQ,YAA+D,EACrD,YAAyB,EACzB,gBAAiC,EACjC,OAAe,EACf,YAAyB;QAJnC,iBAAY,GAAZ,YAAY,CAAmD;QACrD,iBAAY,GAAZ,YAAY,CAAa;QACzB,qBAAgB,GAAhB,gBAAgB,CAAiB;QACjC,YAAO,GAAP,OAAO,CAAQ;QACf,iBAAY,GAAZ,YAAY,CAAa;QAE1C,IAAI,CAAC,qBAAqB,GAAG,kEAAqB,CAAC;QACnD,IAAI,CAAC,WAAW,GAAG,IAAI,uDAAW,EAAE,CAAC;QACrC,IAAI,CAAC,kBAAkB,GAAG,IAAI,uDAAW,CAAC,EAAE,EAAE,+DAAmB,CAAC,CAAC;QACnE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAC3C,CAAC;IAEM,KAAK;QACX,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IAEM,WAAW,CAAC,EAAyE;QAC3F,EAAE,CAAC,cAAc,EAAE,CAAC;QACpB,EAAE,CAAC,wBAAwB,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,KAAK,OAAO,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,KAAK,EAAE,EAAE;YAC/E,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,CAAC;YAC3C,OAAO;SACP;QACD,MAAM,IAAI,GAAG;YACZ,iBAAiB,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,KAAK,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK;SAC9G,CAAC;QAEF,IAAI,CAAC,YAAY;aACf,UAAU,CAAC,EAAE,IAAI,EAAE,CAAC;aACpB,IAAI,CAAC,qEAAc,CAAC,IAAI,CAAC,CAAC;aAC1B,SAAS,CAAC,GAAG,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;YAC1B,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;YAC3B,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC;CACD;sHA5CY,mCAAmC;iIAAnC,mCAAmC;QChBhD,yEAAoB;QAElB,oEAAqD;QACrD,qEAAI;QAAA,wGAA6C;QAAA,4DAAK;QACtD,oEAAG;QACF,qOAED;QAAA,4DAAI;QACJ,uEAA2B;QAAA,+GAAoD;QAAA,4DAAI;QACnF,sEAAK;QACJ,+EAQ6C;QAQ7C,6HAAiH;QAClH,4DAAM;QACN,0EAAqB;QACgE,4JAAS,WAAO,IAAC;QACpG,oEACD;QAAA,4DAAS;QACT,6EAAgH;QAA9D,kKAAS,uBAAmB,IAAC;QAC9E,4EACD;QAAA,4DAAS;;QAtBR,2DAKE;QALF,0IAKE;QAIF,0DAAkC;QAAlC,+FAAkC;QAK/B,0DAA6D;QAA7D,iIAA6D;QAG9B,0DAAgD;QAAhD,6GAAgD;QAGH,0DAA+B;QAA/B,4FAA+B;;ADhBrG,mCAAmC;IAN/C,mEAAY,EAAE;GAMF,mCAAmC,CA4C/C;AA5C+C","sources":["./src/app/client/pages/client-profile/components/client-profile-delete-account/client-profile-delete-account.component.ts","./src/app/client/pages/client-profile/components/client-profile-delete-account/client-profile-delete-account.component.html"],"sourcesContent":["import { Component } from \"@angular/core\";\nimport {FormControl, Validators} from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { B2bNgxButtonThemeEnum } from \"@b2b/ngx-button\";\nimport { HotToastService } from \"@ngneat/hot-toast\";\nimport { UntilDestroy, untilDestroyed } from \"@ngneat/until-destroy\";\nimport { UserService } from \"../../services/user/user.service\";\nimport {MatDialogRef} from \"@angular/material/dialog\";\nimport {AuthService} from \"../../../../../auth/services/auth/auth.service\";\n\n@UntilDestroy()\n@Component({\n\tselector: \"b2b-client-profile-delete-account\",\n\ttemplateUrl: \"./client-profile-delete-account.component.html\",\n\tstyleUrls: [\"./client-profile-delete-account.component.scss\"],\n})\nexport class ClientProfileDeleteAccountComponent {\n\tpublic readonly b2bNgxButtonThemeEnum: typeof B2bNgxButtonThemeEnum;\n\n\tformControl: FormControl;\n\totherReasonControl: FormControl;\n\n\tconstructor(\n\t\tpublic matDialogRef: MatDialogRef<ClientProfileDeleteAccountComponent>,\n\t\tprivate readonly _userService: UserService,\n\t\tprivate readonly _hotToastService: HotToastService,\n\t\tprivate readonly _router: Router,\n\t\tprivate readonly _authService: AuthService\n\t) {\n\t\tthis.b2bNgxButtonThemeEnum = B2bNgxButtonThemeEnum;\n\t\tthis.formControl = new FormControl();\n\t\tthis.otherReasonControl = new FormControl(\"\", Validators.required);\n\t\tthis.formControl.valueChanges.subscribe();\n\t}\n\n\tpublic close(): void {\n\t\tthis.matDialogRef.close();\n\t}\n\n\tpublic deleteOffer(ev: { preventDefault: () => void; stopImmediatePropagation: () => void; }): void {\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t\tif (this.formControl.value === \"Other\" && this.otherReasonControl.value === \"\") {\n\t\t\tthis.otherReasonControl.markAllAsTouched();\n\t\t\treturn;\n\t\t}\n\t\tconst body = {\n\t\t\treasonForDeleting: this.formControl.value === \"Other\" ? this.otherReasonControl.value : this.formControl.value,\n\t\t};\n\n\t\tthis._userService\n\t\t\t.deleteUser({ body })\n\t\t\t.pipe(untilDestroyed(this))\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.matDialogRef.close();\n\t\t\t\tthis._authService.logOut();\n\t\t\t\tthis._hotToastService.error(\"Your account has been deleted\");\n\t\t\t\tthis._router.navigateByUrl(\"/\");\n\t\t\t});\n\t}\n}\n","<div class=\"dialog\">\n\t<div class=\"wrapper\">\n\t\t<img b2bNgxIcon name=\"trash_2\" class=\"dialog-icon\" />\n\t\t<h1>Are you sure you want to delete your account?</h1>\n\t\t<p>\n\t\t\tOnce your account is deleted, all of your activity on the site, your offers, chats, and articles will be erased.\n\t\t\tBut within 30 days you can easily restore your account.\n\t\t</p>\n\t\t<p class=\"restore-account\">Please describe the reason for deleting the account.</p>\n\t\t<div>\n\t\t\t<b2b-ngx-radio\n\t\t\t\tclass=\"column\"\n\t\t\t\t[options]=\"[\n\t\t\t\t\t'I am not interested in selling and buying unclaimed goods',\n\t\t\t\t\t'I get too many notifications',\n\t\t\t\t\t'I sold my cargo',\n\t\t\t\t\t'Other'\n\t\t\t\t]\"\n\t\t\t\t[formControl]=\"formControl\"></b2b-ngx-radio>\n\t\t\t<textarea\n\t\t\t\tb2bNgxTextarea\n\t\t\t\t[formControl]=\"otherReasonControl\"\n\t\t\t\t[disabled]=\"formControl.value !== 'Other'\"\n\t\t\t\t[placeholder]=\"'Message'\"\n\t\t\t\tclass=\"textarea\"\n\t\t\t\trows=\"4\"></textarea>\n\t\t\t<p *ngIf=\"otherReasonControl.errors && otherReasonControl.touched\" class=\"error\">This field have to be filled</p>\n\t\t</div>\n\t\t<div class=\"actions\">\n\t\t\t<button type=\"button\" b2bNgxButton [theme]=\"b2bNgxButtonThemeEnum.BACKGROUND_WHITE\" (click)=\"close()\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t\t<button class=\"delete\" type=\"button\" b2bNgxButton (click)=\"deleteOffer($event)\" [disabled]=\"!formControl.value\">\n\t\t\t\tDelete account\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n<!-- [theme]=\"b2bNgxButtonThemeEnum.BACKGROUND_RED\" -->\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}