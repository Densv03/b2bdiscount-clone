{"version":3,"file":"default-projects_ngx-chips_src_public-api_ts.js","mappings":"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","sources":["./projects/ngx-chips/src/lib/layout/ngx-chips.component.ts","./projects/ngx-chips/src/lib/layout/ngx-chips.component.html","./projects/ngx-chips/src/lib/ngx-chips.module.ts","./projects/ngx-chips/src/public-api.ts"],"sourcesContent":["import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tEventEmitter,\n\tforwardRef,\n\tInput,\n\tOnChanges,\n\tOnInit,\n\tOutput,\n\tSimpleChanges,\n} from \"@angular/core\";\nimport {ControlValueAccessor, FormControl, NG_VALIDATORS, NG_VALUE_ACCESSOR, ValidationErrors} from \"@angular/forms\";\nimport {B2bNgxInputThemeEnum} from \"@b2b/ngx-input\";\nimport { B2bNgxSelectThemeEnum } from \"@b2b/ngx-select\";\nimport { UntilDestroy, untilDestroyed } from \"@ngneat/until-destroy\";\nimport { filter } from \"rxjs/operators\";\n\n@UntilDestroy()\n@Component({\n\tselector: \"b2b-ngx-chips\",\n\ttemplateUrl: \"./ngx-chips.component.html\",\n\tstyleUrls: [\"./ngx-chips.component.scss\"],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: forwardRef(() => B2bNgxChipsComponent),\n\t\t\tmulti: true,\n\t\t},\n\t\t{\n\t\t\tprovide: NG_VALIDATORS,\n\t\t\tuseExisting: forwardRef(() => B2bNgxChipsComponent),\n\t\t\tmulti: true,\n\t\t},\n\t],\n})\nexport class B2bNgxChipsComponent implements OnChanges, ControlValueAccessor, OnInit {\n\t@Output() public readonly searched = new EventEmitter<string>();\n\n\t@Input() public className: any[];\n\t@Input() public options: any[];\n\t@Input() public searchedOptions: any[] = [];\n\n\tpublic formControl: FormControl;\n\tpublic readonly b2bNgxInputThemeEnum = B2bNgxInputThemeEnum;\n\tpublic readonly b2bNgxSelectThemeEnum = B2bNgxSelectThemeEnum;\n\tpublic svgStyle: object;\n\tpublic chips: any;\n\n\tprivate onChange: (value: string) => void;\n\tprivate onTouched: () => void;\n\n\tpublic searchedText: string;\n\n\tconstructor(private readonly _changeDetectorRef: ChangeDetectorRef) {\n\t\tthis.formControl = new FormControl<any>('');\n\t\tthis.svgStyle = this.getSvgStyle();\n\t\tthis.chips = [];\n\n\t\tthis.onChange = () => null;\n\t\tthis.onTouched = () => null;\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tif (!changes[\"options\"]) {\n\t\t\treturn;\n\t\t}\n\t\tif (changes[\"options\"] && changes[\"options\"].currentValue) {\n\t\t\tthis.chips.splice(0, this.chips.length);\n\t\t\tthis.chips.push(...changes[\"options\"].currentValue);\n\t\t\tthis.onChange(this.chips);\n\t\t}\n\t}\n\n\tpublic emitSearch(search: string) {\n\t\tthis.searchedText = search;\n\t\tthis.searched.emit(search);\n\t}\n\n\tngOnInit() {\n\t\tthis.formControl.valueChanges\n\t\t\t.pipe(\n\t\t\t\tuntilDestroyed(this),\n\t\t\t\tfilter((value) => !!value)\n\t\t\t)\n\t\t\t.subscribe((id) => {\n\t\t\t\tthis.addChip(id);\n\t\t\t});\n\t}\n\n\tpublic addChip(id: any) {\n\t\tconst newChip = (this.searchedOptions &&\n\t\t\tthis.searchedOptions.find((searchedOption) => searchedOption._id === id)) || { name: id };\n\n\t\tconst findedIndex = this.chips.findIndex((chip: { name: any; }) => chip.name === newChip.name);\n\n\t\tif (findedIndex === -1) {\n\t\t\tthis.chips.push(newChip);\n\t\t\tthis.formControl.reset(\"\");\n\t\t\tthis.onChange(this.chips);\n\t\t} else {\n\t\t\tthis.formControl.setErrors({\n\t\t\t\tuniq: true,\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic removeChip(chipToRemove: any) {\n\t\tconst removeChipIndex = this.chips.findIndex((chip: any) => chip === chipToRemove);\n\t\tthis.chips.splice(removeChipIndex, 1);\n\t\tthis.onChange(this.chips);\n\t}\n\n\tpublic getSvgStyle() {\n\t\treturn { \"width.px\": 16, \"height.px\": 16, \"fill\": \"#ffffff\" };\n\t}\n\n\tpublic validate(): ValidationErrors {\n\t\treturn this.formControl.errors;\n\t}\n\n\tpublic registerOnChange(fn: (value: string) => void): void {\n\t\tthis.onChange = fn;\n\t}\n\n\tpublic registerOnTouched(fn: () => void): void {\n\t\tthis.onTouched = fn;\n\t}\n\n\tpublic writeValue(value: string): void {\n\t\tthis.chips = value;\n\t\tthis._changeDetectorRef.detectChanges();\n\t}\n\n\tpublic setDisabledState(isDisabled: boolean): void {\n\t\tif (isDisabled) {\n\t\t\tthis.formControl.disable();\n\t\t} else {\n\t\t\tthis.formControl.enable();\n\t\t}\n\t}\n}\n","<div class=\"ngx-chips-input-container\">\n\t<b2b-ngx-select\n\t\t[theme]=\"b2bNgxSelectThemeEnum.BACKGROUND_GRAY\"\n\t\t[formControl]=\"formControl\"\n\t\tclass=\"ngx-chips-input\"\n\t\tbindLabel=\"name\"\n\t\tbindValue=\"_id\"\n\t\t(searched)=\"emitSearch($event)\"\n\t\t[searchable]=\"true\"\n\t\t[options]=\"searchedOptions\"></b2b-ngx-select>\n\n\t<button type=\"button\" class=\"ngx-chips-add-button\" (click)=\"addChip(searchedText)\">\n\t\t<b2b-ngx-icon name=\"add\" [svgStyle]=\"svgStyle\" class=\"ngx-chips-add-button-icon\"></b2b-ngx-icon>\n\t</button>\n</div>\n\n<span *ngIf=\"formControl.invalid\" class=\"ngx-chips-input-error\">This field have to be uniq</span>\n\n<div class=\"ngx-chips\">\n\t<span *ngFor=\"let chip of chips\" class=\"ngx-chip\">\n\t\t<span class=\"ngx-chip-label\">{{ chip.name }}</span>\n\t\t<img b2bNgxIcon class=\"ngx-chip-icon\" name=\"cross\" (click)=\"removeChip(chip)\" />\n\t</span>\n</div>\n","import { NgModule } from '@angular/core';\nimport { B2bNgxChipsComponent } from './layout/ngx-chips.component';\nimport {B2bNgxSelectModule} from \"@b2b/ngx-select\";\nimport {ReactiveFormsModule} from \"@angular/forms\";\nimport {B2bNgxIconModule} from \"@b2b/ngx-icon\";\n\n@NgModule({\n  declarations: [\n    B2bNgxChipsComponent\n  ],\n  imports: [\n    B2bNgxSelectModule,\n    ReactiveFormsModule,\n    B2bNgxIconModule\n  ],\n  exports: [\n    B2bNgxChipsComponent\n  ]\n})\nexport class B2bNgxChipsModule { }\n","export * from './lib/layout/ngx-chips.component';\nexport * from './lib/ngx-chips.module';\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}