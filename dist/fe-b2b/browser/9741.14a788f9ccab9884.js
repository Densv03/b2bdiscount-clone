"use strict";(self.webpackChunkfe_b2b=self.webpackChunkfe_b2b||[]).push([[9741],{59741:(R,v,e)=>{e.r(v),e.d(v,{AuthGoogleSignInSuccessModule:()=>f});var S=e(69808),r=e(45250),a=e(63807),m=e(97582),s=e(41777),d=e(44987),c=e(5e3),p=e(24159),y=e(56838);let l=class{constructor(i,n,h,u){this._activatedRoute=i,this._authService=n,this._router=h,this.mixpanelService=u}ngOnInit(){this._activatedRoute.queryParams.pipe((0,d.t)(this)).subscribe(i=>{const{token:n}=i;console.log("TOKEN: ",n);const u=n.endsWith("/")?n.slice(0,-1):n;this._authService.updateToken(u),this._authService.initUser(),this._authService.getUser().pipe((0,d.t)(this)).subscribe(t=>{var g;console.log("AUTH SERVICE GOOGLE SIGN IN");const G={User_id:null==t?void 0:t._id,"Account type":null===(g=null==t?void 0:t.rootRole)||void 0===g?void 0:g.displayName,"Company Name":null==t?void 0:t.company,"Login Method":null==t?void 0:t.socialAuthType};this.mixpanelService.logIn(G),this.mixpanelService.track("Login completed",{"Login Method":"Email"}),this._authService.updateToken(u),this._authService.updateRole(null==t?void 0:t.role),this._router.navigateByUrl("/")})})}};l.\u0275fac=function(i){return new(i||l)(c.Y36(a.gz),c.Y36(p.e),c.Y36(a.F0),c.Y36(y.h))},l.\u0275cmp=c.Xpm({type:l,selectors:[["b2b-auth-google-sign-in-success"]],decls:0,vars:0,template:function(i,n){},data:{animation:[(0,s.X$)("fadeInOut",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0}),(0,s.jt)(500,(0,s.oB)({opacity:1}))]),(0,s.eR)(":leave",[(0,s.jt)(500,(0,s.oB)({opacity:0}))])])]}}),l=(0,m.gn)([(0,d.c)()],l);const I=[{path:"",component:l}];let A=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[a.Bz.forChild(I),a.Bz]}),o})(),f=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[S.ez,A,r._]}),o})()}}]);