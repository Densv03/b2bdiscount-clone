"use strict";(self.webpackChunkfe_b2b=self.webpackChunkfe_b2b||[]).push([[9538],{21729:(E,C,o)=>{o.d(C,{F:()=>d});var t=o(5e3),l=o(88763),f=o(93075),O=o(70771),m=o(70159);let d=(()=>{class c{constructor(a){this._changeDetectionRef=a,this.label="",this.errors="",this.type="input",this.placeholder="",this.theme=O.T.BACKGROUND_GRAY,this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new f.NI(""),this.id=(0,l.U)(),this.id="id"}ngOnChanges(a){!a.errors||this.formControl.setErrors(a.errors)}ngOnInit(){this.subscribeOnValueChanges()}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe().subscribe(a=>{this.onChange(a)})}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}writeValue(a){this.formControl.setValue(a)}setDisabledState(a){a?this.formControl.disable():this.formControl.enable()}}return c.\u0275fac=function(a){return new(a||c)(t.Y36(t.sBO))},c.\u0275cmp=t.Xpm({type:c,selectors:[["b2b-ngx-input"]],inputs:{type:"type",placeholder:"placeholder",theme:"theme",label:"label",errors:"errors"},features:[t._Bn([{provide:f.JU,useExisting:(0,t.Gpc)(()=>c),multi:!0},{provide:f.Cf,useExisting:(0,t.Gpc)(()=>c),multi:!0}]),t.TTD],decls:1,vars:5,consts:[["b2bNgxInput","",1,"b2b-ngx-input",3,"theme","formControl","type","id","placeholder"]],template:function(a,i){1&a&&t._UZ(0,"input",0),2&a&&t.Q6J("theme",i.theme)("formControl",i.formControl)("type",i.type)("id",i.id)("placeholder",i.placeholder)},dependencies:[f.Fj,f.JJ,f.oH,m.k],changeDetection:0}),c})()},43607:(E,C,o)=>{o.d(C,{t:()=>a});var t=o(5e3),l=o(93075),f=o(88763),O=o(69808);function m(i,p){1&i&&(t.TgZ(0,"span",6),t._uU(1,"Visible"),t.qZA())}function d(i,p){1&i&&(t.TgZ(0,"span",7),t._uU(1,"Hidden"),t.qZA())}function c(i,p){if(1&i&&(t.TgZ(0,"span",7),t._uU(1),t.qZA()),2&i){const r=t.oxw(2);t.xp6(1),t.Oqu(r.customLabel)}}function e(i,p){if(1&i&&(t.ynx(0),t.YNc(1,m,2,0,"span",4),t.YNc(2,d,2,0,"span",5),t.YNc(3,c,2,1,"span",5),t.BQk()),2&i){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",!r.customLabel&&r.formControl.value),t.xp6(1),t.Q6J("ngIf",!r.customLabel&&!r.formControl.value),t.xp6(1),t.Q6J("ngIf",r.customLabel)}}let a=(()=>{class i{constructor(r){this._changeDetectorRef=r,this.placeholder="",this.errors={},this.customLabel="",this.emptyLabel=!1,this.subcategories=!1,this.toggled=!1,this.change=new t.vpe,this.type="checkbox",this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new l.NI(!1),this.id=(0,f.U)()}get error(){if(!this.errors)return"";const r=Object.keys(this.errors)[0];return this.errors[r]}ngOnInit(){this.subscribeOnValueChanges()}ngOnChanges(r){r.errors&&this.formControl.setErrors(r.errors.currentValue)}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe().subscribe(r=>{this.onChange(r)})}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}writeValue(r){this.formControl.setValue(r,{emitEvent:!1}),this.toggled=r,this._changeDetectorRef.detectChanges()}setDisabledState(r){r?this.formControl.disable():this.formControl.enable()}emitToggleChange(){this.toggled=!this.toggled,this.change.emit()}}return i.\u0275fac=function(r){return new(r||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["b2b-ngx-toggle"]],inputs:{placeholder:"placeholder",errors:"errors",customLabel:"customLabel",emptyLabel:"emptyLabel",subcategories:"subcategories",toggled:"toggled"},outputs:{change:"change"},features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0},{provide:l.Cf,useExisting:(0,t.Gpc)(()=>i),multi:!0}]),t.TTD],decls:4,vars:5,consts:[[1,"ngx-toggle"],[4,"ngIf"],["type","checkbox",1,"ngx-toggle-input",3,"formControl","ngModel","click","ngModelChange"],[1,"ngx-toggle-custom-input"],["class","ngx-toggle-label-visible",4,"ngIf"],["class","ngx-toggle-label-hidden",4,"ngIf"],[1,"ngx-toggle-label-visible"],[1,"ngx-toggle-label-hidden"]],template:function(r,h){1&r&&(t.TgZ(0,"label",0),t.YNc(1,e,4,3,"ng-container",1),t.TgZ(2,"input",2),t.NdJ("click",function(){return h.emitToggleChange()})("ngModelChange",function(N){return h.toggled=N}),t.qZA(),t._UZ(3,"span",3),t.qZA()),2&r&&(t.ekj("subcategories",h.subcategories),t.xp6(1),t.Q6J("ngIf",!h.emptyLabel),t.xp6(1),t.Q6J("formControl",h.formControl)("ngModel",h.toggled))},dependencies:[O.O5,l.Wl,l.JJ,l.oH],styles:['.ngx-toggle[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding-left:60px;font-size:12px;color:gray;height:26px}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]{opacity:0;height:100%;width:100%}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background-color:#0f0f11}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{transform:translate(26px)}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]{position:absolute;cursor:pointer;left:0;top:0;background-color:#556274;transition:.4s;width:52px;height:100%;border-radius:34px}.ngx-toggle[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:50%;height:18px;width:18px;left:4px;bottom:4px;background-color:#fff;transition:.4s}.ngx-toggle.subcategories[_ngcontent-%COMP%]{height:20px;padding-left:27px}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{transform:translate(19px)}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]{width:40px}.ngx-toggle.subcategories[_ngcontent-%COMP%]   .ngx-toggle-custom-input[_ngcontent-%COMP%]:before{width:14px;height:14px;bottom:3px}.ngx-toggle-label-visible[_ngcontent-%COMP%], .ngx-toggle-label-hidden[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#556274}'],changeDetection:0}),i})()},75092:(E,C,o)=>{o.d(C,{e:()=>O});var t=o(69808),l=o(93075),f=o(5e3);let O=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=f.oAB({type:m}),m.\u0275inj=f.cJS({imports:[t.ez,l.UX]}),m})()},59538:(E,C,o)=>{o.r(C),o.d(C,{AdminOfferCategoriesModule:()=>K});var t=o(69808),l=o(63807),f=o(97582),O=o(70771),m=o(14739),d=o(44987),c=o(39300),e=o(5e3),a=o(93075),i=o(26402),p=o(56913),r=o(21729),h=o(5214),B=o(13114),N=o(43607);function U(s,g){if(1&s&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&s){const n=e.oxw();e.xp6(1),e.hij(" ",n.errorMessage," ")}}let v=class{constructor(g,n,_){this._formBuilder=g,this._categoriesService=n,this._hotToastrService=_,this.b2bNgxInputThemeEnum=O.T,this.b2bNgxButtonThemeEnum=m.n,this.formGroup=this.getFormGroup(),this.level1Categories=[],this.level2Categories=[],this.level3Categories=[],this.errorMessage=""}setLevel1Categories(){this._categoriesService.getCategories$().pipe((0,d.t)(this)).subscribe(g=>{this.level1Categories=g})}setLevel2Categories(){this.formGroup.get("selectLevel1Category").valueChanges.pipe((0,d.t)(this),(0,c.h)(g=>!!g)).subscribe(g=>{var n;this.level2Categories=null===(n=this.level1Categories.find(_=>_._id===g))||void 0===n?void 0:n.children})}setLevel3Categories(){this.formGroup.get("selectLevel2Category").valueChanges.pipe((0,d.t)(this),(0,c.h)(g=>!!g)).subscribe(g=>{var n;this.level3Categories=null===(n=this.level2Categories.find(_=>_._id===g))||void 0===n?void 0:n.children})}ngOnInit(){this.setLevel1Categories(),this.setLevel2Categories(),this.setLevel3Categories()}createCategory(){const g=this.formGroup.get("selectLevel1Category").value,n=this.formGroup.get("selectLevel2Category").value,_=this.formGroup.get("inputLevel1Category").value,b=this.formGroup.get("inputLevel2Category").value,u=this.formGroup.get("inputLevel3Category").value;this.errorMessage="";let M="",P="",x="";if(_&&b&&u)M={name:_},P={name:b},x={name:u};else if(g&&b&&u)M={id:g},P={name:b},x={name:u};else{if(!(g&&n&&u))return void(this.errorMessage="To create a category you have to fill all fields; Each level have to be filled with select (already exist category) or with name (new one); You cant select 3 level category");M={id:g},P={id:n},x={name:u}}this._categoriesService.createCategory(M,P,x).pipe((0,d.t)(this),this._hotToastrService.observe({loading:"Category is creating...",success:"Category successfully created",error:"Categories creating failed"})).subscribe()}updateCategory(){const g=this.formGroup.get("selectLevel1Category").value,n=this.formGroup.get("selectLevel2Category").value,_=this.formGroup.get("selectLevel3Category").value,b=this.formGroup.get("inputLevel1Category").value,u=this.formGroup.get("inputLevel2Category").value,M=this.formGroup.get("inputLevel3Category").value,P=this.formGroup.get("toggleLevel1Category").value,x=this.formGroup.get("toggleLevel2Category").value,A=this.formGroup.get("toggleLevel3Category").value;this.errorMessage="";let y="",T="",L="";if(g&&(b||P))y=g,T=b,L=P;else if(n&&(u||x))y=n,T=u,L=x;else{if(!_||!M&&!A)return void(this.errorMessage="To update a category you have to select it and enter a new name");y=_,T=M,L=A}this._categoriesService.updateCategory(y,T,L).pipe((0,d.t)(this),this._hotToastrService.observe({loading:"Category is updating...",success:"Category successfully updated",error:"Categories updating failed"})).subscribe()}getFormGroup(){return this._formBuilder.group({selectLevel1Category:[null],selectLevel2Category:[null],selectLevel3Category:[null],inputLevel1Category:[null],inputLevel2Category:[null],inputLevel3Category:[null],toggleLevel1Category:[null],toggleLevel2Category:[null],toggleLevel3Category:[null]})}};v.\u0275fac=function(g){return new(g||v)(e.Y36(a.qu),e.Y36(i.G),e.Y36(p.jE))},v.\u0275cmp=e.Xpm({type:v,selectors:[["b2b-admin-offer"]],decls:29,vars:10,consts:[[1,"admin-offer-categories"],[1,"admin-offer-categories__create"],[1,"admin-offer-categories__create-title"],[1,"admin-offer-categories__create-sub-title"],[1,"admin-offer-categories__create-form",3,"formGroup"],["formControlName","selectLevel1Category","bindValue","_id","bindLabel","name","placeholder","Select level 1 category",1,"admin-offer-categories__create-select",3,"options"],["formControlName","selectLevel2Category","bindValue","_id","bindLabel","name","placeholder","Select level 2 category",1,"admin-offer-categories__create-select",3,"options"],["formControlName","selectLevel3Category","bindValue","_id","bindLabel","name","placeholder","Select level 3 category",1,"admin-offer-categories__create-select",3,"options"],[1,"admin-offer-categories__create-divider"],["formControlName","inputLevel1Category","placeholder","Create / Update level 1 category",1,"admin-offer-categories__create-input",3,"theme"],["formControlName","inputLevel2Category","placeholder","Create / Update level 2 category",1,"admin-offer-categories__create-input",3,"theme"],["formControlName","inputLevel3Category","placeholder","Create / Update level 3 category",1,"admin-offer-categories__create-input",3,"theme"],["formControlName","toggleLevel1Category",1,"admin-offer-categories__create-toggle"],["formControlName","toggleLevel2Category",1,"admin-offer-categories__create-toggle"],["formControlName","toggleLevel3Category",1,"admin-offer-categories__create-toggle"],["b2bNgxButton","","type","button",1,"admin-offer-categories__create-button",3,"theme","click"],["b2bNgxButton","","type","button",1,"admin-offer-categories__update-button",3,"theme","click"],["class","admin-offer-categories__error-message",4,"ngIf"],[1,"admin-offer-categories__error-message"]],template:function(g,n){1&g&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Create / Update category"),e.qZA(),e.TgZ(4,"p",3),e._uU(5," To create a category you have to fill all levels "),e.qZA(),e.TgZ(6,"p",3),e._uU(7," To update a category you have to select it and enter the new name "),e.qZA(),e.TgZ(8,"form",4),e._UZ(9,"b2b-ngx-select",5)(10,"b2b-ngx-select",6)(11,"b2b-ngx-select",7),e.TgZ(12,"p",8),e._uU(13,"OR"),e.qZA(),e.TgZ(14,"p",8),e._uU(15,"OR"),e.qZA(),e.TgZ(16,"p",8),e._uU(17,"OR"),e.qZA(),e._UZ(18,"b2b-ngx-input",9)(19,"b2b-ngx-input",10)(20,"b2b-ngx-input",11)(21,"b2b-ngx-toggle",12)(22,"b2b-ngx-toggle",13)(23,"b2b-ngx-toggle",14),e.TgZ(24,"button",15),e.NdJ("click",function(){return n.createCategory()}),e._uU(25," Create category "),e.qZA(),e.TgZ(26,"button",16),e.NdJ("click",function(){return n.updateCategory()}),e._uU(27," Update category "),e.qZA()(),e.YNc(28,U,2,1,"p",17),e.qZA()()),2&g&&(e.xp6(8),e.Q6J("formGroup",n.formGroup),e.xp6(1),e.Q6J("options",n.level1Categories),e.xp6(1),e.Q6J("options",n.level2Categories),e.xp6(1),e.Q6J("options",n.level3Categories),e.xp6(7),e.Q6J("theme",n.b2bNgxInputThemeEnum.BACKGROUND_WHITE),e.xp6(1),e.Q6J("theme",n.b2bNgxInputThemeEnum.BACKGROUND_WHITE),e.xp6(1),e.Q6J("theme",n.b2bNgxInputThemeEnum.BACKGROUND_WHITE),e.xp6(4),e.Q6J("theme",n.b2bNgxButtonThemeEnum.BACKGROUND_BLUE),e.xp6(2),e.Q6J("theme",n.b2bNgxButtonThemeEnum.BACKGROUND_WHITE),e.xp6(2),e.Q6J("ngIf",n.errorMessage))},dependencies:[t.O5,r.F,h.f,B.B,N.t,a._Y,a.JJ,a.JL,a.sg,a.u],styles:[".admin-offer-categories[_ngcontent-%COMP%]{padding:30px}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-sub-title[_ngcontent-%COMP%]{margin-top:5px}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:50px}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-divider[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-input[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-toggle[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-select[_ngcontent-%COMP%]{width:30%}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-divider.admin-offer-categories__create-divider[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-input.admin-offer-categories__create-divider[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-toggle.admin-offer-categories__create-divider[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-select.admin-offer-categories__create-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;font-weight:700}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-divider.admin-offer-categories__create-toggle[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-input.admin-offer-categories__create-toggle[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-toggle.admin-offer-categories__create-toggle[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-select.admin-offer-categories__create-toggle[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__update-button[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-button[_ngcontent-%COMP%]{width:30%;padding:15px 0;margin-top:50px}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__update-button.admin-offer-categories__create-button[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-button.admin-offer-categories__create-button[_ngcontent-%COMP%]{margin-left:15%}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__update-button.admin-offer-categories__update-button[_ngcontent-%COMP%], .admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__create[_ngcontent-%COMP%]   .admin-offer-categories__create-form[_ngcontent-%COMP%]   .admin-offer-categories__create-button.admin-offer-categories__update-button[_ngcontent-%COMP%]{margin-right:15%}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__update[_ngcontent-%COMP%]{margin-top:50px}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__update[_ngcontent-%COMP%]   .admin-offer-categories__update-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.admin-offer-categories[_ngcontent-%COMP%]   .admin-offer-categories__error-message[_ngcontent-%COMP%]{text-align:center;margin-top:30px;color:#d0021b}"],changeDetection:0}),v=(0,f.gn)([(0,d.c)()],v);const D=[{path:"",component:v}];let I=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[l.Bz.forChild(D),l.Bz]}),s})();var G=o(94418),Z=o(97631),J=o(59026),R=o(75092);let K=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[t.ez,I,G.r,J.l,Z.F,R.e,a.UX]}),s})()}}]);