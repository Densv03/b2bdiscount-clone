{"version":3,"file":"src_app_client_pages_client-email-verify_client-email-verify_module_ts.js","mappings":";;;;;;;;;;;;;;;;AACuD;AAC6B;;;AAEpF,MAAM,MAAM,GAAW;IACtB;QACC,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6FAA0B;KACrC;CACD,CAAC;AAMK,MAAM,8BAA8B;;4GAA9B,8BAA8B;2HAA9B,8BAA8B;+HAHhC,kEAAqB,CAAC,MAAM,CAAC,EAC7B,yDAAY;mIAEV,8BAA8B,oFAFhC,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;ACbwB;AAEmB;AACb;AACF;AACA;AACnD,4DAA4D;AAC0B;AACF;AAChC;;AAgB7C,MAAM,uBAAuB;;8FAAvB,uBAAuB;oHAAvB,uBAAuB;wHAXlC,yDAAY;QACZ,uDAAW;QACX,+DAAmB;QACnB,+FAA8B;QAC9B,6DAAiB;QACjB,+DAAkB;QAClB,6DAAiB;QACjB,gEAAe;mIAIJ,uBAAuB,mBAbpB,6FAA0B,aAExC,yDAAY;QACZ,uDAAW;QACX,+DAAmB;QACnB,+FAA8B;QAC9B,6DAAiB;QACjB,+DAAkB;QAClB,6DAAiB;QACjB,gEAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfM;AAE+B;AACF;AAGe;AACV;;;;;;;;;;;;;;ICgBrD,iFAA+B;IAAA,gEAAK;IAAA,4DAAO;;;IDDlC,0BAA0B,SAA1B,0BAA0B;IAatC,YACkB,IAAuB,EACvB,gBAAiC,EACjC,gBAAkC,EAClC,eAA+B,EAC/B,YAAyB,EACzB,YAAyB,EACzB,YAAyB,EACzB,OAAe;;QAPf,SAAI,GAAJ,IAAI,CAAmB;QACvB,qBAAgB,GAAhB,gBAAgB,CAAiB;QACjC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,oBAAe,GAAf,eAAe,CAAgB;QAC/B,iBAAY,GAAZ,YAAY,CAAa;QACzB,iBAAY,GAAZ,YAAY,CAAa;QACzB,iBAAY,GAAZ,YAAY,CAAa;QACzB,YAAO,GAAP,OAAO,CAAQ;QAlBjB,0BAAqB,GAAG,kEAAqB,CAAC;QAC9C,yBAAoB,GAAG,gEAAoB,CAAC;QAE5D,eAAU,GAAG,IAAI,CAAC;QAElB,eAAU,GAAG,GAAG,CAAC;QAEjB,oBAAe,GAAG,IAAI,CAAC;QAatB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;YAC5C,KAAK,EAAE,IAAI;YACX,QAAQ,EAAE,IAAI;SACd,CAAC,CAAC;QACH,IAAI,CAAC,CAAC,WAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,0CAAG,OAAO,CAAC,GAAE;YAClE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACvE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;SACpF;aAAM;YACN,IAAI,CAAC,eAAe,CAAC,WAAW;iBAC9B,IAAI,CACJ,qEAAc,CAAC,IAAI,CAAC,EACpB,yCAAG,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAC1C;iBACA,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;gBACpB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;SACJ;IACF,CAAC;IAED,eAAe;QACd,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;QAC5C,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAED,UAAU,CAAC,QAAa;QACvB,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,OAAO,CAAC;QACZ,IAAI,OAAO,CAAC;QAEZ,MAAM,iBAAiB,GAAG,8CAAQ,CAAC,IAAI,CAAC;aACtC,IAAI,CAAC,qEAAc,CAAC,IAAI,CAAC,CAAC;aAC1B,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAChB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;YACjC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;YAEjC,OAAO,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC;YACjD,OAAO,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC;YAEjD,QAAQ,CAAC,WAAW,GAAG,OAAO,GAAG,GAAG,GAAG,OAAO,CAAC;YAE/C,EAAE,KAAK,CAAC;YACR,IAAI,KAAK,GAAG,CAAC,EAAE;gBACd,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;gBAC1B,iBAAiB,CAAC,WAAW,EAAE,CAAC;aAChC;QACF,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc;QACb,IAAI,CAAC,YAAY;aACf,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;aACtC,IAAI,CAAC,qEAAc,CAAC,IAAI,CAAC,CAAC;aAC1B,SAAS,CAAC,GAAG,EAAE;YACf,IAAI,CAAC,gBAAgB,CAAC,IAAI,CACzB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,YAAY,CAAC,EAC3C;gBACC,WAAW,EAAE,IAAI;gBACjB,EAAE,EAAE,iBAAiB;gBACrB,KAAK,EAAE;oBACN,MAAM,EAAE,mBAAmB;iBAC3B;gBACD,SAAS,EAAE,KAAK;aAChB,CACD,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS,CAAC,SAAS,GAAG,KAAK;QAC1B,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;QAC7C,IAAI,IAAI,CAAC,eAAe,IAAI,SAAS,EAAE;YACtC,IAAI,CAAC,YAAY;iBACf,OAAO,EAAE;iBACT,IAAI,CACJ,0CAAI,CAAC,CAAC,CAAC,EACP,+CAAS,CAAC,CAAC,IAAI,EAAE,EAAE;gBAClB,MAAM,IAAI,GAAG;oBACZ,QAAQ,EAAE,IAAI,CAAC,KAAK;oBACpB,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;iBAChC,CAAC;gBACF,OAAO,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAChD,CAAC,CAAC,CACF;iBACA,SAAS,CAAC,GAAG,EAAE;gBACf,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACpC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CACzB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,YAAY,CAAC,EAC3C;oBACC,WAAW,EAAE,IAAI;oBACjB,EAAE,EAAE,iBAAiB;oBACrB,KAAK,EAAE;wBACN,MAAM,EAAE,mBAAmB;qBAC3B;oBACD,SAAS,EAAE,KAAK;iBAChB,CACD,CAAC;YACH,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;IACjE,CAAC;IAEM,kBAAkB;IACzB,CAAC;CACD;oGAhIY,0BAA0B;wHAA1B,0BAA0B;;;;;;QC5BvC,yEAAmC;QAClC,oEAAiD;QACjD,yEAAyC;QACxC,oEAAwC;QACxC,uEAA6C;QAAA,uDAAsC;;QAAA,4DAAI;QACvF,uEAAM;QACL,uDACD;;QAAA,4DAAO;QACP,0EAAwD;QAItD,wJAAY,cAAU,IAAI,CAAC,IAAC;QAH7B,4DAQ4D;QAC5D,0EAAqD;QAAxB,gJAAS,eAAW,IAAC;QAAlD,4DAAqD;QAEtD,0EAAiD;QAE/C,mJAAS,oBAAgB,IAAC;QAM1B,wDACA;;QAAA,2HAA2C;QAC5C,4DAAS;QAEV,4EAAuD;QACtD,wDACD;;QAAA,4DAAO;QAER,2EAA2C;QAEzC,wDAAqD;;QAAA,wEAAM;QAAC,wDAA4C;;QAAA,4DAAO;QAC/G,wDACA;;QAAA,8EAAuC;QAA/B,mJAAS,wBAAoB,IAAC;QAAC,wDAA6C;;QAAA,4DAAS;QAC7F,wDACD;;QAAA,4DAAI;;QAtCyC,0DAAsC;QAAtC,uJAAsC;QAElF,0DACD;QADC,qKACD;QAQE,0DAAqG;QAArG,gMAAqG;QAFrG,wFAA2B;QAY3B,0DAAuB;QAAvB,oFAAuB;QAGvB,0DACA;QADA,8KACA;QAAa,0DAAgB;QAAhB,gFAAgB;QAI9B,0DACD;QADC,2KACD;QAIC,0DAAqD;QAArD,iLAAqD;QAAO,0DAA4C;QAA5C,wKAA4C;QACxG,0DACA;QADA,kLACA;QAAuC,0DAA6C;QAA7C,gKAA6C;QACpF,0DACD;QADC,kLACD;;ADdW,0BAA0B;IANtC,mEAAY,EAAE;GAMF,0BAA0B,CAgItC;AAhIsC;;;;;;;;;;;;;;;;;AE5BvC;AACA;AACO,SAASE,QAAT,CAAkBC,MAAM,GAAG,CAA3B,EAA8BC,SAAS,GAAGJ,4DAA1C,EAA0D;EAC7D,IAAIG,MAAM,GAAG,CAAb,EAAgB;IACZA,MAAM,GAAG,CAAT;EACH;;EACD,OAAOF,6CAAK,CAACE,MAAD,EAASA,MAAT,EAAiBC,SAAjB,CAAZ;AACH","sources":["./src/app/client/pages/client-email-verify/client-email-verify-routing.module.ts","./src/app/client/pages/client-email-verify/client-email-verify.module.ts","./src/app/client/pages/client-email-verify/layout/client-email-verify.component.ts","./src/app/client/pages/client-email-verify/layout/client-email-verify.component.html","./node_modules/rxjs/dist/esm/internal/observable/interval.js"],"sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { ClientEmailVerifyComponent } from \"./layout/client-email-verify.component\";\n\nconst routes: Routes = [\n\t{\n\t\tpath: \"\",\n\t\tcomponent: ClientEmailVerifyComponent,\n\t},\n];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule],\n})\nexport class ClientEmailVerifyRoutingModule {}\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { B2bNgxButtonModule } from \"@b2b/ngx-button\";\nimport { B2bNgxImageModule } from \"@b2b/ngx-image\";\nimport { B2bNgxInputModule } from \"@b2b/ngx-input\";\n// import { ErrorTailorModule } from \"@ngneat/error-tailor\";\nimport { ClientEmailVerifyRoutingModule } from \"./client-email-verify-routing.module\";\nimport { ClientEmailVerifyComponent } from \"./layout/client-email-verify.component\";\nimport {TranslateModule} from \"@ngx-translate/core\";\n\n@NgModule({\n\tdeclarations: [ClientEmailVerifyComponent],\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tReactiveFormsModule,\n\t\tClientEmailVerifyRoutingModule,\n\t\tB2bNgxImageModule,\n\t\tB2bNgxButtonModule,\n\t\tB2bNgxInputModule,\n\t\tTranslateModule,\n\t\t// ErrorTailorModule,\n\t],\n})\nexport class ClientEmailVerifyModule {}\n","import {\n\tAfterViewInit,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tViewChild,\n} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {B2bNgxButtonThemeEnum} from '@b2b/ngx-button';\nimport {B2bNgxInputThemeEnum} from '@b2b/ngx-input';\nimport {HotToastService} from '@ngneat/hot-toast';\nimport {FormBuilder, FormControl} from '@angular/forms';\nimport {UntilDestroy, untilDestroyed} from '@ngneat/until-destroy';\nimport {interval, map, switchMap, take, tap} from 'rxjs';\nimport {\n\tClientContactUsModalComponent\n} from '../../../components/client-contact-us-modal/client-contact-us-modal.component';\nimport {UserService} from '../../client-profile/services/user/user.service';\nimport {AuthService} from 'src/app/auth/services/auth/auth.service';\nimport {User} from 'src/app/core/models/user/user.model';\nimport {TranslateService} from \"@ngx-translate/core\";\n\n@UntilDestroy()\n@Component({\n\tselector: 'b2b-client-email-verify',\n\ttemplateUrl: './client-email-verify.component.html',\n\tstyleUrls: ['./client-email-verify.component.scss'],\n})\nexport class ClientEmailVerifyComponent implements AfterViewInit {\n\t@ViewChild('time') timeRef: ElementRef;\n\n\tpublic readonly b2bNgxButtonThemeEnum = B2bNgxButtonThemeEnum;\n\tpublic readonly b2bNgxInputThemeEnum = B2bNgxInputThemeEnum;\n\n\tisDisabled = true;\n\temail: string;\n\tinputWidth = 120;\n\tformControl: FormControl;\n\tisInputDisabled = true;\n\tuser: User;\n\n\tconstructor(\n\t\tprivate readonly _cdr: ChangeDetectorRef,\n\t\tprivate readonly _hotToastService: HotToastService,\n\t\tprivate readonly translateService: TranslateService,\n\t\tprivate readonly _activatedRoute: ActivatedRoute,\n\t\tprivate readonly _authService: AuthService,\n\t\tprivate readonly _formBuilder: FormBuilder,\n\t\tprivate readonly _userService: UserService,\n\t\tprivate readonly _router: Router\n\t) {\n\t\tthis.formControl = this._formBuilder.control({\n\t\t\tvalue: null,\n\t\t\tdisabled: true,\n\t\t});\n\t\tif (!!this._router.getCurrentNavigation().extras.state?.['email']) {\n\t\t\tthis.email = this._router.getCurrentNavigation().extras.state['email'];\n\t\t\tthis.formControl.setValue(this._router.getCurrentNavigation().extras.state['email'])\n\t\t} else {\n\t\t\tthis._activatedRoute.queryParams\n\t\t\t\t.pipe(\n\t\t\t\t\tuntilDestroyed(this),\n\t\t\t\t\tmap((queryParams) => queryParams['email'])\n\t\t\t\t)\n\t\t\t\t.subscribe((email) => {\n\t\t\t\t\tthis.email = email;\n\t\t\t\t\tthis.formControl.setValue(email);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tngAfterViewInit() {\n\t\tconst duration = this.timeRef.nativeElement;\n\t\tthis.startTimer(duration);\n\t}\n\n\tstartTimer(duration: any): void {\n\t\tlet timer = 60;\n\t\tlet minutes;\n\t\tlet seconds;\n\n\t\tconst intervalSubscribe = interval(1000)\n\t\t\t.pipe(untilDestroyed(this))\n\t\t\t.subscribe((x) => {\n\t\t\t\tminutes = Math.floor(timer / 60);\n\t\t\t\tseconds = Math.floor(timer % 60);\n\n\t\t\t\tminutes = minutes < 10 ? '0' + minutes : minutes;\n\t\t\t\tseconds = seconds < 10 ? '0' + seconds : seconds;\n\n\t\t\t\tduration.textContent = minutes + ':' + seconds;\n\n\t\t\t\t--timer;\n\t\t\t\tif (timer < 0) {\n\t\t\t\t\tthis.isDisabled = false;\n\t\t\t\t\tthis._cdr.detectChanges();\n\t\t\t\t\tintervalSubscribe.unsubscribe();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tsendEmailAgain() {\n\t\tthis._authService\n\t\t\t.sendEmailAgain(this.formControl.value)\n\t\t\t.pipe(untilDestroyed(this))\n\t\t\t.subscribe(() => {\n\t\t\t\tthis._hotToastService.show(\n\t\t\t\t\tthis.translateService.instant('AUTH.CHECK'),\n\t\t\t\t\t{\n\t\t\t\t\t\tdismissible: true,\n\t\t\t\t\t\tid: 'email_check_msg',\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tborder: '1px solid #E63D3D',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tautoClose: false,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t}\n\n\teditEmail(emitEvent = false) {\n\t\tthis.isInputDisabled = !this.isInputDisabled;\n\t\tif (this.isInputDisabled || emitEvent) {\n\t\t\tthis._authService\n\t\t\t\t.getUser()\n\t\t\t\t.pipe(\n\t\t\t\t\ttake(1),\n\t\t\t\t\tswitchMap((user) => {\n\t\t\t\t\t\tconst body = {\n\t\t\t\t\t\t\temailOld: this.email,\n\t\t\t\t\t\t\temailNew: this.formControl.value,\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn this._userService.updateUserEmail(body);\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.subscribe(() => {\n\t\t\t\t\tthis.email = this.formControl.value;\n\t\t\t\t\tthis._hotToastService.show(\n\t\t\t\t\t\tthis.translateService.instant('AUTH.CHECK'),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdismissible: true,\n\t\t\t\t\t\t\tid: 'email_check_msg',\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\tborder: '1px solid #E63D3D',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tautoClose: false,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\n\t\tthis.formControl[this.isInputDisabled ? 'disable' : 'enable']();\n\t}\n\n\tpublic openContactUsModal() {\n\t}\n}\n","<div class=\"registration-complete\">\n\t<div class=\"registration-complete__header\"></div>\n\t<div class=\"registration-complete__body\">\n\t\t<img b2bNgxImage name=\"recieve_email\" />\n\t\t<p class=\"registration-complete__body-title\">{{ \"EMAIL_VERIFY.TITLE\" | translate }}</p>\n\t\t<span>\n\t\t\t{{ \"EMAIL_VERIFY.SUBTITLE\" | translate }}\n\t\t</span>\n\t\t<div class=\"registration-complete__body__email-wrapper\">\n\t\t\t<input\n\t\t\t\tb2bNgxInput\n\t\t\t\ttype=\"text\"\n\t\t\t\t(focusout)=\"editEmail(true)\"\n\t\t\t\t[formControl]=\"formControl\"\n\t\t\t\t[size]=\"formControl.value.length\"\n\t\t\t\t[style]=\"{ 'padding-left': isInputDisabled ? 0 : null, 'padding-right': isInputDisabled ? 0 : null }\"\n\t\t\t\t[theme]=\"isInputDisabled ? null : b2bNgxInputThemeEnum.BACKGROUND_WHITE\"\n\t\t\t\tclass=\"registration-complete__body__email-wrapper-input\" />\n\t\t\t<img b2bNgxImage name=\"edit\" (click)=\"editEmail()\" />\n\t\t</div>\n\t\t<div class=\"registration-complete__body-actions\">\n\t\t\t<button\n\t\t\t\t(click)=\"sendEmailAgain()\"\n\t\t\t\tb2bNgxButton\n\t\t\t\ttype=\"button\"\n\t\t\t\t[disabled]=\"isDisabled\"\n\t\t\t\tclass=\"client-profile-settings-footer-save-button\"\n\t\t\t\t[theme]=\"b2bNgxButtonThemeEnum.BACKGROUND_BLACK\">\n\t\t\t\t{{ \"EMAIL_VERIFY.SEND_EMAIL_AGAIN\" | translate }}\n\t\t\t\t<span #time *ngIf=\"isDisabled\">01:00</span>\n\t\t\t</button>\n\t\t</div>\n\t\t<span class=\"registration-complete__body-notification\">\n\t\t\t{{ \"EMAIL_VERIFY.CONFIRM_EMAIL\" | translate }}\n\t\t</span>\n\t</div>\n\t<div class=\"registration-complete__footer\">\n\t\t<p>\n\t\t\t{{ \"EMAIL_VERIFY.FOOTER_DESCRIPTION_1\" | translate }}<span> {{ \"EMAIL_VERIFY.FOOTER_BOLD\" | translate }}</span>\n\t\t\t{{ \"EMAIL_VERIFY.FOOTER_DESCRIPTION_2\" | translate}}\n\t\t\t<button (click)=\"openContactUsModal()\">{{ \"EMAIL_VERIFY.FOOTER_BUTTON\" | translate}}</button>\n\t\t\t{{ \"EMAIL_VERIFY.FOOTER_DESCRIPTION_3\" | translate}}\n\t\t</p>\n\t</div>\n</div>\n","import { asyncScheduler } from '../scheduler/async';\nimport { timer } from './timer';\nexport function interval(period = 0, scheduler = asyncScheduler) {\n    if (period < 0) {\n        period = 0;\n    }\n    return timer(period, period, scheduler);\n}\n"],"names":["asyncScheduler","timer","interval","period","scheduler"],"sourceRoot":"webpack:///","x_google_ignoreList":[4]}