"use strict";(self.webpackChunkfe_b2b=self.webpackChunkfe_b2b||[]).push([[9402],{8889:(M,O,s)=>{s.d(O,{Z:()=>g});var d=s(99938),t=s(49042),v=s(97858),i=s(65434),a=s(19555),_=s(48611),l=s(64027);function P(h,n){if(1&h&&(t.TgZ(0,"li"),t._UZ(1,"input",2),t.TgZ(2,"label",3)(3,"span",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"span",6),t._uU(6),t.qZA()()()),2&h){const f=n.$implicit,p=n.index,o=t.oxw();t.xp6(),t.Q6J("id",f+p)("formControl",o.formControl)("value",f),t.xp6(),t.Q6J("for",f+p),t.xp6(4),t.Oqu(f)}}let g=class C{constructor(){this.type="checkbox",this.onChange=()=>null,this.onTouched=()=>null,this.formControl=new i.NI(""),this.id=(0,v.U)()}get error(){if(!this.errors)return"";const n=Object.keys(this.errors)[0];return this.errors[n]}ngOnInit(){this.subscribeOnValueChanges()}ngOnChanges(n){n.errors&&this.formControl.setErrors(n.errors.currentValue)}validate(){return this.formControl.errors}subscribeOnValueChanges(){this.formControl.valueChanges.pipe((0,a.t)(this)).subscribe(n=>{this.onChange(n)})}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}writeValue(n){this.formControl.setValue(n)}setDisabledState(n){n?this.formControl.disable():this.formControl.enable()}static#e=this.\u0275fac=function(f){return new(f||C)};static#t=this.\u0275cmp=t.Xpm({type:C,selectors:[["b2b-ngx-radio"]],inputs:{placeholder:"placeholder",checked:"checked",options:"options",customClass:"customClass",errors:"errors"},features:[t._Bn([{provide:i.JU,useExisting:(0,t.Gpc)(()=>C),multi:!0},{provide:i.Cf,useExisting:(0,t.Gpc)(()=>C),multi:!0}]),t.TTD],decls:2,vars:2,consts:[[3,"className"],[4,"ngFor","ngForOf"],["name","radio","type","radio",3,"id","formControl","value"],[3,"for"],[1,"circle"],["b2bNgxIcon","","name","check-white"],[1,"title"]],template:function(f,p){1&f&&(t.TgZ(0,"ul",0),t.YNc(1,P,7,5,"li",1),t.qZA()),2&f&&(t.Q6J("className",p.customClass),t.xp6(),t.Q6J("ngForOf",p.options))},dependencies:[_.sg,i.Fj,i._,i.JJ,i.oH,l.p],styles:["ul[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border:1px solid #556274;border-radius:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:14px;color:#556274}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.column[_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .column   [_nghost-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;margin-left:0;font-size:16px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.01em;text-align:left}"],changeDetection:0})};g=(0,d.gn)([(0,a.c)()],g)},95873:(M,O,s)=>{s.d(O,{I:()=>a});var d=s(48611),t=s(65434),v=s(83474),i=s(49042);let a=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=i.oAB({type:l});static#r=this.\u0275inj=i.cJS({imports:[d.ez,t.UX,v.w]})}return l})();s(8889)},83213:(M,O,s)=>{s.d(O,{b:()=>p});var d=s(1608),t=s(96149),v=s(43224),i=s(37705),a=s(49042),_=s(24377),l=s(49105),P=s(99938);let h=class S extends l.yh{constructor(){super({allOffers:[],myOffers:[],offer:null,savedOffers:[],allOffersCount:0,seaLines:[]})}static#e=this.\u0275fac=function(e){return new(e||S)};static#t=this.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})};h=(0,P.gn)([(0,l.yC)({name:"offers"})],h);let n=(()=>{class o extends l.AE{constructor(e){super(e),this.store=e,this.selectAllOffers$=this.select("allOffers"),this.selectMyOffers$=this.select("myOffers"),this.selectOffer$=this.select("offer"),this.selectSavedOffers$=this.select("savedOffers"),this.selectAllOffersCount$=this.select("allOffersCount"),this.selectSeaLines$=this.select("seaLines")}static#e=this.\u0275fac=function(r){return new(r||o)(a.LFG(h))};static#t=this.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function f(o){return o.photos&&o.photos.length?o.photos[0].lg:null}let p=(()=>{class o{constructor(e,r,c){this._apiService=e,this._offersQuery=r,this._offersStore=c,this.offersSource=new i.X([]),this.savedOffersSource=new i.X([]),this.offersLength=new i.X(0),this.savedOffersLength=new i.X(0),this._endpoint="offers/"}get offers$(){return this.offersSource.asObservable()}get savedOffers$(){return this.savedOffersSource.asObservable()}get offersLength$(){return this.offersLength.asObservable()}get savedOffersLength$(){return this.savedOffersLength.asObservable()}removeAllOffers(){return this._apiService.delete("offers/delete")}getContainerLocation(e){return this._apiService.get(`container/location?${e}`)}getAllOffersCount(){return this._offersQuery.selectAllOffersCount$}getSeaLines(){const{seaLines:e}=this._offersQuery.getValue();return e.length||this._apiService.get("seaLines").subscribe(r=>{this._offersStore.update({seaLines:r})}),this._offersQuery.selectSeaLines$}markAsSold(e){this._apiService.post(`offer/${e}/status/update`,{status:"sold"}).pipe().subscribe()}hideOffer(e){return this._apiService.post(`offer/${e}/hide`,{})}unHideOffer(e){return this._apiService.post(`offer/${e}/unHide`,{})}adminHideOffer(e){return this._apiService.post(`offer/${e}/adminHide`,{})}adminUnHideOffer(e){return this._apiService.post(`offer/${e}/adminUnHide`,{})}deleteOfferSub(e){return this._apiService.delete(`offer/${e}/delete`)}deleteRfq(e){return this._apiService.delete("tradeBid/delete-rfq-admin",{body:{rfqId:e}})}deleteOfferById(e,r){return this._apiService.delete(`offer/${e}/delete`,r)}getOfferById(e){return this._apiService.get(`offer/${e}/`).pipe((0,d.b)(r=>{this._offersStore.update({offer:r})}))}getMyOffers(){return this._apiService.get("my/offers?limit=1").subscribe(e=>{this._offersStore.update({myOffers:e.map(r=>({...r,previewPhoto:f(r)}))})}),this._offersQuery.selectMyOffers$}getOffers(e=""){return this._apiService.get("offers/"+e).pipe((0,t.U)(r=>{const{offers:c,totalCount:u}=r,m=c.map(b=>({...b,previewPhoto:f(b)}));return this._offersStore.update({allOffers:m,allOffersCount:u}),[...m]}))}getActiveOffers(){return this._apiService.get("offers?hideSold=true").pipe((0,t.U)(e=>{const{offers:r,totalCount:c}=e,u=r.map(m=>({...m,previewPhoto:f(m)}));return this._offersStore.update({allOffers:u,allOffersCount:c}),[...u]}))}getSavedOffers(){return this._apiService.get("my/offers/favourites").subscribe(r=>{this._offersStore.update({savedOffers:r.map(c=>({...c,previewPhoto:f(c)}))})}),this._offersQuery.selectSavedOffers$}createOffer(e){return this._apiService.post("offer/create",e)}updateOffer(e,r){return this._apiService.put(`offer/${r}/update`,e)}addFavoriteOffer(e){return this._apiService.post(`user/favourites/${e}/add`,{}).pipe((0,d.b)(()=>{this._offersStore.update({allOffers:this._offersStore.getValue().allOffers.map(r=>({...r,isSaved:r._id===e||r.isSaved}))})}))}removeFavoriteOffer(e){return this._apiService.delete(`user/favourites/${e}/remove`).pipe((0,d.b)(()=>{const{savedOffers:r,allOffers:c}=this._offersQuery.getValue();this._offersStore.update({savedOffers:r.filter(u=>u._id!==e),allOffers:c.map(u=>({...u,isSaved:u._id!==e&&u.isSaved}))})}))}approveOffer(e){return this._apiService.post(`offer/${e}/adminApprovalOffer`,{})}declineOffer(e){return this._apiService.post(`offer/${e}/adminRejectionOffer`,{})}updateOffersList(e){this.getOffers(e).pipe((0,v.P)()).subscribe(r=>{this.offersSource.next(r.rfqList)})}static#e=this.\u0275fac=function(r){return new(r||o)(a.LFG(_.s),a.LFG(n),a.LFG(h))};static#t=this.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);