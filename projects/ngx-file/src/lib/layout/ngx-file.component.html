<div [class]="classNamePrefix + 'ngx-file'">
	<label [class]="classNamePrefix + 'ngx-file-label'"
				 for="file">
		<ng-content></ng-content>
	</label>
	<div [class]="classNamePrefix + 'control'">
		<ul [class]="classNamePrefix + 'ngx-files-list'">
			<button
				class="cursor-pointer"
				b2bNgxButton
				(click)="fileInput.click()"
				[theme]="theme"
				[class]="classNamePrefix + 'ngx-file-button'"
				[class.ng-invalid]="formControl.invalid"
				[class.ng-touched]="formControl.touched">
				@if (showIcon) {
					<img b2bNgxIcon
							 [name]="iconName"
							 alt=""/>
				}
				<span [class]="classNamePrefix + 'ngx-file-button-text'">{{ label }}</span>
			</button>
			<input
				#fileInput
				[multiple]="!acceptSingle"
				[accept]="isPhoto ? 'image/*': '*'"
				[formControl]="formControl"
				(change)="uploadFiles($event)"
				[class]="classNamePrefix + 'ngx-file-input'"
				type="file"
				class="scale-0 hidden"
				id="file"/>

			@if (!isB2BVersion || !files?.length) {
				<div [class]="classNamePrefix + 'empty-file-label'">
					{{ emptyFileLabel }}
				</div>
			}

			@if (isB2BVersion && showFilesList) {
				@for (file of files; track $index) {
					<li (click)="handleClick(file)"
							[class]="classNamePrefix + 'ngx-files-list-item'">
						<img b2bNgxIcon
								 name="document"
								 [class]="classNamePrefix + 'ngx-files-list-item-icon'"
								 alt=""/>
						<span [class]="classNamePrefix + 'ngx-files-list-item-name'">{{ file?.name || file._id }}</span>
						<img (click)="removeFile(file?.name || file._id)"
								 b2bNgxIcon
								 name="cancel"
								 class="cancel"
								 alt="cancel"/>
					</li>
				}
			}
		</ul>
	</div>
</div>
