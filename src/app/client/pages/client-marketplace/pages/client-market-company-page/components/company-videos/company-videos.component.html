<div
	[class.d-none]="!folders.length"
	class="videos">
	<div class="videos__title">Videos</div>
	<div class="carousel mt-3">
		<swiper-container #swiperRef init="false">
			@for (folder of getVideos(folders); track folder.company) {
				<swiper-slide (click)="openVideoModal(folder)">
					<div class="slide">
						<div class="slide__video">
							@if (folder.videos[0].path) {
<!--								<video-->
<!--									(load)="detectOnLoad()"-->
<!--									[src]="getMediaSrc(folder.videos[0].path)"-->
<!--									class="object-cover aspect-square">-->
<!--								</video>-->
								<video
									class="object-cover aspect-square"
									controls
									controlslist="nofullscreen"
									preload="metadata">
									<source [src]="getMediaSrc(folder.videos[0].path) + '#t=0.1'" type="video/mp4">
								</video>
<!--								<video width="400" controls="controls" preload="metadata">-->
<!--									<source src="https://www.w3schools.com/html/mov_bbb.mp4#t=0.1" type="video/mp4">-->
<!--								</video>-->
<!--								@defer (when folder.videos[0].path) {-->
<!--									-->
<!--								} @loading (minimum 3000ms) {-->
<!--									<b2b-page-loader></b2b-page-loader>-->
<!--								}-->
							} @else {
								<img
									class="object-cover aspect-square"
									[src]="getThumbnailUrl(folder.videos[0].link)">
							}
							<svg class="video-control" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"
									 fill="none">
								<g filter="url(#filter0_b_6069_48803)">
									<rect width="48" height="48" rx="4" fill="white" fill-opacity="0.3"/>
								</g>
								<path
									d="M20 28.4805V19.5196C20 18.587 20 18.1207 20.1954 17.856C20.3658 17.6252 20.6271 17.4786 20.9129 17.4536C21.2407 17.4249 21.6386 17.6681 22.4343 18.1544L29.766 22.6348C30.5046 23.0862 30.8739 23.3119 30.9998 23.6025C31.1098 23.8562 31.1098 24.144 30.9998 24.3977C30.8739 24.6882 30.5046 24.9139 29.766 25.3653L29.766 25.3653L22.4343 29.8458C21.6386 30.3321 21.2407 30.5752 20.9129 30.5466C20.6271 30.5216 20.3658 30.375 20.1954 30.1442C20 29.8794 20 29.4131 20 28.4805Z"
									stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
								<circle cx="24" cy="24" r="15.25" stroke="white" stroke-width="1.5"/>
								<defs>
									<filter id="filter0_b_6069_48803" x="-40" y="-40" width="128" height="128"
													filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
										<feFlood flood-opacity="0" result="BackgroundImageFix"/>
										<feGaussianBlur in="BackgroundImageFix" stdDeviation="20"/>
										<feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_6069_48803"/>
										<feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_6069_48803" result="shape"/>
									</filter>
								</defs>
							</svg>


						</div>
						<div class="slide__title truncate">{{ folder.title }}</div>
					</div>
				</swiper-slide>

			}
		</swiper-container>
		<div class="swiper-button-prev swiper-prev-button-videos d-none">
			<svg
				width="40"
				height="40"
				viewBox="0 0 40 40"
				fill="none"
				xmlns="http://www.w3.org/2000/svg">
				<path
					d="M23.3333 10L13.3333 20L23.3333 30"
					stroke="#005DFF"
					stroke-width="3"
					stroke-linecap="round"
					stroke-linejoin="round"/>
			</svg>
		</div>
		<div class="swiper-button-next swiper-next-button-videos d-none">
			<svg
				width="40"
				height="40"
				viewBox="0 0 40 40"
				fill="none"
				xmlns="http://www.w3.org/2000/svg">
				<path
					d="M16.6667 10L26.6667 20L16.6667 30"
					stroke="#005DFF"
					stroke-width="3"
					stroke-linecap="round"
					stroke-linejoin="round"/>
			</svg>
		</div>
		<div class="swiper-pagination swiper-pagination-video"></div>
	</div>
</div>
