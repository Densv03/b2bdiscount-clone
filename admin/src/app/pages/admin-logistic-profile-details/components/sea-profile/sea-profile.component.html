<div class="logistic-wrapper">
	<div class="logistic-header-wrapper">
		<div>
			<input
				#fileInput
				(change)="uploadSeaTariff($event)"
				multiple
				type="file" />

			<button
				class="b2b-ngx-button background background-black"
				(click)="fileInput.click()">
				Upload sea tariffs
			</button>
		</div>

		<div class="country-wrapper">
			<b2b-datepicker
				[formControl]="date"
				inputClassName="datepicker"
				iconName="filled-calendar"
				[iconPosition]="{ left: '10px', top: '20px' }">
			</b2b-datepicker>

			<mat-icon [class.show]="this.date.value" (click)="setNullableValue()"
				>close
			</mat-icon>
		</div>
	</div>

	<ng-container *ngIf="totalCount$ | async; else noProfiles">
		<table
			mat-table
			[dataSource]="dataSource"
			class="mat-elevation-z8 w-100 mt-4 no-background">
			<ng-container matColumnDef="portFrom">
				<th mat-header-cell *matHeaderCellDef>Port from</th>
				<td mat-cell *matCellDef="let row">{{ row.portFrom?.name }}</td>
			</ng-container>

			<ng-container matColumnDef="countryFrom">
				<th mat-header-cell *matHeaderCellDef>Country from</th>
				<td mat-cell *matCellDef="let row">{{ row.countryFrom?.name }}</td>
			</ng-container>

			<ng-container matColumnDef="portTo">
				<th mat-header-cell *matHeaderCellDef>Port to</th>
				<td mat-cell *matCellDef="let row">{{ row.portTo?.name }}</td>
			</ng-container>

			<ng-container matColumnDef="countryTo">
				<th mat-header-cell *matHeaderCellDef>Country to</th>
				<td mat-cell *matCellDef="let row">{{ row.countryTo?.name }}</td>
			</ng-container>

			<ng-container matColumnDef="validDateFrom">
				<th mat-header-cell *matHeaderCellDef>Date from</th>
				<td mat-cell *matCellDef="let row">
					{{ row.validDateFrom | date: 'dd.MM.yyyy' }}
				</td>
			</ng-container>

			<ng-container matColumnDef="validDateTo">
				<th mat-header-cell *matHeaderCellDef>Date to</th>
				<td mat-cell *matCellDef="let row">
					{{ row.validDateTo | date: 'dd.MM.yyyy' }}
				</td>
			</ng-container>

			<ng-container matColumnDef="actions">
				<th mat-header-cell *matHeaderCellDef>Actions</th>
				<td mat-cell *matCellDef="let company">
					<div class="actions-block">
						<button mat-icon-button (click)="deleteTariff(company)">
							<mat-icon>delete</mat-icon>
						</button>
					</div>
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
		</table>

		<b2b-pagination
			[currentPage]="currentPage"
			[length]="totalCount$ | async"
			[perPage]="productsLimit"
			(togglePageNumber)="togglePage($event)"></b2b-pagination>
	</ng-container>

	<ng-template #noProfiles>
		<h3>No companies found</h3>
	</ng-template>
</div>
