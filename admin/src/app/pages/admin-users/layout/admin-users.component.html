<div class="admin-users">
	<button
		b2bNgxButton
		[theme]="b2bNgxButtonThemeEnum.BACKGROUND_BLACK"
		(click)="export()"
		class="admin-offers__button">
		Export
	</button>

	<b2b-admin-users-filters
		[categories]="categories"
		[formControl]="filtersControl">
	</b2b-admin-users-filters>
	<div class="admin-users__table">
		<ngx-datatable
			class="material"
			[rows]="users$ | async"
			[columns]="columns"
			[columnMode]="columnMode.force"
			[headerHeight]="50"
			[footerHeight]="50"
			rowHeight="auto"
			[scrollbarH]="true"
			[externalPaging]="true"
			[count]="totalCount"
			[offset]="page"
			[limit]="10"
			[virtualization]="false"
			(activate)="onClick($event)"
			(scroll)="stopImmediatePropagation($event)"
			(page)="setPage($event)">
		</ngx-datatable>
		<!--		<div class="admin-users">-->
		<!--			<div class="admin-users__table">-->
		<!--				<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">-->
		<!--					<ng-container matColumnDef="role.displayName">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Type of User</th>-->
		<!--						<td mat-cell *matCellDef="let element">-->
		<!--							{{ element.role.displayName }}-->
		<!--						</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="rfqQuotes">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Quotes</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element.rfqQuotes }}</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="createdAt">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Registration Date/Time</th>-->
		<!--						<td mat-cell *matCellDef="let element">-->
		<!--							{{ element.createdAt | date: 'yyyy-MM-dd' }}-->
		<!--						</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="fullName">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Full Name</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element.fullName }}</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="company">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Company (optional)</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element.company }}</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="email">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Email</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element.email }}</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="phone.e164Number">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Phone Number</th>-->
		<!--						<td mat-cell *matCellDef="let element">-->
		<!--							{{ element.phone.e164Number }}-->
		<!--						</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="country">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Country</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element.country }}</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="phone.countryCode">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Country (by phone number)</th>-->
		<!--						<td mat-cell *matCellDef="let element">-->
		<!--							{{ element.phone.countryCode }}-->
		<!--						</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="site">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Website</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element.site }}</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="emailConfirmed">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Email Confirmed</th>-->
		<!--						<td mat-cell *matCellDef="let element">-->
		<!--							{{ element.emailConfirmed }}-->
		<!--						</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="socialAuthType">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Social Auth Type</th>-->
		<!--						<td mat-cell *matCellDef="let element">-->
		<!--							{{ element.socialAuthType }}-->
		<!--						</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="lastActivity">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Last activity</th>-->
		<!--						<td mat-cell *matCellDef="let element">-->
		<!--							{{ element.lastActivity }}-->
		<!--						</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="offers">-->
		<!--						<th mat-header-cell *matHeaderCellDef>Offers</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element.offers }}</td>-->
		<!--					</ng-container>-->

		<!--					<ng-container matColumnDef="_id">-->
		<!--						<th mat-header-cell *matHeaderCellDef>id</th>-->
		<!--						<td mat-cell *matCellDef="let element">{{ element._id }}</td>-->
		<!--					</ng-container>-->

		<!--					<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>-->
		<!--				</table>-->

		<!--				<mat-paginator-->
		<!--					[pageSizeOptions]="[5, 10, 20]"-->
		<!--					showFirstLastButtons></mat-paginator>-->
		<!--			</div>-->
		<!--		</div>-->

		<ng-template #headerCategoryOne let-column="column">
			<strong>category__1</strong></ng-template
		>
		<ng-template #editCategoryOne let-row="row" let-value="value">
			<span *ngFor="let category of value">{{ category.name }}</span>
		</ng-template>

		<!--		<ng-template #headerCategoryTwo let-column="column"> <strong>category__2</strong></ng-template>-->
		<!--		<ng-template #editCategoryTwo let-row="row" let-value="value">-->
		<!--			<span *ngFor="let category of value">{{ category.name }}</span>-->
		<!--		</ng-template>-->

		<ng-template #headerPreferences let-column="column">
			<strong>Prefered cargo</strong></ng-template
		>
		<ng-template #editPreferences let-row="row" let-value="value">
			<div class="custom" [class.show]="row && row?.visible">
				<span *ngFor="let category of value">{{ category.name + ', ' }} </span>
			</div>
			<button
				*ngIf="row.category__3.length > 3"
				b2bNgxButton
				[theme]="b2bNgxButtonThemeEnum.BACKGROUND_BLACK"
				(click)="showMore($event, row)">
				{{ row?.visible ? 'Show less' : 'Show More' }}
			</button>
		</ng-template>

		<ng-template #headerOffers let-column="column">
			<strong>Placed offers (offer title)</strong></ng-template
		>
		<ng-template #editOffers let-row="row" let-value="value">
			<span *ngFor="let offer of value">{{ offer.title + ', ' }}</span>
		</ng-template>

		<ng-template #headerOffersDate let-column="column">
			<strong>Placed_offers_data</strong></ng-template
		>
		<ng-template #editOffersDate let-row="row" let-value="value">
			<span *ngFor="let offer of value">{{
				(offer.date | date: 'yy-MM-dd') + ', '
			}}</span>
		</ng-template>

		<ng-template #headerSoldCargo let-column="column">
			<strong>Sold_cargo</strong></ng-template
		>
		<ng-template #editSoldCargo let-row="row" let-value="value">
			<div *ngFor="let offer of value">
				<div *ngIf="offer.deleted && offer.reasonForDeletion">
					<span>{{
						offer.title + ' | ' + '[ ' + offer.reasonForDeletion + ' ]' + ', '
					}}</span>
				</div>
			</div>
		</ng-template>

		<ng-template #headerActions let-column="column">
			<strong>Actions</strong></ng-template
		>
		<ng-template #editActions let-row="row" let-value="value">
			<button
				b2bNgxButton
				[theme]="b2bNgxButtonThemeEnum.BACKGROUND_BLACK"
				(click)="deleteUser($event, value)"
				class="admin-offers__button">
				Delete
			</button>
		</ng-template>
	</div>
	<!-- <app-admin-users-list [users]="users$ | async" [menuOptions]="menuOptions"></app-admin-users-list> -->

	<!-- <b2b-ngx-pagination [length]="totalCount" [perPage]="10" (togglePageNumber)="setPage($event)"></b2b-ngx-pagination> -->
</div>
